<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>📜 다중지능 탐험: 고대의 부름 (버그 최종 수정판)</title>
<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' https://cdn.pixabay.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; media-src https://cdn.pixabay.com;">
<link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Cinzel:wght@700&display=swap" rel="stylesheet">
<style>
:root{ --brown-text: #4a3a2a; --gold: #c89a4b; }
*{box-sizing:border-box}

body{
    margin:0;
    font-family: 'Gowun Dodum', serif;
    background: linear-gradient(170deg, #0d1117 0%, #1e2c40 50%, #161b22 100%);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
}
.game-container {
    background-color: rgba(30, 44, 64, 0.95);
    border: 1px solid var(--gold);
    border-radius: 15px;
    padding: 2.5rem;
    box-shadow: 0 0 30px rgba(0,0,0,0.5);
    width: 90%;
    max-width: 800px;
    text-align: center;
    backdrop-filter: blur(10px);
}
h1 {
    font-family: 'Cinzel', serif;
    font-size: 2.5rem;
    color: var(--gold);
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
    margin-top: 0;
    margin-bottom: 1.5rem;
}
h2 {
    font-size: 1.5rem;
    color: #fff;
    margin-top: 0;
    margin-bottom: 1.5rem;
}

/* Pre-Game Styles */
#pre-game .text-block {
    margin-bottom: 2rem;
    line-height: 1.6;
    font-size: 1.1rem;
    color: #ccc;
}
.input-group {
    margin-bottom: 1.5rem;
}
.input-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
    color: var(--gold);
}
.input-group input {
    width: 100%;
    padding: 12px;
    border: 1px solid #555;
    border-radius: 8px;
    background-color: #2a3a50;
    color: #fff;
    font-size: 1rem;
    transition: border-color 0.3s;
}
.input-group input:focus {
    outline: none;
    border-color: var(--gold);
}
#companion-select {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
}
.char {
    position: relative;
    width: 150px;
    height: 150px;
    border-radius: 50%;
    overflow: hidden;
    border: 3px solid transparent;
    cursor: pointer;
    transition: transform 0.2s, border-color 0.2s, box-shadow 0.2s;
}
.char img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}
.char.selected {
    border: 3px solid var(--gold);
    transform: scale(1.05);
    transition: transform 0.2s;
}
.char:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px var(--gold);
}
.char-name {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 5px;
    font-size: 1.1rem;
    font-weight: bold;
}
.btn {
    padding: 15px 30px;
    border: none;
    border-radius: 8px;
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.2s;
}
#btn-start {
    background-color: var(--gold);
    color: var(--brown-text);
}
#btn-start:disabled {
    background-color: #555;
    cursor: not-allowed;
    transform: none;
}
#btn-start:not(:disabled):hover {
    background-color: #e0b467;
    transform: translateY(-3px);
}

/* Game Styles */
#game-area, #stats-panel, #result-area {
    display: none;
}
#game-area .quest-card {
    background-color: rgba(46, 61, 89, 0.9);
    border-radius: 12px;
    padding: 2rem;
    margin-bottom: 1.5rem;
}
#game-area .quest-title {
    font-family: 'Cinzel', serif;
    font-size: 1.8rem;
    color: var(--gold);
    margin-top: 0;
}
#game-area .quest-text {
    font-size: 1.2rem;
    line-height: 1.8;
    color: #e0e0e0;
}
#game-area .options-list {
    list-style: none;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}
.option-btn {
    background-color: #3b506b;
    color: #fff;
    border: 2px solid #5a7491;
    border-radius: 8px;
    padding: 15px;
    text-align: left;
    transition: background-color 0.2s, border-color 0.2s;
    line-height: 1.5;
}
.option-btn:hover {
    background-color: #4a6380;
    border-color: var(--gold);
}
.option-btn.selected {
    background-color: var(--gold);
    color: var(--brown-text);
    border-color: #fff;
}
#game-area .progress-bar-container {
    width: 100%;
    background-color: #333;
    border-radius: 10px;
    margin-top: 1.5rem;
    overflow: hidden;
}
#game-area .progress-bar {
    height: 15px;
    background-color: var(--gold);
    width: 0;
    transition: width 0.5s;
}

/* Stats Styles */
#stats-panel {
    position: fixed;
    top: 20px;
    right: 20px;
    width: 250px;
    background-color: rgba(30, 44, 64, 0.8);
    border-radius: 10px;
    padding: 1rem;
    color: #fff;
    border: 1px solid #5a7491;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    z-index: 100;
}
#stats-panel h3 {
    margin-top: 0;
    color: var(--gold);
    font-size: 1.2rem;
    border-bottom: 1px solid #444;
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
}
.stat-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
    font-size: 1rem;
}
.stat-name {
    color: #ccc;
}
.stat-value {
    color: #fff;
    font-weight: bold;
}

/* Result Styles */
#result-area {
    padding: 2rem;
}
.result-title {
    font-size: 2rem;
    color: var(--gold);
    margin-bottom: 1rem;
}
.result-text {
    font-size: 1.2rem;
    line-height: 1.8;
    color: #e0e0e0;
    margin-bottom: 2rem;
}
#btn-restart {
    background-color: #3b506b;
    color: #fff;
}
#btn-restart:hover {
    background-color: #4a6380;
}

</style>
</head>
<body>

    <main class="game-container">
        
        <div id="pre-game">
            <h1>다중지능 탐험: 고대의 부름</h1>
            <p class="text-block">
                "진정한 지혜는 한 가지 길에만 있지 않다. 너의 모험은 곧 너의 지능을 탐험하는 여정이 될 것이다."
                <br>
                고대의 기록에 따르면, 인간의 지능은 여덟 가지로 나뉘며, 가장 뛰어난 지능은 모험의 끝에서 진정한 빛을 발한다.
                <br>
                자, 모험가여. 너의 이름을 기록하고, 운명을 함께할 동료를 선택하라.
            </p>
            
            <div class="input-group">
                <label for="input-name">모험가 이름</label>
                <input type="text" id="input-name" placeholder="이름을 입력하세요">
            </div>
            
            <div class="input-group">
                <label for="input-class">소속 (반)</label>
                <input type="text" id="input-class" placeholder="예) 전설의 A반">
            </div>
            
            <h2 class="sub-title">모험을 함께할 동료를 선택하세요</h2>
            <div id="companion-select">
                <div class="char" data-id="prince">
                    <img src="https://cdn.pixabay.com/photo/2021/01/29/18/43/prince-5961601_1280.png" alt="왕자">
                    <span class="char-name">왕자</span>
                </div>
                <div class="char" data-id="princess">
                    <img src="https://cdn.pixabay.com/photo/2021/01/29/18/43/princess-5961602_1280.png" alt="공주">
                    <span class="char-name">공주</span>
                </div>
                <div class="char" data-id="warrior">
                    <img src="https://cdn.pixabay.com/photo/2021/01/29/18/43/warrior-5961603_1280.png" alt="전사">
                    <span class="char-name">전사</span>
                </div>
                <div class="char" data-id="wizard">
                    <img src="https://cdn.pixabay.com/photo/2021/01/29/18/43/wizard-5961604_1280.png" alt="마법사">
                    <span class="char-name">마법사</span>
                </div>
            </div>
            
            <button id="btn-start" class="btn" disabled>모험 시작하기</button>
        </div>
        
        <div id="game-area">
            <div class="quest-card">
                <p id="quest-number">퀘스트 1 / 20</p>
                <h3 id="quest-title" class="quest-title"></h3>
                <p id="quest-text" class="quest-text"></p>
                <ul id="options-list" class="options-list"></ul>
            </div>
            <div class="progress-bar-container">
                <div id="progress-bar" class="progress-bar"></div>
            </div>
        </div>

        <div id="result-area">
            <h3 id="result-title" class="result-title"></h3>
            <p id="result-text" class="result-text"></p>
            <div class="stat-list" id="final-stats"></div>
            <button id="btn-restart" class="btn">다시 시작하기</button>
        </div>

    </main>
    
    <aside id="stats-panel">
        <h3>나의 지능</h3>
        <div id="stats-content"></div>
    </aside>

    <audio id="bgm" src="https://cdn.pixabay.com/download/audio/2023/11/06/audio_f53e08f5d0.mp3?filename=ancient-epic-adventure-172183.mp3"></audio>
    <audio id="sfx-turn" src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_32c9497d3e.mp3?filename=whoosh-1-76882.mp3"></audio>

    <script>
    // DOM 요소 가져오기
    const el = id => document.getElementById(id);

    // 게임 변수
    let player = {
        name: '',
        class: '',
        companion: null
    };
    let scores = {
        linguistic: 0,
        logical: 0,
        spatial: 0,
        bodily: 0,
        musical: 0,
        interpersonal: 0,
        intrapersonal: 0,
        naturalist: 0
    };
    let currentQuestIndex = 0;
    let questLine = null;

    // 지능 이름 매핑 (코드 전체에서 한 번만 정의)
    const mapNames = {
        linguistic: '언어 지능',
        logical: '논리-수학 지능',
        spatial: '공간 지능',
        bodily: '신체-운동 지능',
        musical: '음악 지능',
        interpersonal: '대인관계 지능',
        intrapersonal: '자기이해 지능',
        naturalist: '자연친화 지능'
    };
    const mapNamesForStats = {
        linguistic: '언어',
        logical: '논리',
        spatial: '공간',
        bodily: '신체',
        musical: '음악',
        interpersonal: '대인관계',
        intrapersonal: '자기이해',
        naturalist: '자연'
    };

    // 사운드 객체
    const sounds = {
        bgm: document.getElementById('bgm'),
        turn: document.getElementById('sfx-turn'),
    };
    sounds.bgm.volume = 0.2; // BGM 볼륨 조절

    document.body.addEventListener('click', () => {
        if (sounds.bgm.paused) {
            sounds.bgm.play().catch(e => console.log("BGM 자동재생이 차단되었습니다."));
        }
    }, { once: true });


    /* ====== 퀘스트 데이터 (전체 80개) ====== */
    function q(title, text, a, b, c, d){ return { title, text, options:[a,b,c,d] }; }
    function opt(text, effects){ return {t:text, e:effects}; }

    const quests = {
      // Prince Questline (20 Quests)
      prince: [
        q("왕의 서신", "먼지 쌓인 서고에서 아버지의 흔적이 담긴 낡은 편지를 발견했다. '진정한 왕의 자격은 왕관이 아닌, 백성을 비추는 빛에 있나니. 그 빛을 따라가거라.' 이 수수께끼 같은 유언의 실마리는 어디서부터 찾아야 할까?",
          opt('📜 편지에 쓰인 단어들의 상징적 의미를 파고들어 분석한다.',{linguistic:14}),
          opt('🗺️ 편지에 남은 희미한 지도의 흔적을 따라 직접 현장으로 향한다.',{bodily:12,spatial:6}),
          opt('👥 편지를 마지막으로 만졌을 법한 왕궁의 오랜 신하를 찾아가 대화한다.',{interpersonal:12,logical:6}),
          opt('🌿 편지지에서 희미하게 나는 풀 향기를 단서로, 특정 지역의 식생를 조사한다.',{naturalist:8,spatial:6})
        ),
        q("시장의 현자", "시장에 도착하자, 한 노인이 당신을 알아보고 다가와 속삭였다. '왕께서 찾던 빛은 북쪽 숲의 심장, 가장 오래된 고목에서 나온다네.' 그의 말을 어떻게 받아들여야 할까?",
          opt('💬 노인의 이야기에 진심으로 감사하며, 숲에 대한 다른 전설은 없는지 묻는다.',{interpersonal:12,linguistic:6}),
          opt('🧭 즉시 숲으로 달려가기보다, 먼저 도서관에서 북쪽 숲에 대한 자료를 찾아본다.',{logical:12,linguistic:6}),
          opt('🤝 탐험대를 꾸려 함께 숲으로 떠난다. 여러 눈으로 보는 것이 더 정확할 것이다.',{interpersonal:12,bodily:6}),
          opt('🌲 그의 말이 사실인지 확인하기 위해, 즉시 혼자서 숲의 고목을 찾아 나선다.',{bodily:12,naturalist:6})
        ),
        q("별자리石", "숲길을 걷다, 이끼 낀 바위 위에 고대의 별자리와 닮은 문양이 새겨진 돌을 발견했다. 이 돌은 무엇을 의미할까?",
          opt('✍️ 문양을 양피지에 똑같이 베껴 그리고, 각 상징의 의미를 추론해본다.',{linguistic:12,spatial:4}),
          opt('⭐ 밤하늘의 실제 별자리와 돌의 문양을 대조하여 방향을 찾는다.',{spatial:14,naturalist:4}),
          opt('🪨 돌 주변의 흙과 식물을 관찰하여, 이 돌이 언제부터 이곳에 있었는지 추정한다.',{naturalist:12,logical:4}),
          opt('🤔 잠시 명상에 잠겨, 이 문양이 나에게 어떤 영감을 주는지 내면의 소리에 귀 기울인다.',{intrapersonal:12})
        ),
        q("숲의 울림", "밤이 되자 숲 속에서 규칙적인 북소리 같은 울림이 들려온다. 불안해하는 동료들 사이에서, 당신은 어떻게 행동할까?",
          opt('🎶 울림의 박자와 리듬을 분석하여, 그것이 인공적인 신호인지 자연적인 소리인지 판단한다.',{musical:14,logical:4}),
          opt('🏕️ 즉시 안전한 야영지를 구축하고, 교대로 불침번을 서며 동료들을 안심시킨다.',{bodily:12,interpersonal:8}),
          opt('🤫 소리의 근원지를 향해 조심스럽게 다가가, 정체가 무엇인지 직접 확인한다.',{bodily:12,spatial:4}),
          opt('🤝 동료들을 모아 각자의 의견을 듣고, 다 함께 다음 행동을 결정한다.',{interpersonal:14})
        ),
        q("고목의 비문", "마침내 거대한 고목을 찾았다. 그 앞에는 글자가 거의 지워진 낡은 비문이 서 있다. '오직 [■■] 자만이 빛을 보리라.' 비문의 내용을 어떻게 알아낼까?",
          opt('🔎 남아있는 글자의 형태와 조각들을 조합하여 사라진 단어를 추리한다.',{linguistic:14}),
          opt('📜 주변에서 비문과 비슷한 시대의 다른 유적을 찾아, 사용된 언어의 패턴을 비교 분석한다.',{logical:10,spatial:6}),
          opt('🖐️ 비문 표면을 손으로 직접 문질러, 마모된 글자의 흔적을 감각으로 읽어낸다.',{bodily:12,naturalist:4}),
          opt('❓ '만약 내가 비문을 세웠다면 어떤 단어를 썼을까?' 스스로 질문하며 답을 찾는다.',{intrapersonal:12,linguistic:4})
        ),
        q("가뭄의 마을", "숲을 나오자 극심한 가뭄으로 고통받는 마을을 마주쳤다. 물을 찾아달라는 마을 사람들의 간절한 눈빛을 외면할 수 없다. 어떻게 그들을 도울까?",
          opt('🌊 주변 지형을 정밀하게 분석하여, 지하 수맥이 있을 만한 곳을 찾아낸다.',{logical:12,spatial:8}),
          opt('💪 마을 사람들을 조직하고 격려하며, 다 함께 우물을 파는 작업에 직접 참여한다.',{interpersonal:14,bodily:6}),
          opt('🌱 가뭄에도 잘 자라는 식물들을 추적하여, 물이 있는 곳의 단서를 찾는다.',{naturalist:12}),
          opt('🗣️ 물 분배 문제로 다투는 마을 사람들을 중재하고, 모두가 합의할 규칙을 만든다.',{interpersonal:14,linguistic:6})
        ),
        q("광장의 노래", "마을 광장에서 한 음유시인이 '빛을 잃은 왕관'에 대한 노래를 부르고 있다. 가사 속에 중요한 단서가 있을지도 모른다.",
          opt('🎼 노래의 가사 하나하나를 빠짐없이 기록하고, 그 안에 숨겨진 은유를 분석한다.',{linguistic:12,musical:6}),
          opt('😊 노래가 끝난 후, 음유시인에게 다가가 그의 이야기에 깊은 관심을 보이며 추가 정보를 얻는다.',{interpersonal:12}),
          opt('🗺️ 노래에 묘사된 '세 개의 봉우리'나 '붉은 강' 같은 지형을 지도에서 찾아본다.',{spatial:12}),
          opt('🎵 가사보다는 노래의 슬픈 멜로디에 집중하여, '잃어버린 왕관'의 감정적 의미를 파악한다.',{musical:12,intrapersonal:4})
        ),
        q("국경의 의심", "단서를 따라 도착한 국경 요새. 하지만 수비대는 당신의 신분을 의심하며 길을 열어주지 않는다. 어떻게 이 상황을 해결할까?",
          opt('👑 나의 신분과 여정의 목적을 논리정연하고 설득력 있게 설명하여 신뢰를 얻는다.',{linguistic:14,interpersonal:6}),
          opt('🛡️ 수비대의 경계심을 이해한다고 말하며, 그들의 임무를 존중하는 태도를 보인다.',{interpersonal:16}),
          opt('🔍 지금까지 모아온 증거물(편지, 지도 조각 등)을 제시하여 나의 주장을 증명한다.',{logical:12}),
          opt('⏳ 당장 통과하려 하지 않고, 요새 밖에서 머물며 그들이 마음을 열 때까지 기다린다.',{intrapersonal:12})
        ),
        q("왕의 시험", "마침내 왕 앞에 선 당신. 그는 시험하듯 묻는다. '백성의 행복과 왕국의 안정, 둘 중 하나만 택해야 한다면 무엇을 택하겠는가?' 당신의 답은?",
          opt('💬 '백성의 행복이 곧 왕국의 가장 튼튼한 기반입니다.'라고 답하며 구체적인 정책을 제시한다.',{interpersonal:16,linguistic:6}),
          opt('⚖️ '안정 없는 행복은 신기루와 같으니, 먼저 튼튼한 방벽을 쌓겠습니다.'라고 답한다.',{logical:14,bodily:6}),
          opt('❓ '그 둘은 분리될 수 없습니다. 왜 그런 선택을 해야만 하는가?' 스스로 되묻는다.',{intrapersonal:12,logical:8}),
          opt('🎨 '교육과 예술을 통해 백성들의 마음을 풍요롭게 하는 것이 장기적인 안정의 길입니다.'라고 답한다.',{linguistic:12,musical:4})
        ),
        q("고대의 장치", "마지막 장소의 지도가 당신에게 주어진다. 그곳엔 복잡한 고대 장치가 잠들어 있다. 어떻게 작동시킬까?",
          opt('⚙️ 톱니바퀴와 문양들의 관계를 분석하여, 장치의 논리적인 작동 원리를 파악한다.',{logical:14,spatial:6}),
          opt('✋ 장치의 여러 부분을 직접 만지고 움직여보며, 물리적인 반응을 통해 해법을 찾는다.',{bodily:12}),
          opt('🔊 장치에서 주기적으로 들려오는 미세한 소리의 높낮이와 패턴에서 단서를 찾는다.',{musical:12}),
          opt('🌿 장치 주변에만 자라는 특이한 식물이나 이끼를 통해, 장치의 에너지원을 추측한다.',{naturalist:12})
        ),
        q("길 잃은 아이", "장치를 작동시키자 새로운 길이 열렸다. 하지만 그 길목에서, 겁에 질려 울고 있는 한 아이를 발견했다. 어떻게 할 것인가?",
          opt('❤️ 아이의 눈높이에 맞춰 앉아, 부드러운 목소리로 안심시키며 무슨 일이 있었는지 들어준다.',{interpersonal:14}),
          opt('👣 아이가 걸어온 방향의 발자국이나 흔적을 찾아, 부모를 찾을 단서를 수집한다.',{spatial:12,naturalist:8}),
          opt('🎵 아이의 긴장을 풀어주기 위해, 재미있는 노래를 불러주거나 작은 놀이를 함께 한다.',{musical:10,interpersonal:6}),
          opt('🤔 일단 아이를 안전한 곳으로 데려간 뒤, 침착하게 아이를 찾을 최선의 방법을 계획한다.',{logical:12,intrapersonal:6})
        ),
        q("마을의 전설", "아이를 부모에게 돌려보내자, 마을 사람들이 당신에게 고대의 전설을 들려준다. '세상의 끝에는 모든 지혜가 잠들어 있는 샘이 있다'고 한다. 어떻게 이 전설을 탐색할까?",
          opt('📜 전설에 등장하는 지명과 단어들을 철저히 조사하여, 숨겨진 의미를 파악한다.',{linguistic:14}),
          opt('🗺️ 전설에서 묘사된 지형적 특징들을 지도에 표시하고, 예상 경로를 설정한다.',{spatial:14}),
          opt('👥 마을의 현자나 나이 많은 이들을 찾아가 전설에 대한 더 자세한 이야기를 듣는다.',{interpersonal:12,linguistic:6}),
          opt('🧘‍♀️ 전설의 내용을 곰곰이 생각하며, 내가 중요하게 생각하는 가치와 연결시켜 본다.',{intrapersonal:12,logical:4})
        ),
        q("어둠의 동굴", "전설을 따라가다 어둠과 습기로 가득 찬 동굴을 만났다. 동굴 안에는 길을 잃은 듯한 불빛들이 깜빡인다. 어떻게 동굴을 통과할까?",
          opt('💡 동굴의 지형과 불빛의 패턴을 분석하여, 안전한 길을 찾아낸다.',{logical:14,spatial:8}),
          opt('✋ 동굴 벽을 손으로 직접 문질러, 발의 감각을 이용해 길을 찾는다.',{bodily:14,intrapersonal:6}),
          opt('🔊 동굴에서 들려오는 메아리 소리의 방향을 분석하여, 출구를 짐작한다.',{musical:12}),
          opt('🔦 횃불을 밝혀 주변 환경을 밝히고, 어둠 속에 숨어 있는 위험을 찾아낸다.',{naturalist:12})
        ),
        q("고대 부족", "동굴을 통과하자 외부와 단절된 고대 부족을 만났다. 그들은 낯선 당신을 경계한다. 어떻게 그들과 소통할까?",
          opt('🗣️ 그들의 몸짓과 소리를 주의 깊게 관찰하여, 비언어적인 방식으로 소통을 시도한다.',{linguistic:14,interpersonal:10}),
          opt('🤝 부족민들에게 먼저 다가가, 존중과 평화의 제스처를 보인다.',{interpersonal:16}),
          opt('🎁 그들에게 작은 선물이나 유용한 물건을 건네며 신뢰를 얻는다.',{logical:12,interpersonal:8}),
          opt('🌿 주변의 식물을 이용해 그들의 문화와 자연의 연관성을 파악한다.',{naturalist:12,spatial:6})
        ),
        q("춤의 의식", "부족민들은 당신에게 그들의 전통 의식인 '춤의 의식'에 참여해달라고 요청한다. 어떻게 참여할까?",
          opt('🕺 부족민들의 춤 동작을 유심히 관찰하고, 그들의 리듬을 몸으로 익혀 따라 한다.',{bodily:16,musical:8}),
          opt('🎵 의식에서 연주되는 음악의 특징을 파악하고, 그에 맞는 나만의 춤을 창조한다.',{musical:14,intrapersonal:6}),
          opt('🤔 춤의 의미와 역사를 부족민들에게 물어보며, 의식에 대한 이해를 깊게 한다.',{linguistic:12,interpersonal:8}),
          opt('👀 춤을 추는 부족민들의 표정과 몸짓에서 그들의 감정을 읽고 공감한다.',{interpersonal:14})
        ),
        q("지혜의 샘", "모든 시련을 이겨내고 마침내 지혜의 샘에 도착했다. 샘물은 당신의 과거와 미래를 비춘다. 무엇을 볼 것인가?",
          opt('📚 샘물에 비친 과거의 지식들을 흡수하여, 나의 지능을 더욱 확장한다.',{linguistic:16,logical:10}),
          opt('💡 샘물이 보여주는 미래의 가능성 중, 가장 논리적이고 현실적인 길을 선택한다.',{logical:16,intrapersonal:8}),
          opt('💖 샘물에 비친 사람들의 행복한 모습을 보며, 그들을 위해 무엇을 할 수 있을지 생각한다.',{interpersonal:16,intrapersonal:8}),
          opt('🌌 샘물이 보여주는 우주의 신비와 자연의 섭리를 깊이 관찰한다.',{naturalist:16,spatial:10})
        ),
        q("샘물의 시험", "지혜의 샘은 당신에게 마지막 시험을 제시한다. '가장 위대한 지혜는 무엇인가?' 당신의 답은?",
          opt('💬 '타인의 아픔에 공감하고 사랑하는 마음입니다.'라고 답한다.',{interpersonal:16}),
          opt('🧠 '세상을 이해하고 문제를 해결하는 논리적 사고입니다.'라고 답한다.',{logical:16}),
          opt('🌳 '자연의 순리와 조화를 이해하는 것입니다.'라고 답한다.',{naturalist:16}),
          opt('🎶 '아름다움을 창조하고 감동을 주는 예술적 영감입니다.'라고 답한다.',{musical:16})
        ),
        q("진정한 왕의 귀환", "모든 시험을 통과하고 샘의 축복을 받은 당신. 이제 진정한 왕으로서 왕국으로 돌아갈 시간이다. 어떤 모습으로 돌아갈 것인가?",
          opt('👑 위엄과 지혜를 겸비한 모습으로 돌아가, 왕국을 평화롭게 다스린다.',{linguistic:14,interpersonal:12}),
          opt('💪 백성들을 이끌고 직접 나라를 재건하며, 강인한 리더십을 보여준다.',{bodily:14,interpersonal:10}),
          opt('✨ 백성들에게 새로운 지식과 예술을 전파하며, 문명의 발전을 이끈다.',{logical:14,musical:10}),
          opt('🌿 자연과 인간이 조화롭게 살아가는 이상적인 왕국을 건설한다.',{naturalist:14,intrapersonal:10})
        ),
        q("계승자의 명예", "왕위에 오른 당신은 이제 미래를 위한 결정을 해야 한다. 당신의 후계자는 어떤 자질을 가진 인물이어야 하는가?",
          opt('📚 뛰어난 언어 능력과 지식을 겸비한 학자를 후계자로 지명한다.',{linguistic:14,logical:8}),
          opt('💖 백성을 사랑하고 공감 능력이 뛰어난 인물을 후계자로 삼는다.',{interpersonal:16}),
          opt('⚔️ 위기 상황에 강인하게 대처하고, 백성을 직접 보호할 수 있는 용사를 택한다.',{bodily:14,spatial:8}),
          opt('🧘‍♀️ 자신의 내면을 깊이 이해하고, 백성들의 마음을 헤아릴 수 있는 현자를 선택한다.',{intrapersonal:16})
        ),
        q("평화로운 시대", "당신의 통치 아래 왕국은 평화롭고 번영한다. 백성들은 당신을 영원히 기억할 것이다. 당신의 치세는 어떤 모습으로 역사에 기록될까?",
          opt('✨ 지혜와 정의로움으로 모든 갈등을 해결하고, 평화로운 시대를 이룩한 왕으로 기억된다.',{logical:14,interpersonal:12}),
          opt('🎨 예술과 학문을 장려하여, 문화적 황금기를 이끈 위대한 군주로 칭송받는다.',{musical:14,linguistic:12}),
          opt('🌳 자연과 조화를 이루는 정책으로, 풍요로운 환경을 조성한 환경 친화적인 왕으로 기록된다.',{naturalist:14,bodily:10}),
          opt('❤️ 백성들의 마음을 하나로 모아, 모두가 행복한 공동체를 만든 따뜻한 왕으로 기억된다.',{intrapersonal:14,interpersonal:14})
        )
      ],
      // Princess Questline (20 Quests)
      princess: [
        q("잃어버린 일기장", "성 정원 가장 깊은 곳, 비밀의 샘 근처에서 낡은 일기장을 발견했다. 공주님이 썼을 법한 섬세한 글씨로 '가장 귀한 보석은 마음속에 있다'고 적혀있다. 그 의미를 어떻게 해석해야 할까?",
          opt('✍️ 문장 하나하나의 의미를 깊이 생각하고, 숨겨진 비유와 상징을 찾아본다.',{linguistic:14}),
          opt('🤔 조용히 샘물가에 앉아, 나 자신의 내면을 들여다보며 그 의미를 깨닫고자 한다.',{intrapersonal:14,interpersonal:6}),
          opt('🏰 일기장에 묘사된 정원의 지형과 비밀 통로를 지도에 표시해본다.',{spatial:12}),
          opt('👥 일기장의 필체를 아는 궁중 화가를 찾아가, 일기장의 주인을 추론한다.',{interpersonal:12,logical:4})
        ),
        q("정원의 수수께끼", "일기장에는 '해가 지는 방향으로 일곱 걸음, 그리고 밤의 노래가 끝날 때'라는 알쏭달쏭한 구절이 있다. 이 수수께끼를 어떻게 풀어야 할까?",
          opt('🧭 정확히 서쪽으로 일곱 걸음을 걸은 뒤, 밤의 별자리와 달의 위치를 관찰한다.',{spatial:14,naturalist:6}),
          opt('🎵 밤이 되었을 때, 정원에서 들려오는 모든 소리를 주의 깊게 듣고 패턴을 분석한다.',{musical:12,logical:6}),
          opt('🏃‍♀️ 일곱 걸음을 걷는 가장 효율적인 움직임을 연구하여, 최단 경로로 이동한다.',{bodily:10,logical:6}),
          opt('📖 일기장 속 다른 구절들과 연관성을 찾아, 구절의 진정한 의미를 추론한다.',{linguistic:12})
        ),
        q("궁정 연회", "다음 단서가 궁정 연회에 숨겨져 있다는 것을 알게 되었다. 하지만 사람들로 붐비는 곳에서 단서를 찾는 것은 쉽지 않다. 어떻게 행동할까?",
          opt('🤫 연회장의 모든 대화를 주의 깊게 엿들어, 중요한 정보를 찾아낸다.',{linguistic:14,interpersonal:6}),
          opt('🕺 음악에 맞춰 춤을 추며 자연스럽게 사람들과 어울려 정보를 얻는다.',{bodily:12,interpersonal:8}),
          opt('🖼️ 연회장 벽에 걸린 그림들과 장식품의 배치를 분석하여 단서를 찾는다.',{spatial:12}),
          opt('🤐 조용히 구석에 앉아, 나 자신에게 주어진 임무에 대해 깊이 생각한다.',{intrapersonal:12})
        ),
        q("무도회장의 가면", "무도회에서 가면을 쓴 수상한 사람이 당신에게 귓속말로 '자정의 종소리에 맞춰 정원의 분수대로 오라'고 속삭였다. 어떻게 할까?",
          opt('🕵️‍♀️ 수상한 사람의 걸음걸이와 행동 패턴을 분석하여, 그의 신분을 추정한다.',{bodily:12,logical:6}),
          opt('⏰ 약속 장소에 미리 도착해 분수대 주변의 모든 지형을 살핀다.',{spatial:12,intrapersonal:6}),
          opt('🤝 주변 사람들에게 그 수상한 사람에 대해 물어보며 정보를 모은다.',{interpersonal:14}),
          opt('🎶 자정의 종소리 소리를 기억하며, 그 소리가 울리는 방식에 집중한다.',{musical:12})
        ),
        q("사서의 부탁", "도서관에서 단서를 찾던 중, 사서가 당신에게 곤란한 부탁을 한다. '오래된 책들의 순서가 뒤섞였으니, 제자리를 찾아달라'고 한다. 어떻게 할까?",
          opt('📚 책의 내용과 저술 시기를 분석하여, 논리적인 순서대로 배열한다.',{logical:14,linguistic:6}),
          opt('🏃‍♀️ 책을 들고 빠르게 도서관을 돌아다니며, 원래의 위치를 찾아낸다.',{bodily:12}),
          opt('🧐 책장에 남은 미세한 먼지 흔적이나 빛바랜 자국을 통해, 책의 원래 위치를 추정한다.',{naturalist:12,spatial:6}),
          opt('💬 사서와 다른 사람들에게 책의 원래 순서에 대해 물어본다.',{interpersonal:14})
        ),
        q("미로 정원", "단서를 따라 도착한 곳은 복잡한 미로 정원. 길을 잃지 않고 지나가는 방법은 무엇일까?",
          opt('🧭 미로의 전체 지도를 머릿속에 그리며, 가장 효율적인 경로를 계산한다.',{spatial:14,logical:6}),
          opt('👣 벽을 한쪽 손으로 계속 짚으며 나아가는 가장 고전적인 방법을 사용한다.',{bodily:12,intrapersonal:4}),
          opt('🐦 미로 안에서 울고 있는 새의 소리를 듣고, 그 소리의 방향을 따라간다.',{musical:12}),
          opt('🌱 미로 벽에 붙어있는 식물들의 생장 방향을 관찰하여, 햇빛이 드는 방향을 추론한다.',{naturalist:12,spatial:4})
        ),
        q("비밀의 방", "미로를 통과하자 벽에 비밀의 방으로 통하는 문이 나타났다. 하지만 문에는 복잡한 기하학적 문양이 새겨져 있다. 어떻게 문을 열까?",
          opt(' geometrically 문양의 도형들과 패턴을 분석하여, 숨겨진 규칙을 찾아낸다.',{logical:14,spatial:8}),
          opt('💬 문양의 의미를 고대 문헌에서 찾아, 올바른 주문을 외운다.',{linguistic:12}),
          opt('🖐️ 문양의 각 부분을 직접 만져보고, 그 촉감과 무게에서 해답을 찾는다.',{bodily:12}),
          opt('🤔 문양을 보는 순간 떠오르는 영감에 따라 문을 조작해본다.',{intrapersonal:14})
        ),
        q("가시 덤불", "비밀의 방으로 가는 길목을 가시 덤불이 막고 있다. 덤불을 뚫고 가야 한다.",
          opt('✂️ 날카로운 도구를 사용하여 덤불의 가장 약한 부분을 체계적으로 잘라낸다.',{logical:12,bodily:6}),
          opt('🎶 노래를 부르며 덤불을 뚫고 나아간다. 흥겨운 리듬이 힘든 여정을 잊게 해 줄 것이다.',{musical:10,intrapersonal:8}),
          opt('🌳 덤불을 이루는 식물의 종류와 특성을 파악하여, 가장 효율적인 통로를 찾는다.',{naturalist:14,spatial:6}),
          opt('🤝 함께 온 동료들과 힘을 합쳐 덤불을 치워 길을 만든다.',{interpersonal:14,bodily:6})
        ),
        q("보석의 노래", "비밀의 방 안에는 아름다운 보석들이 놓여 있다. 그 중 하나가 미세하게 떨리며 이상한 소리를 낸다.",
          opt('👂 보석의 떨림이 만들어내는 소리의 파장과 멜로디를 분석한다.',{musical:16}),
          opt('💎 보석의 종류와 광물학적 특징을 파악하여, 그것이 어떤 물질에 반응하는지 알아본다.',{naturalist:12,logical:8}),
          opt('💬 보석이 내는 소리를 글로 기록하고, 그 의미를 해독한다.',{linguistic:12,logical:4}),
          opt('🧘‍♀️ 보석이 내는 소리에 집중하며, 그 소리가 내면에 어떤 감정을 일으키는지 느낀다.',{intrapersonal:14})
        ),
        q("진정한 공주", "마침내 모든 단서를 해독하고 진정한 왕녀의 자격을 증명하는 시험에 임한다. '힘과 지혜 중, 진정으로 중요한 것은 무엇인가?'라는 질문을 받았다. 당신의 답은?",
          opt('🧠 '지혜가 힘의 방향을 결정합니다.'라고 답하며 논리적인 근거를 제시한다.',{logical:16}),
          opt('🗣️ '진정한 힘은 백성들의 마음을 얻는 데서 나옵니다. 지혜롭게 소통하는 것이 중요합니다.'라고 답한다.',{interpersonal:16,linguistic:6}),
          opt('⚖️ '둘은 분리될 수 없습니다. 힘이 지혜를 뒷받침하고 지혜가 힘을 올바르게 이끌어야 합니다.'라고 답한다.',{intrapersonal:14}),
          opt('🤝 '동료들과 힘을 합칠 때 진정한 힘이 발현됩니다.'라고 답하며 연대의 중요성을 강조한다.',{interpersonal:12,bodily:8})
        ),
        q("돌아온 평화", "모든 난관을 극복하고 왕궁으로 돌아온 당신. 당신을 향해 사람들이 '지혜의 왕녀'라고 외친다. 어떻게 그들의 기대에 부응할 것인가?",
          opt('📜 백성을 위한 새로운 법과 제도를 만들고, 공정한 규칙을 세운다.', {logical:16, linguistic:10}),
          opt('❤️ 백성들의 삶에 더 깊이 공감하고, 그들의 행복을 위한 정책을 펼친다.', {interpersonal:16}),
          opt('🎨 궁정 화가와 음악가들을 후원하여, 문화와 예술이 꽃피는 왕국을 만든다.', {musical:14, intrapersonal:6}),
          opt('🌿 자연과 함께하는 지속 가능한 왕국을 건설하고, 자연의 소중함을 알린다.', {naturalist:14, spatial:8})
        ),
        q("유적의 수리", "고대 유적이 무너져 내리고 있다. 유적을 수리하여 후대에 남기려면 어떻게 해야 할까?",
          opt('🏗️ 유적의 건축 구조를 분석하여, 가장 효율적이고 안전한 수리 계획을 세운다.', {spatial:14, logical:8}),
          opt('💪 직접 망치와 톱을 들고 유적 수리 작업에 참여하여 모범을 보인다.', {bodily:12, interpersonal:6}),
          opt('📚 유적에 새겨진 고대 문헌을 해독하여, 수리에 필요한 지식을 얻는다.', {linguistic:12}),
          opt('🤔 유적의 건축물을 보며, 고대인들의 지혜와 정신을 깨닫고자 한다.', {intrapersonal:12, logical:4})
        ),
        q("새로운 길", "왕녀로서의 삶을 살던 당신에게, 미지의 세계로 향하는 새로운 길이 열렸다. 어떤 선택을 할 것인가?",
          opt('🗺️ 새로운 길을 탐험하며 미지의 세계를 개척한다.', {spatial:16, bodily:10}),
          opt('👩‍🏫 왕국의 백성들에게 지금까지 얻은 지혜와 경험을 가르친다.', {interpersonal:16, linguistic:12}),
          opt('🎶 새로운 길에서 영감을 받아, 백성들을 위한 새로운 노래를 만든다.', {musical:14, intrapersonal:8}),
          opt('🌿 미지의 땅의 생태계를 연구하고, 자연과 함께 살아가는 방법을 모색한다.', {naturalist:16, logical:8})
        ),
        q("빛의 정원", "새로운 길을 통해 도착한 곳은 신비로운 '빛의 정원'이다. 정원의 꽃들은 밤이 되면 아름다운 빛을 낸다. 이 정원의 비밀을 어떻게 알아낼까?",
          opt('🎨 꽃들의 빛깔과 모양을 세밀하게 관찰하고, 그 아름다움을 그림으로 기록한다.', {spatial:14, musical:8}),
          opt('💧 꽃에 흐르는 물의 성분과 토양을 분석하여, 빛의 원인을 과학적으로 규명한다.', {logical:16, naturalist:8}),
          opt('📝 꽃들의 빛이 내는 패턴과 소리를 기록하고, 고대 언어와의 연관성을 찾아본다.', {linguistic:14, musical:10}),
          opt('🧘‍♀️ 정원 한가운데에 앉아, 자연의 기운을 느끼고 내면의 목소리에 귀 기울인다.', {intrapersonal:14})
        ),
        q("외교관의 요청", "인접한 왕국의 외교관이 찾아와, 당신의 조언을 구한다. 그들의 왕국에서 발생한 분쟁을 해결해달라고 한다. 어떻게 해결할까?",
          opt('🗣️ 양측의 주장을 모두 듣고, 공통의 목표를 찾아내어 대화를 중재한다.', {interpersonal:16, linguistic:12}),
          opt('⚖️ 분쟁의 원인을 논리적으로 분석하고, 객관적인 해결책을 제시한다.', {logical:16, interpersonal:8}),
          opt('🗺️ 분쟁 지역의 지형과 자원 분포를 파악하여, 갈등의 근본적인 원인을 찾아낸다.', {spatial:14, naturalist:10}),
          opt('🤔 외교 관계의 복잡한 역학을 분석하고, 장기적인 전략을 수립한다.', {intrapersonal:14, logical:8})
        ),
        q("왕국의 축제", "당신의 지혜와 평화로운 통치에 감사하며, 백성들이 큰 축제를 연다. 어떤 축제를 열 것인가?",
          opt('🎶 음악과 춤이 가득한 예술 축제를 열어, 백성들의 마음을 풍요롭게 한다.', {musical:16, interpersonal:12}),
          opt('📚 지식과 학문을 나누는 학술 축제를 열어, 백성들의 지적 성장을 돕는다.', {linguistic:14, logical:12}),
          opt('💪 힘과 기량을 겨루는 체육 축제를 열어, 백성들의 건강과 단결을 도모한다.', {bodily:14, interpersonal:12}),
          opt('🌿 자연의 아름다움을 기념하는 자연 축제를 열어, 환경 보호의 중요성을 알린다.', {naturalist:14, spatial:10})
        ),
        q("유산의 선택", "당신의 치세가 끝날 무렵, 다음 세대에 어떤 유산을 남길 것인지 결정해야 한다. 무엇을 남길 것인가?",
          opt('📜 당신의 지혜와 경험을 담은 책을 남겨, 후대에게 교훈을 전한다.', {linguistic:16, intrapersonal:12}),
          opt('🏛️ 백성들이 함께 모여 지식을 쌓을 수 있는 위대한 도서관을 건설한다.', {logical:16, spatial:10}),
          opt('🖼️ 당신의 생애와 업적을 담은 예술 작품을 제작하여, 영원히 기억되게 한다.', {musical:14, interpersonal:10}),
          opt('🌳 자연과 조화를 이루는 영구적인 정원을 조성하여, 평화의 상징으로 남긴다.', {naturalist:16, intrapersonal:10})
        ),
        q("별들의 속삭임", "밤하늘을 올려다보자, 별들이 당신에게 속삭이는 듯한 환청이 들린다. '가장 밝게 빛나는 별은 너의 마음속에 있다.' 이 말을 어떻게 해석할까?",
          opt('⭐ 별자리의 위치와 움직임을 분석하여, 이것이 어떤 천문학적 현상인지 규명한다.', {spatial:16, logical:12}),
          opt('🎵 별들의 속삭임에서 멜로디를 찾아내고, 새로운 음악을 창조한다.', {musical:14, intrapersonal:10}),
          opt('💖 나의 내면을 깊이 들여다보며, 진정한 행복이 무엇인지 찾는다.', {intrapersonal:16, interpersonal:12}),
          opt('📜 별들의 속삭임을 시로 써 내려가고, 그 의미를 분석한다.', {linguistic:14, logical:8})
        ),
        q("최후의 선택", "모험의 끝, 당신은 모든 지혜를 얻었다. 당신은 이 지혜를 무엇을 위해 쓸 것인가?",
          opt('👑 왕국의 백성들을 위해 이 지혜를 활용하여, 더 나은 세상을 만든다.', {interpersonal:16, linguistic:10}),
          opt('💡 새로운 지식과 기술을 발명하여, 인류 문명을 한 단계 발전시킨다.', {logical:16, spatial:12}),
          opt('🧘‍♀️ 나 자신의 내면적 완성을 위해, 얻은 지혜를 활용한다.', {intrapersonal:16}),
          opt('🌿 자연과 인간이 공존하는 길을 찾아, 세상의 조화를 이룬다.', {naturalist:16, musical:8})
        )
      ],
      // Warrior Questline (20 Quests)
      warrior: [
        q("훈련장의 도전", "매일 반복되는 훈련에 지쳐갈 무렵, 훈련 교관이 당신에게 새로운 도전을 제안했다. '눈을 감고 장애물 코스를 통과하라. 오직 너의 감각과 몸의 기억만을 믿어라.' 어떻게 도전할 것인가?",
          opt('👣 발밑의 흙, 주변의 바람 소리를 느끼며 균형을 잡고 나아간다.', {bodily:16, intrapersonal:8}),
          opt('🧠 코스의 시작부터 끝까지 모든 장애물의 위치를 머릿속으로 시뮬레이션한다.', {logical:14, spatial:10}),
          opt('🔊 주변 동료들의 응원 소리를 들으며, 소리의 울림에 맞춰 발걸음을 조절한다.', {musical:14, interpersonal:8}),
          opt('🌿 코스의 바닥과 벽에 깔린 식물들의 특성을 파악하여, 장애물과의 거리를 짐작한다.', {naturalist:12, bodily:6})
        ),
        q("전투의 기술", "전투에 앞서, 당신은 적군의 진형을 파악했다. 적들은 빈틈없이 뭉쳐있어 정면 돌파가 불가능하다. 어떻게 이 난관을 극복할까?",
          opt('🛡️ 적들의 움직임 패턴과 공격 방식을 분석하여, 약점을 찾아낸다.', {logical:14, bodily:8}),
          opt('👥 동료들과 함께 작전을 짜고, 서로의 강점을 활용하여 협동 공격을 계획한다.', {interpersonal:16, spatial:10}),
          opt('⛰️ 주변 지형을 이용하여 높은 곳으로 올라가 기습 공격을 감행한다.', {spatial:16, bodily:10}),
          opt('⚔️ 망설임 없이 전면으로 돌격하며, 나의 용맹함으로 적들의 사기를 꺾는다.', {bodily:16})
        ),
        q("야생 동물의 덫", "숲 속에서 훈련하던 중, 길을 잃었다. 그때 당신 앞에 거대한 덫이 나타났다. 어떻게 이 덫을 피할 것인가?",
          opt('🔍 덫 주변의 땅과 나무를 관찰하여, 덫이 설치된 방식을 분석한다.', {logical:12, naturalist:6}),
          opt('🤸‍♀️ 덫 위로 뛰어넘거나, 덫 옆으로 민첩하게 피해간다.', {bodily:16}),
          opt('🗺️ 덫을 피해 우회하는 가장 안전하고 빠른 경로를 지도에서 찾아본다.', {spatial:14, logical:6}),
          opt('🤔 덫을 만든 자의 의도를 추측하며, 가장 안전한 방법으로 덫을 무력화시킨다.', {intrapersonal:12, logical:8})
        ),
        q("영혼의 소리", "밤이 되자 숲 속에서 알 수 없는 소리가 들려온다. 불안한 기운이 감돌지만, 당신은 침착하다. 이 소리의 정체는 무엇일까?",
          opt('🎵 소리의 음정과 박자를 분석하여, 그것이 자연의 소리인지 아닌지 판별한다.', {musical:16}),
          opt('🐺 소리의 근원지를 향해 조용히 다가가, 숨어서 관찰한다.', {bodily:14, spatial:6}),
          opt('📝 소리가 들려온 시간과 방향을 기록하고, 다른 날의 소리와 비교해본다.', {logical:12, linguistic:8}),
          opt('🤝 불안해하는 동료들에게 소리는 단순한 자연 현상이라며 용기를 북돋아준다.', {interpersonal:14})
        ),
        q("고대 전사의 검", "오래된 유적에서 고대 전사의 검을 발견했다. 검에는 '정의를 위해 휘둘러라'는 문구가 새겨져 있다. 이 검을 어떻게 사용할 것인가?",
          opt('⚔️ 검을 손에 쥐고, 나의 신체에 맞게 검술을 연마한다.', {bodily:14, intrapersonal:6}),
          opt('📜 검에 새겨진 문구의 의미를 깊이 생각하고, 진정한 정의란 무엇인지 탐구한다.', {linguistic:14, intrapersonal:8}),
          opt('💎 검의 재질과 제작 방식을 분석하여, 더 강한 무기를 만드는 방법을 연구한다.', {logical:12, spatial:8}),
          opt('🤝 검을 자신만을 위해 사용하기보다, 동료들과 공유하여 함께 강해진다.', {interpersonal:12, bodily:4})
        ),
        q("산악 지형 통과", "험준한 산악 지형을 통과해야 한다. 길은 좁고 위험하며, 낙석의 위험도 있다. 어떻게 이 산을 오를 것인가?",
          opt('🏔️ 지도와 나침반을 이용하여 가장 안전하고 빠른 등반 경로를 찾아낸다.', {spatial:16, logical:12}),
          opt('💪 맨손으로 바위를 잡고 오르며, 몸의 힘과 균형 감각을 최대한 활용한다.', {bodily:16}),
          opt('🌿 산의 식생과 바람의 방향을 관찰하여, 가장 안전한 길을 추측한다.', {naturalist:14, spatial:8}),
          opt('🗣️ 동료들과 서로의 위치를 소리쳐 알려주며, 협력하여 산을 오른다.', {interpersonal:14, bodily:6})
        ),
        q("포로의 구출", "적의 기지에 잠입하여 포로를 구출해야 한다. 경비는 삼엄하며, 침입자는 바로 발각될 것이다. 어떻게 작전을 수행할 것인가?",
          opt('🤫 경비병들의 순찰 경로와 시간을 파악하여, 빈틈을 노려 침투한다.', {logical:16, spatial:12}),
          opt('🕺 경비병의 시선을 피하기 위해, 주변 지형을 이용한 은밀한 움직임으로 접근한다.', {bodily:14, spatial:8}),
          opt('🎁 경비병에게 뇌물을 주거나, 그들을 설득하여 포로를 구출한다.', {interpersonal:14}),
          opt('🤔 '만약 내가 경비병이라면 어떻게 행동할까?' 스스로에게 질문하며 작전을 구상한다.', {intrapersonal:14, logical:8})
        ),
        q("승리의 노래", "모든 시련을 이겨내고 승리했다. 마을 사람들이 당신을 위해 승리의 축제를 열어준다. 어떤 노래를 부를 것인가?",
          opt('🎶 승리의 영광과 희생된 동료들을 기리는 장엄한 서사시를 읊는다.', {linguistic:14, musical:10}),
          opt('🏆 승리의 환희와 기쁨을 담은 신나는 노래를 부르며 사람들과 함께 춤춘다.', {musical:14, bodily:12}),
          opt('🔥 승리의 불꽃놀이를 기획하고, 불꽃의 폭발음과 불빛을 조화시킨다.', {spatial:12, logical:8}),
          opt('🤝 전투에 참여했던 모든 동료들의 이름을 한 명 한 명 부르며 감사를 표한다.', {interpersonal:14, linguistic:8})
        ),
        q("진정한 용기", "모든 난관을 극복하고 진정한 용사의 자격을 증명하는 시험에 임한다. '힘없는 자를 지키는 것과 강한 자와 싸우는 것 중, 진정한 용기는 무엇인가?' 당신의 답은?",
          opt('❤️ '힘없는 자를 지키는 것입니다. 진정한 용기는 약자를 향한 연민에서 나옵니다.'라고 답한다.', {interpersonal:16}),
          opt('⚔️ '강한 자와 싸워 이기는 것입니다. 스스로의 한계를 극복하는 것이 용기입니다.'라고 답한다.', {bodily:16, intrapersonal:8}),
          opt('⚖️ '두 가지 모두 중요합니다. 싸워야 할 때 싸우고, 지켜야 할 때 지키는 지혜가 용기입니다.'라고 답한다.', {logical:14, intrapersonal:8}),
          opt('🗣️ '용기는 말로 정의할 수 없습니다. 행동으로 증명하는 것입니다.'라고 답하며 묵묵히 행동을 보인다.', {linguistic:12})
        ),
        q("최후의 전투", "마지막 전투가 시작되었다. 당신 앞에 거대한 적이 나타났다. 어떻게 전투에 임할 것인가?",
          opt('💪 나의 모든 힘과 기술을 총동원하여 정면으로 돌진한다.', {bodily:16}),
          opt('🧠 적의 움직임과 약점을 분석하여, 가장 효과적인 전략을 사용한다.', {logical:16}),
          opt('🗺️ 적의 진형을 파악하고, 동료들에게 적재적소의 위치를 지시한다.', {spatial:14, interpersonal:12}),
          opt('🌳 주변의 자연 환경을 이용하여 적을 함정에 빠뜨린다.', {naturalist:14, logical:12})
        ),
        q("영웅의 유산", "승리 후, 당신은 영웅으로 추앙받게 된다. 당신은 어떤 유산을 남기고 싶은가?",
          opt('⚔️ 백성을 위한 평화로운 왕국을 건설하고, 무술을 가르쳐 모두가 스스로를 지키게 한다.', {bodily:14, interpersonal:12}),
          opt('📚 전투의 경험과 전략을 담은 책을 집필하여, 후대에게 지혜를 전한다.', {linguistic:14, logical:12}),
          opt('🖼️ 당신의 위대한 업적을 그림과 조각으로 남겨, 영원히 기억되게 한다.', {spatial:14, musical:10}),
          opt('🌿 자연을 보호하고, 자연과 함께하는 삶의 가치를 알린다.', {naturalist:14, interpersonal:10})
        ),
        q("정의로운 심판", "왕국의 법정에서 당신의 지혜와 정의가 필요하다. 복잡한 사건의 진실을 어떻게 밝힐 것인가?",
          opt('🗣️ 관련된 모든 사람들의 진술을 경청하고, 그들의 숨겨진 감정을 파악한다.', {interpersonal:16, intrapersonal:12}),
          opt('🔍 사건의 증거와 논리를 철저히 분석하여, 객관적인 결론을 도출한다.', {logical:16, linguistic:12}),
          opt('🏃‍♀️ 사건 현장을 직접 방문하여, 물리적 증거와 지형을 조사한다.', {bodily:14, spatial:10}),
          opt('❓ '만약 내가 범인이라면 어떻게 행동했을까?' 스스로 질문하며 진실을 추론한다.', {intrapersonal:14, logical:8})
        ),
        q("새로운 임무", "왕국이 평화로워지자, 당신에게 새로운 임무가 주어진다. 다른 왕국과의 외교 관계를 담당하게 된 것이다. 어떻게 외교에 임할 것인가?",
          opt('📜 상대방 왕국의 역사와 문화를 철저히 연구하고, 존중하는 자세로 대화한다.', {linguistic:16, interpersonal:14}),
          opt('🤝 상대방의 입장을 이해하고 공감하며, 상호 이익을 위한 협상을 이끌어낸다.', {interpersonal:16, logical:12}),
          opt('💪 신체 훈련과 체력 단련을 통해, 어떤 위협에도 굴하지 않는 강인함을 보여준다.', {bodily:14, intrapersonal:10}),
          opt('🤔 외교 관계의 복잡한 역학을 분석하고, 장기적인 전략을 수립한다.', {logical:16, intrapersonal:12})
        ),
        q("음악의 힘", "왕국의 사기가 떨어졌다. 백성들에게 다시 용기를 불어넣으려면 어떻게 해야 할까?",
          opt('🎶 백성들이 함께 부를 수 있는 용기와 희망의 노래를 만든다.', {musical:16, interpersonal:14}),
          opt('🗣️ 광장에 모여 연설을 통해 백성들을 격려하고, 희망의 메시지를 전달한다.', {linguistic:14, interpersonal:12}),
          opt('🏋️‍♀️ 백성들과 함께 체육 대회를 열어, 건강과 활력을 되찾게 한다.', {bodily:14, interpersonal:10}),
          opt('🌳 숲속의 신비한 힘을 얻어, 백성들에게 활력을 되찾아준다.', {naturalist:14, intrapersonal:10})
        ),
        q("자연의 지혜", "어느 날, 당신은 숲속에서 길을 잃었다. 어떻게 숲을 빠져나올까?",
          opt('🧭 태양과 별의 위치를 파악하여, 방향을 짐작한다.', {spatial:16, logical:12}),
          opt('🌿 나무의 이끼, 물의 흐름 등을 관찰하여, 자연의 단서를 따른다.', {naturalist:16, bodily:10}),
          opt('🗣️ 큰 소리로 외쳐 도움을 요청하거나, 동료의 흔적을 찾는다.', {interpersonal:14, linguistic:10}),
          opt('🤔 길을 잃은 이유를 되짚어보고, 앞으로의 길을 신중하게 계획한다.', {intrapersonal:16})
        ),
        q("새로운 동맹", "적대적이었던 왕국이 동맹을 제안했다. 하지만 당신은 그들을 완전히 신뢰할 수 없다. 어떻게 대처할 것인가?",
          opt('📜 동맹 제안서의 모든 문장을 꼼꼼히 분석하여, 숨겨진 의도를 파악한다.', {linguistic:16, logical:14}),
          opt('🤝 직접 그들의 왕을 만나, 진심으로 동맹을 원하는지 확인한다.', {interpersonal:16, intrapersonal:12}),
          opt('🔍 그들의 국력과 군사력을 정밀하게 분석하여, 동맹의 실익을 계산한다.', {logical:16, spatial:14}),
          opt('⚔️ 동맹 제안을 거절하고, 나의 군사력을 강화하여 스스로를 지킨다.', {bodily:14, logical:12})
        ),
        q("전장의 노래", "전투의 시작을 알리는 노래를 만들어야 한다. 어떤 노래를 만들 것인가?",
          opt('🎶 용기와 투지를 북돋는 힘찬 노래를 만든다.', {musical:16, bodily:14}),
          opt('📝 전략과 전술을 암시하는 복잡한 가사를 담은 노래를 만든다.', {linguistic:14, logical:12}),
          opt('❤️ 동료들 간의 신뢰와 단결을 강조하는 노래를 만든다.', {interpersonal:16, intrapersonal:12}),
          opt('🌳 자연의 힘을 빌려, 적들을 혼란에 빠뜨리는 신비한 노래를 만든다.', {naturalist:14, spatial:12})
        ),
        q("영광의 흔적", "위대한 용사로 이름을 남긴 당신. 당신의 이야기는 어떻게 전해질까?",
          opt('📜 당신의 업적을 담은 역사서로 기록되어 후대에 전해진다.', {linguistic:16, logical:14}),
          opt('🗿 거대한 조각상으로 만들어져, 모든 이들에게 영감을 준다.', {spatial:16, musical:14}),
          opt('🗣️ 사람들의 입에서 입으로 전해지는 전설과 민담으로 남는다.', {interpersonal:16, intrapersonal:12}),
          opt('🌳 자연의 일부가 되어, 숲의 수호자로 기억된다.', {naturalist:16, bodily:14})
        ),
        q("전략의 완성", "모든 전투를 승리로 이끈 당신의 전략은 무엇이었나?",
          opt('🧠 적의 모든 움직임을 예측하고, 치밀한 계획을 세웠다.', {logical:16, spatial:14}),
          opt('💪 압도적인 힘과 속도로 적을 제압했다.', {bodily:16, musical:14}),
          opt('🤝 동료들과의 완벽한 협력을 통해 시너지를 창출했다.', {interpersonal:16, linguistic:14}),
          opt('🤔 적의 심리를 꿰뚫어, 그들의 약점을 공략했다.', {intrapersonal:16, logical:12})
        ),
        q("평화의 수호자", "당신의 영웅적인 행동 덕분에 왕국은 평화를 얻었다. 당신은 이제 무엇을 할 것인가?",
          opt('🛡️ 백성을 지키는 수호자가 되어, 왕국의 안전을 책임진다.', {bodily:16, interpersonal:14}),
          opt('💡 새로운 무기와 방어 기술을 개발하여, 미래의 위협에 대비한다.', {logical:16, spatial:14}),
          opt('🎶 백성들에게 평화의 소중함을 알리는 노래를 가르친다.', {musical:16, linguistic:12}),
          opt('🧘‍♀️ 자신의 내면을 수련하며, 진정한 평화의 의미를 찾는다.', {intrapersonal:16, naturalist:14})
        )
      ],
      // Wizard Questline (20 Quests)
      wizard: [
        q("고대의 주문", "먼지 쌓인 마법의 서고에서 고대의 주문이 적힌 양피지를 발견했다. 하지만 주문의 일부가 지워져 알아볼 수 없다. 어떻게 주문을 완성할까?",
          opt('📜 지워진 부분을 앞뒤 문맥에 맞춰 논리적으로 추론하여 복원한다.',{logical:14,linguistic:6}),
          opt('🧘‍♀️ 양피지를 든 채 명상에 잠겨, 내면의 영감을 통해 사라진 주문을 떠올린다.',{intrapersonal:16}),
          opt('🎵 주문의 리듬과 억양을 분석하여, 지워진 글자들이 만들어낼 소리를 상상해본다.',{musical:12,linguistic:6}),
          opt('🏛️ 서고의 다른 마법서들을 찾아, 비슷한 시대의 주문들을 참고한다.',{linguistic:12,logical:4})
        ),
        q("수수께끼의 돌", "주문을 복원하자, 마법의 돌이 나타났다. 이 돌은 만지면 빛을 내고 미세하게 진동한다. 이 돌의 능력을 어떻게 알아낼까?",
          opt('🧪 돌의 성분과 특성을 분석하기 위해 마법 실험을 진행한다.',{logical:14,naturalist:8}),
          opt('🗣️ 돌에 말을 걸거나 주문을 외워, 돌이 어떻게 반응하는지 관찰한다.',{linguistic:12}),
          opt('✨ 돌의 빛과 진동을 느끼며, 나의 마나와 돌의 에너지를 연결해본다.',{intrapersonal:12,bodily:6}),
          opt('🤝 동료들과 함께 돌을 연구하여, 각자의 지식과 감각을 공유한다.',{interpersonal:14,logical:6})
        ),
        q("공중 정원", "마법의 돌이 이끄는 대로 도착한 곳은 공중에 떠 있는 신비로운 정원이다. 정원을 어떻게 탐험할까?",
          opt('🧭 정원의 지형과 구조를 분석하여, 숨겨진 길이나 비밀을 찾아낸다.',{spatial:16,logical:12}),
          opt('🧚‍♀️ 정원의 요정이나 신비한 생물들과 소통하며 길을 안내받는다.',{interpersonal:14,linguistic:10}),
          opt('🌳 정원에 있는 식물들의 종류와 성장 패턴을 연구하여, 정원의 비밀을 파헤친다.',{naturalist:14,spatial:10}),
          opt('🏃‍♀️ 깃털처럼 가볍게 몸을 움직여, 공중을 뛰어다니며 정원을 탐험한다.',{bodily:14,spatial:12})
        ),
        q("마법의 숲", "공중 정원에서 마법의 숲으로 향하는 포탈을 발견했다. 숲 안으로 들어가자, 나무들이 서로 속삭이는 소리가 들려온다. 이 소리를 어떻게 해석할까?",
          opt('🎶 소리의 높낮이와 음색을 분석하여, 숲의 노래를 해독한다.',{musical:16,linguistic:12}),
          opt('📝 나무들이 속삭이는 내용을 글로 옮겨 적고, 그 의미를 분석한다.',{linguistic:14,logical:8}),
          opt('🤔 조용히 숲에 앉아, 소리가 나에게 어떤 메시지를 전하는지 내면의 목소리에 귀 기울인다.',{intrapersonal:14,naturalist:8}),
          opt('🌳 나무들의 종류와 생태계를 파악하여, 소리가 자연적인 현상인지 아닌지 판단한다.',{naturalist:14,logical:10})
        ),
        q("시간의 모래시계", "숲 깊은 곳에서 시간이 멈춰버린 듯한 모래시계를 발견했다. 이 모래시계는 무엇을 의미할까?",
          opt('⏳ 모래시계의 작동 원리를 분석하여, 멈춰버린 시간을 되돌리는 방법을 찾는다.',{logical:16,spatial:12}),
          opt('🤚 모래시계를 직접 만져보고, 흐르는 감각을 통해 시간의 흐름을 느낀다.',{bodily:14,intrapersonal:10}),
          opt('📜 모래시계에 새겨진 고대 문양을 해독하여, 그 의미를 파악한다.',{linguistic:14,logical:8}),
          opt('🌳 모래시계 주변의 식물들이 시간의 영향을 받지 않는지 관찰한다.',{naturalist:12,spatial:8})
        ),
        q("동물의 언어", "모래시계를 작동시키자, 숲의 동물들과 소통할 수 있게 되었다. 어떻게 동물들과 대화할까?",
          opt('🗣️ 동물들의 울음소리와 몸짓을 모방하며, 그들과 소통을 시도한다.',{linguistic:16,interpersonal:14}),
          opt('🤝 동물의 마음을 이해하고 공감하며, 그들의 신뢰를 얻는다.',{interpersonal:16}),
          opt('💡 동물들의 행동과 서식지를 분석하여, 그들의 지혜를 얻는다.',{logical:14,naturalist:12}),
          opt('🎶 동물들이 내는 소리의 멜로디와 리듬을 이용하여 대화를 나눈다.',{musical:14,intrapersonal:10})
        ),
        q("마법 학교의 시험", "동물들의 도움으로 마법 학교에 도착했다. 입학을 위해 '가장 완벽한 마법'을 보여주라는 시험을 받았다. 당신의 마법은 무엇인가?",
          opt('✨ 거대한 불꽃을 만들어내어, 나의 힘을 보여준다.',{bodily:14,spatial:12}),
          opt('📚 모든 마법 이론을 집대성한 논리적인 마법을 선보인다.',{logical:16,linguistic:14}),
          opt('🎶 아름다운 멜로디로 자연의 힘을 끌어내는 마법을 사용한다.',{musical:16,naturalist:14}),
          opt('❤️ 상대방의 아픔을 치유하고, 행복을 가져다주는 마법을 사용한다.',{interpersonal:16})
        ),
        q("차원의 문", "마법 학교의 시험을 통과하자, 차원의 문이 열렸다. 문 너머에는 어떤 세계가 펼쳐질까?",
          opt('🗺️ 지도를 그리고, 차원의 지형과 길을 탐험한다.', {spatial:16, logical:12}),
          opt('👥 새로운 차원의 존재들과 교류하며, 그들의 문화를 배운다.', {interpersonal:16, linguistic:14}),
          opt('🌿 새로운 차원의 생태계를 연구하고, 자연의 신비를 탐구한다.', {naturalist:16, musical:14}),
          opt('🤔 새로운 차원의 존재들을 관찰하며, 그들의 내면을 이해하려 노력한다.', {intrapersonal:16, logical:12})
        ),
        q("마법사의 임무", "당신은 차원의 문을 통해 평화를 위협하는 존재를 만났다. 이들을 어떻게 막을 것인가?",
          opt('🛡️ 가장 강력한 공격 마법을 사용하여, 위협을 제거한다.', {bodily:16, spatial:14}),
          opt('🤝 평화를 위협하는 존재들과 대화하여, 오해를 풀고 평화롭게 해결한다.', {interpersonal:16, linguistic:14}),
          opt('💡 그들의 존재 원리와 약점을 분석하여, 가장 효율적인 방법으로 무력화한다.', {logical:16, intrapersonal:12}),
          opt('🎵 아름다운 멜로디의 마법으로 그들의 마음을 정화한다.', {musical:16, interpersonal:14})
        ),
        q("고대의 도시", "위협을 막고, 당신은 고대 마법사들이 살았던 도시를 발견했다. 이 도시의 비밀은 무엇일까?",
          opt('🏛️ 도시의 건축물과 유적을 탐험하며, 고대 마법사들의 지혜를 배운다.', {spatial:16, logical:14}),
          opt('📜 도시의 모든 기록과 문헌을 해독하여, 그들의 역사를 재구성한다.', {linguistic:16, logical:14}),
          opt('👻 도시의 유령이나 정령들과 대화하며, 도시의 이야기를 직접 듣는다.', {interpersonal:16, musical:12}),
          opt('🌿 도시에 남아있는 식물이나 광물을 연구하여, 그들이 사용한 마법의 원리를 파악한다.', {naturalist:16, logical:14})
        ),
        q("현자의 지팡이", "고대의 도시에서 현자의 지팡이를 발견했다. 이 지팡이는 사용자의 마음을 읽고 능력을 증폭시킨다. 어떻게 이 지팡이를 사용할까?",
          opt('❤️ 사람들의 마음을 읽어, 그들의 고민을 해결하고 서로를 이해하게 돕는다.', {interpersonal:16, intrapersonal:14}),
          opt('🧠 지팡이의 능력을 분석하여, 더욱 강력하고 효율적인 마법을 개발한다.', {logical:16, spatial:12}),
          opt('🎶 지팡이를 통해 자연의 소리를 증폭시키고, 아름다운 음악을 연주한다.', {musical:16, naturalist:14}),
          opt('💪 지팡이의 힘을 이용하여, 몸을 강화하고 마법의 한계를 뛰어넘는다.', {bodily:14, logical:12})
        ),
        q("마법사의 귀환", "모든 모험을 끝내고 왕국으로 돌아온 당신. 당신은 이제 어떤 마법사로 기억될 것인가?",
          opt('✨ 위대한 힘을 가진 전설적인 마법사로 기억된다.', {bodily:14, logical:12}),
          opt('💖 사람들의 마음을 치유하고, 사랑과 평화를 가져온 현자로 기억된다.', {interpersonal:16, intrapersonal:14}),
          opt('📚 모든 지식을 탐구하고, 새로운 마법을 창조한 학자 마법사로 기억된다.', {linguistic:16, logical:16}),
          opt('🌿 자연과 교감하고, 세상의 조화를 이룬 자연의 마법사로 기억된다.', {naturalist:16, musical:14})
        ),
        q("마법의 노래", "백성들에게 평화와 희망을 전하는 노래를 만들어야 한다. 어떤 노래를 만들 것인가?",
          opt('🎶 아름다운 멜로디와 희망적인 가사를 담은 노래를 만든다.', {musical:16, linguistic:14}),
          opt('📜 평화의 가치를 논리적으로 설명하고, 사람들을 설득하는 노래를 만든다.', {logical:14, linguistic:16}),
          opt('🤝 백성들이 함께 참여하여 만들고 부르는 노래를 만든다.', {interpersonal:16, musical:12}),
          opt('🤔 나의 내면에서 우러나오는 감정을 담아, 진솔한 노래를 만든다.', {intrapersonal:16, musical:14})
        ),
        q("공간의 지배자", "당신은 공간을 자유자재로 다루는 마법을 완성했다. 이 마법을 어떻게 사용할 것인가?",
          opt('🗺️ 지형을 바꾸고, 새로운 길을 만들어 백성들의 삶을 편리하게 한다.', {spatial:16, logical:14}),
          opt('⚔️ 전투에서 적의 공간을 왜곡하고, 아군을 보호한다.', {bodily:14, spatial:16}),
          opt('🧘‍♀️ 공간의 흐름을 느끼며, 내면의 평화를 얻는다.', {intrapersonal:16, musical:14}),
          opt('🌿 자연의 공간을 보호하고, 오염된 지역을 정화한다.', {naturalist:14, interpersonal:12})
        ),
        q("시간의 조율사", "당신은 시간을 조율하는 마법을 익혔다. 이 마법을 어떻게 사용할 것인가?",
          opt('⏰ 과거로 돌아가 역사를 바꾸고, 미래의 위협을 막는다.', {logical:16, spatial:14}),
          opt('❤️ 고통받는 사람들의 시간을 되돌려, 아픔을 치유한다.', {interpersonal:16, intrapersonal:12}),
          opt('🎶 시간의 흐름을 멈추거나 빠르게 하여, 음악의 새로운 경지를 연다.', {musical:16, bodily:14}),
          opt('🌳 자연의 시간을 되돌려, 멸종된 생명을 되살린다.', {naturalist:16, logical:14})
        ),
        q("지식의 빛", "당신은 모든 지식을 담은 책을 발견했다. 이 지식을 어떻게 활용할 것인가?",
          opt('📚 모든 지식을 익히고, 최고의 지혜를 가진 존재가 된다.', {logical:16, linguistic:14}),
          opt('🤝 지식을 백성들에게 나누어, 모두가 현명하게 살 수 있도록 돕는다.', {interpersonal:16, linguistic:14}),
          opt('🤔 지식을 통해 나의 내면을 깊이 이해하고, 깨달음을 얻는다.', {intrapersonal:16, logical:12}),
          opt('🌿 지식을 자연과 연결하여, 자연의 섭리를 깊이 이해한다.', {naturalist:16, spatial:12})
        ),
        q("마법의 교사", "당신은 마법 학교의 교사가 되었다. 학생들에게 무엇을 가르칠 것인가?",
          opt('✨ 강력한 마법을 사용하여, 나의 힘을 보여준다.', {bodily:14, musical:12}),
          opt('❤️ 마법의 힘을 올바르게 사용하는 법을 가르친다.', {interpersonal:16, intrapersonal:12}),
          opt('📚 마법의 이론과 역사를 가르쳐, 지혜로운 마법사로 성장하게 한다.', {linguistic:16, logical:14}),
          opt('🌳 자연과 교감하는 마법을 가르쳐, 자연과 함께 살아가는 법을 배우게 한다.', {naturalist:16, spatial:12})
        ),
        q("고대의 유산", "당신은 고대 마법사들의 마지막 유산을 발견했다. 그것은 무엇인가?",
          opt('📜 모든 마법이 담긴 책', {linguistic:16, logical:14}),
          opt('💖 사랑과 평화의 마법', {interpersonal:16, intrapersonal:14}),
          opt('🎶 세상을 치유하는 음악', {musical:16, naturalist:14}),
          opt('✨ 우주를 창조하는 마법', {spatial:16, logical:16})
        ),
        q("최후의 선택", "당신은 모든 마법을 마스터했다. 당신은 이 마법을 무엇을 위해 사용할 것인가?",
          opt('⚔️ 왕국을 지키고, 적들을 무찌른다.', {bodily:16, logical:14}),
          opt('❤️ 사람들의 마음을 치유하고, 평화를 가져온다.', {interpersonal:16, intrapersonal:16}),
          opt('📚 세상의 모든 문제를 해결한다.', {logical:16, spatial:16}),
          opt('🌳 자연과 우주의 신비를 탐구한다.', {naturalist:16, musical:16})
        ),
        q("평화의 마법사", "당신의 노력 덕분에 왕국에 평화가 찾아왔다. 당신은 어떤 마법사로 기억될 것인가?",
          opt('✨ 강력한 마법으로 왕국을 구한 영웅', {bodily:16, spatial:14}),
          opt('💖 백성들에게 사랑과 희망을 전한 현자', {interpersonal:16, linguistic:14}),
          opt('📚 지식과 지혜를 전파한 스승', {logical:16, intrapersonal:12}),
          opt('🎶 자연과 교감하며 세상을 치유한 치유사', {naturalist:16, musical:16})
        )
      ]
    };

    // DOM 요소 가져오기
    const nameInput = el('input-name');
    const classInput = el('input-class');
    const startBtn = el('btn-start');
    const companionSelectContainer = el('companion-select');
    const charDivs = document.querySelectorAll('.char'); // 각 캐릭터 DIV를 가져옵니다.

    // 시작 버튼 상태 확인 함수
    function checkStartButton() {
        if (nameInput.value.trim() && classInput.value.trim() && player.companion) {
            startBtn.disabled = false;
        } else {
            startBtn.disabled = true;
        }
    }

    // 이름, 소속 입력 필드
    nameInput.addEventListener('input', checkStartButton);
    classInput.addEventListener('input', checkStartButton);

    // 캐릭터 선택 기능 (수정된 부분)
    charDivs.forEach(charDiv => {
        charDiv.addEventListener('click', () => {
            // 모든 선택 해제
            charDivs.forEach(otherChar => otherChar.classList.remove('selected'));
            // 현재 선택 적용
            charDiv.classList.add('selected');
            player.companion = charDiv.dataset.id;
            checkStartButton(); // 선택 후 버튼 상태 확인
        });
    });

    // 게임 시작 함수
    function startGame() {
        player.name = el('input-name').value.trim();
        player.class = el('input-class').value.trim();
        if (!player.name || !player.class || !player.companion) {
            return;
        }
        
        // 게임 상태 초기화
        scores = { linguistic: 0, logical: 0, spatial: 0, bodily: 0, musical: 0, interpersonal: 0, intrapersonal: 0, naturalist: 0 };
        currentQuestIndex = 0;
        questLine = quests[player.companion];

        // 화면 전환
        el('pre-game').style.display = 'none';
        el('game-area').style.display = 'block';
        el('stats-panel').style.display = 'block';
        el('result-area').style.display = 'none';

        // 첫 번째 퀘스트 시작
        showQuest(questLine[currentQuestIndex]);
        updateStats();
    }

    function restartGame() {
        el('pre-game').style.display = 'block';
        el('game-area').style.display = 'none';
        el('stats-panel').style.display = 'none';
        el('result-area').style.display = 'none';
        el('input-name').value = '';
        el('input-class').value = '';
        document.querySelectorAll('.char').forEach(char => char.classList.remove('selected'));
        player.companion = null;
        checkStartButton(); // 재시작 후에도 버튼 상태 확인
    }

    // 퀘스트 진행 및 점수 갱신 (기존 코드 유지)
    function showQuest(quest) {
        const questNumber = el('quest-number');
        const questTitle = el('quest-title');
        const questText = el('quest-text');
        const optionsList = el('options-list');
        const progressBar = el('progress-bar');
        
        // Quest update
        questNumber.textContent = `퀘스트 ${currentQuestIndex + 1} / ${questLine.length}`;
        questTitle.textContent = quest.title;
        questText.textContent = quest.text;

        // Options update
        optionsList.innerHTML = ''; // Clear existing options
        quest.options.forEach(opt => {
            const li = document.createElement('li');
            const button = document.createElement('button');
            button.className = 'option-btn';
            button.textContent = opt.t;
            button.addEventListener('click', () => handleOptionClick(opt.e));
            li.appendChild(button);
            optionsList.appendChild(li);
        });

        // Progress update
        const progress = ((currentQuestIndex + 1) / questLine.length) * 100;
        progressBar.style.width = `${progress}%`;
        sounds.turn.play().catch(e => console.log("SFX 재생 실패: " + e));
    }

    function handleOptionClick(effects) {
        // 점수 갱신
        for (const stat in effects) {
            scores[stat] += effects[stat];
        }
        updateStats();

        currentQuestIndex++;
        if (currentQuestIndex < questLine.length) {
            showQuest(questLine[currentQuestIndex]);
        } else {
            showResult();
        }
    }

    function updateStats() {
        const statsContent = el('stats-content');
        statsContent.innerHTML = '';
        const sortedScores = Object.entries(scores).sort(([, a], [, b]) => b - a);

        sortedScores.forEach(([stat, score]) => {
            const statItem = document.createElement('div');
            statItem.className = 'stat-item';
            statItem.innerHTML = `<span class="stat-name">${mapNamesForStats[stat]}</span><span class="stat-value">${score}</span>`;
            statsContent.appendChild(statItem);
        });
    }

    function showResult() {
        el('game-area').style.display = 'none';
        el('result-area').style.display = 'block';

        const result = getResult();
        const resultTitle = el('result-title');
        const resultText = el('result-text');

        resultTitle.textContent = `최고의 지능: ${mapNames[result.topIntel]}`;
        resultText.textContent = getFinalMessage(result.topIntel);
        
        // 최종 스탯 패널 업데이트
        const finalStats = el('final-stats');
        finalStats.innerHTML = '';
        const sortedScores = Object.entries(scores).sort(([, a], [, b]) => b - a);
        sortedScores.forEach(([stat, score]) => {
            const statItem = document.createElement('div');
            statItem.className = 'stat-item';
            statItem.innerHTML = `<span class="stat-name">${mapNames[stat]}</span><span class="stat-value">${score}</span>`;
            finalStats.appendChild(statItem);
        });
    }

    function getResult() {
        const sortedScores = Object.entries(scores).sort(([, a], [, b]) => b - a);
        const topIntel = sortedScores[0][0];
        const secondIntel = sortedScores[1][0];
        const isTie = sortedScores[0][1] === sortedScores[1][1];
        
        return {
            topIntel,
            secondIntel,
            isTie
        };
    }

    function getFinalMessage(topIntel) {
        switch (topIntel) {
            case 'linguistic': return "당신은 언어 지능이 가장 뛰어난 모험가입니다. 이야기는 곧 세상의 전부입니다. 당신의 지혜로운 말 한마디가 왕국을 구원할 것입니다.";
            case 'logical': return "당신은 논리-수학 지능이 가장 뛰어난 모험가입니다. 복잡한 문제를 해결하고, 숨겨진 진실을 밝혀내는 능력으로 왕국의 현자가 될 것입니다.";
            case 'spatial': return "당신은 공간 지능이 가장 뛰어난 모험가입니다. 당신의 뛰어난 통찰력과 공간적 감각은 미지의 세계를 탐험하고 새로운 문명을 개척하는 데 빛을 발할 것입니다.";
            case 'bodily': return "당신은 신체-운동 지능이 가장 뛰어난 모험가입니다. 강인한 육체와 뛰어난 운동 능력은 모든 위험으로부터 왕국을 지키는 방패가 될 것입니다.";
            case 'musical': return "당신은 음악 지능이 가장 뛰어난 모험가입니다. 당신의 영혼을 울리는 선율은 사람들의 마음을 하나로 모으고, 왕국에 평화와 조화를 가져올 것입니다.";
            case 'interpersonal': return "당신은 대인관계 지능이 가장 뛰어난 모험가입니다. 사람들의 마음을 읽고 공감하는 능력으로, 당신은 가장 사랑받는 리더가 될 것입니다.";
            case 'intrapersonal': return "당신은 자기이해 지능이 가장 뛰어난 모험가입니다. 당신은 자신의 강점과 약점을 정확히 이해하고, 어떤 역경 속에서도 흔들리지 않는 내면의 힘을 가졌습니다.";
            case 'naturalist': return "당신은 자연친화 지능이 가장 뛰어난 모험가입니다. 자연의 소리를 듣고 그 섭리를 이해하는 당신의 지혜는 왕국을 풍요롭게 만들고 자연과 공존하는 길을 열 것입니다.";
            default: return "당신은 모험을 무사히 마쳤습니다. 당신의 여정은 분명 위대한 의미를 가졌을 것입니다.";
        }
    }

    // 게임 시작/재시작 버튼 이벤트 리스너
    el('btn-start').addEventListener('click', startGame);
    el('btn-restart').addEventListener('click', restartGame);

    // 초기 상태 확인
    checkStartButton();
    </script>
</body>
</html>
