<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>📜 다중지능 탐험: 고대의 부름</title>
<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' https://cdn.pixabay.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; media-src https://cdn.pixabay.com;">
<link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Cinzel:wght@700&display=swap" rel="stylesheet">
<style>
:root{ --brown-text: #4a3a2a; --gold: #c89a4b; }
*{box-sizing:border-box}

body{
    margin:0;
    font-family: 'Gowun Dodum', serif;
    background: url('https://cdn.pixabay.com/photo/2020/02/05/17/23/ancient-4821613_1280.jpg') no-repeat center center/cover;
    background-color: rgba(0, 0, 0, 0.65); /* 이미지 위에 어둡게 오버레이 */
    background-blend-mode: multiply; /* 블렌드 모드 추가 */
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
}
.container{
    background-color: rgba(13, 17, 23, 0.9);
    border: 1px solid var(--gold);
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
    padding: 30px;
    width: 100%;
    max-width: 700px;
    text-align: center;
    backdrop-filter: blur(5px);
}
h1{
    font-family: 'Cinzel', serif;
    color: var(--gold);
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    font-size: 2.5em;
    margin-bottom: 0.5em;
}
h2,h3{
    color: var(--gold);
}
h3{
    font-size: 1.5em;
    margin-top: 2em;
}
.input-group{
    margin-bottom: 20px;
}
.input-group label{
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}
.input-group input{
    width: calc(100% - 22px);
    padding: 10px;
    border: 1px solid var(--gold);
    background-color: transparent;
    border-radius: 6px;
    color: #fff;
    font-size: 1em;
}
.input-group input::placeholder{
    color: #aaa;
}
.char-selection{
    display: flex;
    justify-content: center;
    gap: 15px;
    margin: 25px 0;
}
.char{
    cursor: pointer;
    text-align: center;
    transition: transform 0.2s, box-shadow 0.2s;
    background: rgba(255,255,255,0.05);
    border: 1px solid transparent;
    border-radius: 10px;
    padding: 15px;
}
.char:hover, .char.selected{
    transform: translateY(-5px) scale(1.05);
    box-shadow: 0 0 15px rgba(200, 154, 75, 0.7);
    border: 1px solid var(--gold);
}
.char img{
    width: 100px;
    height: 100px;
    border-radius: 50%;
    border: 3px solid var(--gold);
}
.char p{
    margin-top: 10px;
    font-weight: bold;
    color: #fff;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
}
.btn{
    padding: 15px 30px;
    border: none;
    border-radius: 8px;
    background: var(--gold);
    color: var(--brown-text);
    font-size: 1.2em;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.1s;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
}
.btn:hover:not(:disabled){
    background-color: #e2b767;
    transform: translateY(-2px);
}
.btn:disabled{
    background-color: #7a6f62;
    cursor: not-allowed;
    opacity: 0.6;
}
.quest-box{
    background-color: rgba(255,255,255,0.05);
    border: 1px solid var(--gold);
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 20px;
    text-align: left;
}
.quest-box h4{
    margin:0 0 10px 0;
    color: var(--gold);
}
.option{
    background: rgba(255,255,255,0.1);
    border: 1px solid rgba(200, 154, 75, 0.5);
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 10px;
    cursor: pointer;
    transition: background-color 0.2s, transform 0.1s;
    text-align: left;
}
.option:hover{
    background-color: rgba(255,255,255,0.2);
    transform: translateX(5px);
}
.option .label{
    font-weight: bold;
    color: #fff;
}
#stats-panel{
    margin-top: 20px;
    padding: 15px;
    border-top: 1px solid var(--gold);
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    text-align: left;
}
.stat{
    background-color: rgba(255,255,255,0.05);
    border: 1px solid var(--gold);
    border-radius: 5px;
    padding: 10px;
}
.stat .bar{
    background-color: #444;
    border-radius: 3px;
    height: 10px;
    margin-top: 5px;
    overflow: hidden;
}
.stat .bar-inner{
    height: 100%;
    transition: width 0.5s ease-in-out;
}
#result-area{
    display: none;
    padding: 30px;
}
#result-area h3{
    font-size: 1.8em;
    margin-bottom: 0.5em;
}
#result-area p{
    font-size: 1.2em;
    line-height: 1.6;
}
.btn-restart{
    margin-top: 20px;
}

@media (max-width: 600px) {
    .container{ padding: 20px; }
    h1{ font-size: 2em; }
    .char img{ width: 80px; height: 80px; }
    .char-selection{ gap: 10px; }
    #stats-panel{ grid-template-columns: 1fr; }
}
</style>
<audio id="bgm" src="https://cdn.pixabay.com/download/audio/2022/02/10/audio_f839611b84.mp3" loop></audio>
<audio id="sfx-turn" src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_fdb9c687ab.mp3"></audio>
</head>
<body>

<div class="container">
    <div id="pre-game">
        <h1>📜 다중지능 탐험: 고대의 부름</h1>
        <h2>진정한 나를 찾아 떠나는 모험</h2>
        <p>고대 세계로의 여정을 시작하려 합니다. 이름과 반 번호를 입력하고, 당신의 내면과 가장 닮은 동반자를 선택하세요. 당신의 선택이 모험의 길을 결정할 것입니다.</p>
        <div class="input-group">
            <label for="input-name">이름</label>
            <input type="text" id="input-name" placeholder="이름을 입력하세요">
        </div>
        <div class="input-group">
            <label for="input-class">반 번호</label>
            <input type="text" id="input-class" placeholder="반 번호를 입력하세요">
        </div>
        <h3>⭐ 내면의 동반자 선택하기</h3>
        <div class="char-selection">
            <div class="char" data-id="prince">
                <img src="https://cdn.pixabay.com/photo/2016/11/27/15/21/prince-1863584_1280.png" alt="Prince">
                <p>현명한 왕자</p>
            </div>
            <div class="char" data-id="princess">
                <img src="https://cdn.pixabay.com/photo/2017/04/01/21/32/princess-2194600_1280.png" alt="Princess">
                <p>지혜로운 공주</p>
            </div>
            <div class="char" data-id="warrior">
                <img src="https://cdn.pixabay.com/photo/2019/12/03/05/20/warrior-4669049_1280.png" alt="Warrior">
                <p>용감한 용사</p>
            </div>
            <div class="char" data-id="wizard">
                <img src="https://cdn.pixabay.com/photo/2018/12/10/18/34/wizard-3868018_1280.png" alt="Wizard">
                <p>신비한 마법사</p>
            </div>
        </div>
        <button id="btn-start" class="btn" disabled>▶ 모험 시작하기</button>
    </div>

    <div id="game-area" style="display: none;">
        <div class="quest-box">
            <h4 id="quest-title">퀘스트 제목</h4>
            <p id="quest-text">퀘스트 내용</p>
        </div>
        <div id="options">
            </div>
    </div>
    
    <div id="stats-panel" style="display: none;">
        <h3>📊 나의 지능 현황</h3>
        <div id="stats">
            </div>
    </div>
    
    <div id="result-area">
        <div id="result-content">
            </div>
        <button id="btn-restart" class="btn btn-restart">↩ 다시 시작하기</button>
    </div>
</div>

<script>
// DOM 요소 가져오기
const el = id => document.getElementById(id);

// 게임 변수
let player = {
    name: '',
    class: '',
    companion: null
};
let scores = {
    linguistic: 0,
    logical: 0,
    spatial: 0,
    bodily: 0,
    musical: 0,
    interpersonal: 0,
    intrapersonal: 0,
    naturalist: 0
};
let currentQuestIndex = 0;
let questLine = null;

// 지능 이름 매핑
const mapNames = {
    linguistic: '언어 지능',
    logical: '논리-수학 지능',
    spatial: '공간 지능',
    bodily: '신체-운동 지능',
    musical: '음악 지능',
    interpersonal: '대인관계 지능',
    intrapersonal: '자기이해 지능',
    naturalist: '자연친화 지능'
};
const mapNamesForStats = {
    linguistic: '언어',
    logical: '논리',
    spatial: '공간',
    bodily: '신체',
    musical: '음악',
    interpersonal: '대인관계',
    intrapersonal: '자기이해',
    naturalist: '자연'
};

// 사운드 객체
const sounds = {
    bgm: document.getElementById('bgm'),
    turn: document.getElementById('sfx-turn'),
};
sounds.bgm.volume = 0.2; // BGM 볼륨 조절

document.body.addEventListener('click', () => {
    if (sounds.bgm.paused) {
        sounds.bgm.play().catch(e => console.log("BGM 자동재생이 차단되었습니다."));
    }
}, { once: true });


/* ====== 퀘스트 데이터 (전체 80개) ====== */
function q(title, text, a, b, c, d){ return { title, text, options:[a,b,c,d] }; }
function opt(text, effects){ return {t:text, e:effects}; }
const quests = {
  prince: [
    q("왕의 서신", "먼지 쌓인 서고에서 아버지의 흔적이 담긴 낡은 편지를 발견했다. '진정한 왕의 자격은 왕관이 아닌, 백성을 비추는 빛에 있나니. 그 빛을 따라가거라.' 이 수수께끼 같은 유언의 실마리는 어디서부터 찾아야 할까?",
      opt('📜 편지에 쓰인 단어들의 상징적 의미를 파고들어 분석한다.',{linguistic:14}),
      opt('🗺️ 편지에 남은 희미한 지도의 흔적을 따라 직접 현장으로 향한다.',{bodily:12,spatial:6}),
      opt('👥 편지를 마지막으로 만졌을 법한 왕궁의 오랜 신하를 찾아가 대화한다.',{interpersonal:12,logical:6}),
      opt('🌿 편지지에서 희미하게 나는 풀 향기를 단서로, 특정 지역의 식생를 조사한다.',{naturalist:8,spatial:6})
    ),
    q("시장의 현자", "시장에 도착하자, 한 노인이 당신을 알아보고 다가와 속삭였다. '왕께서 찾던 빛은 북쪽 숲의 심장, 가장 오래된 고목에서 나온다네.' 그의 말을 어떻게 받아들여야 할까?",
      opt('💬 노인의 이야기에 진심으로 감사하며, 숲에 대한 다른 전설은 없는지 묻는다.',{interpersonal:12,linguistic:6}),
      opt('🧭 즉시 숲으로 달려가기보다, 먼저 도서관에서 북쪽 숲에 대한 자료를 찾아본다.',{logical:12,linguistic:6}),
      opt('🤝 탐험대를 꾸려 함께 숲으로 떠난다. 여러 눈으로 보는 것이 더 정확할 것이다.',{interpersonal:12,bodily:6}),
      opt('🌲 그의 말이 사실인지 확인하기 위해, 즉시 혼자서 숲의 고목을 찾아 나선다.',{bodily:12,naturalist:6})
    ),
    q("별자리石", "숲길을 걷다, 이끼 낀 바위 위에 고대의 별자리와 닮은 문양이 새겨진 돌을 발견했다. 이 돌은 무엇을 의미할까?",
      opt('✍️ 문양을 양피지에 똑같이 베껴 그리고, 각 상징의 의미를 추론해본다.',{linguistic:12,spatial:4}),
      opt('⭐ 밤하늘의 실제 별자리와 돌의 문양을 대조하여 방향을 찾는다.',{spatial:14,naturalist:4}),
      opt('🪨 돌 주변의 흙과 식물을 관찰하여, 이 돌이 언제부터 이곳에 있었는지 추정한다.',{naturalist:12,logical:4}),
      opt('🤔 잠시 명상에 잠겨, 이 문양이 나에게 어떤 영감을 주는지 내면의 소리에 귀 기울인다.',{intrapersonal:12})
    ),
    q("숲의 울림", "밤이 되자 숲 속에서 규칙적인 북소리 같은 울림이 들려온다. 불안해하는 동료들 사이에서, 당신은 어떻게 행동할까?",
      opt('🎶 울림의 박자와 리듬을 분석하여, 그것이 인공적인 신호인지 자연적인 소리인지 판단한다.',{musical:14,logical:4}),
      opt('🏕️ 즉시 안전한 야영지를 구축하고, 교대로 불침번을 서며 동료들을 안심시킨다.',{bodily:12,interpersonal:8}),
      opt('🤫 소리의 근원지를 향해 조심스럽게 다가가, 정체가 무엇인지 직접 확인한다.',{bodily:12,spatial:4}),
      opt('🤝 동료들을 모아 각자의 의견을 듣고, 다 함께 다음 행동을 결정한다.',{interpersonal:14})
    ),
    q("고목의 비문", "마침내 거대한 고목을 찾았다. 그 앞에는 글자가 거의 지워진 낡은 비문이 서 있다. '오직 [■■] 자만이 빛을 보리라.' 비문의 내용을 어떻게 알아낼까?",
      opt('🔎 남아있는 글자의 형태와 조각들을 조합하여 사라진 단어를 추리한다.',{linguistic:14}),
      opt('📜 주변에서 비문과 비슷한 시대의 다른 유적을 찾아, 사용된 언어의 패턴을 비교 분석한다.',{logical:10,spatial:6}),
      opt('🖐️ 비문 표면을 손으로 직접 문질러, 마모된 글자의 흔적을 감각으로 읽어낸다.',{bodily:12,naturalist:4}),
      opt('❓ '만약 내가 비문을 세웠다면 어떤 단어를 썼을까?' 스스로 질문하며 답을 찾는다.',{intrapersonal:12,linguistic:4})
    ),
    q("가뭄의 마을", "숲을 나오자 극심한 가뭄으로 고통받는 마을을 마주쳤다. 물을 찾아달라는 마을 사람들의 간절한 눈빛을 외면할 수 없다. 어떻게 그들을 도울까?",
      opt('🌊 주변 지형을 정밀하게 분석하여, 지하 수맥이 있을 만한 곳을 찾아낸다.',{logical:12,spatial:8}),
      opt('💪 마을 사람들을 조직하고 격려하며, 다 함께 우물을 파는 작업에 직접 참여한다.',{interpersonal:14,bodily:6}),
      opt('🌱 가뭄에도 잘 자라는 식물들을 추적하여, 물이 있는 곳의 단서를 찾는다.',{naturalist:12}),
      opt('🗣️ 물 분배 문제로 다투는 마을 사람들을 중재하고, 모두가 합의할 규칙을 만든다.',{interpersonal:14,linguistic:6})
    ),
    q("광장의 노래", "마을 광장에서 한 음유시인이 '빛을 잃은 왕관'에 대한 노래를 부르고 있다. 가사 속에 중요한 단서가 있을지도 모른다.",
      opt('🎼 노래의 가사 하나하나를 빠짐없이 기록하고, 그 안에 숨겨진 은유를 분석한다.',{linguistic:12,musical:6}),
      opt('😊 노래가 끝난 후, 음유시인에게 다가가 그의 이야기에 깊은 관심을 보이며 추가 정보를 얻는다.',{interpersonal:12}),
      opt('🗺️ 노래에 묘사된 '세 개의 봉우리'나 '붉은 강' 같은 지형을 지도에서 찾아본다.',{spatial:12}),
      opt('🎵 가사보다는 노래의 슬픈 멜로디에 집중하여, '잃어버린 왕관'의 감정적 의미를 파악한다.',{musical:12,intrapersonal:4})
    ),
    q("국경의 의심", "단서를 따라 도착한 국경 요새. 하지만 수비대는 당신의 신분을 의심하며 길을 열어주지 않는다. 어떻게 이 상황을 해결할까?",
      opt('👑 나의 신분과 여정의 목적을 논리정연하고 설득력 있게 설명하여 신뢰를 얻는다.',{linguistic:14,interpersonal:6}),
      opt('🛡️ 수비대의 경계심을 이해한다고 말하며, 그들의 임무를 존중하는 태도를 보인다.',{interpersonal:16}),
      opt('🔍 지금까지 모아온 증거물(편지, 지도 조각 등)을 제시하여 나의 주장을 증명한다.',{logical:12}),
      opt('⏳ 당장 통과하려 하지 않고, 요새 밖에서 머물며 그들이 마음을 열 때까지 기다린다.',{intrapersonal:12})
    ),
    q("왕의 시험", "마침내 왕 앞에 선 당신. 그는 시험하듯 묻는다. '백성의 행복과 왕국의 안정, 둘 중 하나만 택해야 한다면 무엇을 택하겠는가?' 당신의 답은?",
      opt('💬 '백성의 행복이 곧 왕국의 가장 튼튼한 기반입니다.'라고 답하며 구체적인 정책을 제시한다.',{interpersonal:16,linguistic:6}),
      opt('⚖️ '안정 없는 행복은 신기루와 같으니, 먼저 튼튼한 방벽을 쌓겠습니다.'라고 답한다.',{logical:14,bodily:6}),
      opt('❓ '그 둘은 분리될 수 없습니다. 왜 그런 선택을 해야만 하는가?' 스스로 되묻는다.',{intrapersonal:12,logical:8}),
      opt('🎨 '교육과 예술을 통해 백성들의 마음을 풍요롭게 하는 것이 장기적인 안정의 길입니다.'라고 답한다.',{linguistic:12,musical:4})
    ),
    q("고대의 장치", "왕이 인정한 당신에게 마지막 장소의 지도가 주어진다. 그곳엔 복잡한 고대 장치가 잠들어 있다. 어떻게 작동시킬까?",
      opt('⚙️ 톱니바퀴와 문양들의 관계를 분석하여, 장치의 논리적인 작동 원리를 파악한다.',{logical:14,spatial:6}),
      opt('✋ 장치의 여러 부분을 직접 만지고 움직여보며, 물리적인 반응을 통해 해법을 찾는다.',{bodily:12}),
      opt('🔊 장치에서 주기적으로 들려오는 미세한 소리의 높낮이와 패턴에서 단서를 찾는다.',{musical:12}),
      opt('🌿 장치 주변에만 자라는 특이한 식물이나 이끼를 통해, 장치의 에너지원을 추측한다.',{naturalist:12})
    ),
    q("길 잃은 아이", "장치를 작동시키자 새로운 길이 열렸다. 하지만 그 길목에서, 겁에 질려 울고 있는 한 아이를 발견했다. 어떻게 할 것인가?",
      opt('❤️ 아이의 눈높이에 맞춰 앉아, 부드러운 목소리로 안심시키며 무슨 일이 있었는지 들어준다.',{interpersonal:14}),
      opt('👣 아이가 걸어온 방향의 발자국이나 흔적을 찾아, 부모를 찾을 단서를 수집한다.',{spatial:12,naturalist:8}),
      opt('🎵 아이의 긴장을 풀어주기 위해, 재미있는 노래를 불러주거나 작은 놀이를 함께 한다.',{musical:10,interpersonal:6}),
      opt('🤔 일단 아이를 안전한 곳으로 데려간 뒤, 침착하게 아이를 찾을 최선의 방법을 계획한다.',{logical:12,intrapersonal:6})
    ),
    q("마을의 전설", "아이를 부모에게 돌려보내자, 마을 사람들이 당신에게 고대의 전설을 들려준다. '세상의 끝에는 모든 지혜가 잠들어 있는 샘이 있다'고 한다. 어떻게 이 전설을 탐색할까?",
      opt('📜 전설에 등장하는 지명과 단어들을 철저히 조사하여, 숨겨진 의미를 파악한다.',{linguistic:14}),
      opt('🗺️ 전설에서 묘사된 지형적 특징들을 지도에 표시하고, 예상 경로를 설정한다.',{spatial:14}),
      opt('👥 마을의 현자나 나이 많은 이들을 찾아가 전설에 대한 더 자세한 이야기를 듣는다.',{interpersonal:12,linguistic:6}),
      opt('🧘‍♀️ 전설의 내용을 곰곰이 생각하며, 내가 중요하게 생각하는 가치와 연결시켜 본다.',{intrapersonal:12,logical:4})
    ),
    q("어둠의 동굴", "전설을 따라가다 어둠과 습기로 가득 찬 동굴을 만났다. 동굴 안에는 길을 잃은 듯한 불빛들이 깜빡인다. 어떻게 동굴을 통과할까?",
      opt('💡 동굴의 지형과 불빛의 패턴을 분석하여, 안전한 길을 찾아낸다.',{logical:14,spatial:8}),
      opt('✋ 동굴 벽을 손으로 직접 문질러, 발의 감각을 이용해 길을 찾는다.',{bodily:14,intrapersonal:6}),
      opt('🔊 동굴에서 들려오는 메아리 소리의 방향을 분석하여, 출구를 짐작한다.',{musical:12}),
      opt('🔦 횃불을 밝혀 주변 환경을 밝히고, 어둠 속에 숨어 있는 위험을 찾아낸다.',{naturalist:12})
    ),
    q("고대 부족", "동굴을 통과하자 외부와 단절된 고대 부족을 만났다. 그들은 낯선 당신을 경계한다. 어떻게 그들과 소통할까?",
      opt('🗣️ 그들의 몸짓과 소리를 주의 깊게 관찰하여, 비언어적인 방식으로 소통을 시도한다.',{linguistic:14,interpersonal:10}),
      opt('🤝 부족민들에게 먼저 다가가, 존중과 평화의 제스처를 보인다.',{interpersonal:16}),
      opt('🎁 그들에게 작은 선물이나 유용한 물건을 건네며 신뢰를 얻는다.',{logical:12,interpersonal:8}),
      opt('🌿 주변의 식물을 이용해 그들의 문화와 자연의 연관성을 파악한다.',{naturalist:12,spatial:6})
    ),
    q("춤의 의식", "부족민들은 당신에게 그들의 전통 의식인 '춤의 의식'에 참여해달라고 요청한다. 어떻게 참여할까?",
      opt('🕺 부족민들의 춤 동작을 유심히 관찰하고, 그들의 리듬을 몸으로 익혀 따라 한다.',{bodily:16,musical:8}),
      opt('🎵 의식에서 연주되는 음악의 특징을 파악하고, 그에 맞는 나만의 춤을 창조한다.',{musical:14,intrapersonal:6}),
      opt('🤔 춤의 의미와 역사를 부족민들에게 물어보며, 의식에 대한 이해를 깊게 한다.',{linguistic:12,interpersonal:8}),
      opt('👀 춤을 추는 부족민들의 표정과 몸짓에서 그들의 감정을 읽고 공감한다.',{interpersonal:14})
    ),
    q("지혜의 샘", "모든 시련을 이겨내고 마침내 지혜의 샘에 도착했다. 샘물은 당신의 과거와 미래를 비춘다. 무엇을 볼 것인가?",
      opt('📚 샘물에 비친 과거의 지식들을 흡수하여, 나의 지능을 더욱 확장한다.',{linguistic:16,logical:10}),
      opt('💡 샘물이 보여주는 미래의 가능성 중, 가장 논리적이고 현실적인 길을 선택한다.',{logical:16,intrapersonal:8}),
      opt('💖 샘물에 비친 사람들의 행복한 모습을 보며, 그들을 위해 무엇을 할 수 있을지 생각한다.',{interpersonal:16,intrapersonal:8}),
      opt('🌌 샘물이 보여주는 우주의 신비와 자연의 섭리를 깊이 관찰한다.',{naturalist:16,spatial:10})
    ),
    q("샘물의 시험", "지혜의 샘은 당신에게 마지막 시험을 제시한다. '가장 위대한 지혜는 무엇인가?' 당신의 답은?",
      opt('💬 '타인의 아픔에 공감하고 사랑하는 마음입니다.'라고 답한다.',{interpersonal:16}),
      opt('🧠 '세상을 이해하고 문제를 해결하는 논리적 사고입니다.'라고 답한다.',{logical:16}),
      opt('🌳 '자연의 순리와 조화를 이해하는 것입니다.'라고 답한다.',{naturalist:16}),
      opt('🎶 '아름다움을 창조하고 감동을 주는 예술적 영감입니다.'라고 답한다.',{musical:16})
    ),
    q("진정한 왕의 귀환", "모든 시험을 통과하고 샘의 축복을 받은 당신. 이제 진정한 왕으로서 왕국으로 돌아갈 시간이다. 어떤 모습으로 돌아갈 것인가?",
      opt('👑 위엄과 지혜를 겸비한 모습으로 돌아가, 왕국을 평화롭게 다스린다.',{linguistic:14,interpersonal:12}),
      opt('💪 백성들을 이끌고 직접 나라를 재건하며, 강인한 리더십을 보여준다.',{bodily:14,interpersonal:10}),
      opt('✨ 백성들에게 새로운 지식과 예술을 전파하며, 문명의 발전을 이끈다.',{logical:14,musical:10}),
      opt('🌿 자연과 인간이 조화롭게 살아가는 이상적인 왕국을 건설한다.',{naturalist:14,intrapersonal:10})
    ),
    q("계승자의 명예", "왕위에 오른 당신은 이제 미래를 위한 결정을 해야 한다. 당신의 후계자는 어떤 자질을 가진 인물이어야 하는가?",
      opt('📚 뛰어난 언어 능력과 지식을 겸비한 학자를 후계자로 지명한다.',{linguistic:14,logical:8}),
      opt('💖 백성을 사랑하고 공감 능력이 뛰어난 인물을 후계자로 삼는다.',{interpersonal:16}),
      opt('⚔️ 위기 상황에 강인하게 대처하고, 백성을 직접 보호할 수 있는 용사를 택한다.',{bodily:14,spatial:8}),
      opt('🧘‍♀️ 자신의 내면을 깊이 이해하고, 백성들의 마음을 헤아릴 수 있는 현자를 선택한다.',{intrapersonal:16})
    ),
    q("평화로운 시대", "당신의 통치 아래 왕국은 평화롭고 번영한다. 백성들은 당신을 영원히 기억할 것이다. 당신의 치세는 어떤 모습으로 역사에 기록될까?",
      opt('✨ 지혜와 정의로움으로 모든 갈등을 해결하고, 평화로운 시대를 이룩한 왕으로 기억된다.',{logical:14,interpersonal:12}),
      opt('🎨 예술과 학문을 장려하여, 문화적 황금기를 이끈 위대한 군주로 칭송받는다.',{musical:14,linguistic:12}),
      opt('🌳 자연과 조화를 이루는 정책으로, 풍요로운 환경을 조성한 환경 친화적인 왕으로 기록된다.',{naturalist:14,bodily:10}),
      opt('❤️ 백성들의 마음을 하나로 모아, 모두가 행복한 공동체를 만든 따뜻한 왕으로 기억된다.',{intrapersonal:14,interpersonal:14})
    )
  ],
  princess: [
    q("잃어버린 일기장", "성 정원 가장 깊은 곳, 비밀의 샘 근처에서 낡은 일기장을 발견했다. 공주님이 썼을 법한 섬세한 글씨로 '가장 귀한 보석은 마음속에 있다'고 적혀있다. 그 의미를 어떻게 해석해야 할까?",
      opt('✍️ 문장 하나하나의 의미를 깊이 생각하고, 숨겨진 비유와 상징을 찾아본다.',{linguistic:14}),
      opt('🤔 조용히 샘물가에 앉아, 나 자신의 내면을 들여다보며 그 의미를 깨닫고자 한다.',{intrapersonal:14,interpersonal:6}),
      opt('🏰 일기장에 묘사된 정원의 지형과 비밀 통로를 지도에 표시해본다.',{spatial:12}),
      opt('👥 일기장의 필체를 아는 궁중 화가를 찾아가, 일기장의 주인을 추론한다.',{interpersonal:12,logical:4})
    ),
    q("정원의 수수께끼", "일기장에는 '해가 지는 방향으로 일곱 걸음, 그리고 밤의 노래가 끝날 때'라는 알쏭달쏭한 구절이 있다. 이 수수께끼를 어떻게 풀어야 할까?",
      opt('🧭 정확히 서쪽으로 일곱 걸음을 걸은 뒤, 밤의 별자리와 달의 위치를 관찰한다.',{spatial:14,naturalist:6}),
      opt('🎵 밤이 되었을 때, 정원에서 들려오는 모든 소리를 주의 깊게 듣고 패턴을 분석한다.',{musical:12,logical:6}),
      opt('🏃‍♀️ 일곱 걸음을 걷는 가장 효율적인 움직임을 연구하여, 최단 경로로 이동한다.',{bodily:10,logical:6}),
      opt('📖 일기장 속 다른 구절들과 연관성을 찾아, 구절의 진정한 의미를 추론한다.',{linguistic:12})
    ),
    q("궁정 연회", "다음 단서가 궁정 연회에 숨겨져 있다는 것을 알게 되었다. 하지만 사람들로 붐비는 곳에서 단서를 찾는 것은 쉽지 않다. 어떻게 행동할까?",
      opt('🤫 연회장의 모든 대화를 주의 깊게 엿들어, 중요한 정보를 찾아낸다.',{linguistic:14,interpersonal:6}),
      opt('🕺 음악에 맞춰 춤을 추며 자연스럽게 사람들과 어울려 정보를 얻는다.',{bodily:12,interpersonal:8}),
      opt('🖼️ 연회장 벽에 걸린 그림들과 장식품의 배치를 분석하여 단서를 찾는다.',{spatial:12}),
      opt('🤐 조용히 구석에 앉아, 나 자신에게 주어진 임무에 대해 깊이 생각한다.',{intrapersonal:12})
    ),
    q("무도회장의 가면", "무도회에서 가면을 쓴 수상한 사람이 당신에게 귓속말로 '자정의 종소리에 맞춰 정원의 분수대로 오라'고 속삭였다. 어떻게 할까?",
      opt('🕵️‍♀️ 수상한 사람의 걸음걸이와 행동 패턴을 분석하여, 그의 신분을 추정한다.',{bodily:12,logical:6}),
      opt('⏰ 약속 장소에 미리 도착해 분수대 주변의 모든 지형을 살핀다.',{spatial:12,intrapersonal:6}),
      opt('🤝 주변 사람들에게 그 수상한 사람에 대해 물어보며 정보를 모은다.',{interpersonal:14}),
      opt('🎶 자정의 종소리 소리를 기억하며, 그 소리가 울리는 방식에 집중한다.',{musical:12})
    ),
    q("사서의 부탁", "도서관에서 단서를 찾던 중, 사서가 당신에게 곤란한 부탁을 한다. '오래된 책들의 순서가 뒤섞였으니, 제자리를 찾아달라'고 한다. 어떻게 할까?",
      opt('📚 책의 내용과 저술 시기를 분석하여, 논리적인 순서대로 배열한다.',{logical:14,linguistic:6}),
      opt('🏃‍♀️ 책을 들고 빠르게 도서관을 돌아다니며, 원래의 위치를 찾아낸다.',{bodily:12}),
      opt('🧐 책장에 남은 미세한 먼지 흔적이나 빛바랜 자국을 통해, 책의 원래 위치를 추정한다.',{naturalist:12,spatial:6}),
      opt('💬 사서와 다른 사람들에게 책의 원래 순서에 대해 물어본다.',{interpersonal:14})
    ),
    q("미로 정원", "단서를 따라 도착한 곳은 복잡한 미로 정원. 길을 잃지 않고 지나가는 방법은 무엇일까?",
      opt('🧭 미로의 전체 지도를 머릿속에 그리며, 가장 효율적인 경로를 계산한다.',{spatial:14,logical:6}),
      opt('👣 벽을 한쪽 손으로 짚고 계속 걸어가, 언젠가는 출구를 찾는 방법을 사용한다.',{bodily:12}),
      opt('🔊 미로 벽에 귀를 대고 소리를 들으며, 다른 사람이나 동물의 소리로부터 단서를 얻는다.',{musical:12,interpersonal:8}),
      opt('🤔 잠시 멈춰 미로의 구조를 파악하고, 내면의 직관을 믿고 길을 선택한다.',{intrapersonal:12})
    ),
    q("숨겨진 온실", "미로 정원을 지나자, 사계절의 꽃이 피어있는 신비로운 온실을 발견했다. 온실 안에는 '고귀한 꽃은 가장 작은 씨앗에서 피어난다'는 문구가 적혀 있다.",
      opt('🌱 온실의 식물들을 관찰하고, 씨앗의 종류와 번식 방법을 연구한다.',{naturalist:14,logical:6}),
      opt('✍️ 문구의 의미를 곱씹으며, 나에게 숨겨진 잠재력은 무엇인지 생각한다.',{intrapersonal:14,linguistic:6}),
      opt('👥 온실을 관리하는 정원사를 찾아가 꽃에 대한 정보를 얻는다.',{interpersonal:12}),
      opt('🎨 꽃들의 색과 모양을 관찰하여, 그 아름다움을 그림으로 남긴다.',{spatial:12,musical:6})
    ),
    q("밤의 요정", "온실에 머물던 중, 밤의 요정이 나타나 당신에게 수수께끼를 낸다. '잡을 수 없지만 모든 것을 채우고, 눈에 보이지 않지만 모든 것을 움직이게 하는 것은?'",
      opt('🌬️ 바람의 움직임과 소리를 생각하며, 답을 추리한다.',{naturalist:14,spatial:8}),
      opt('💭 이 수수께끼가 나 자신에게 던지는 질문이라 생각하고, 내면의 답을 찾는다.',{intrapersonal:14,linguistic:6}),
      opt('🎶 요정의 목소리 톤과 멜로디에서 힌트를 얻으려 한다.',{musical:12}),
      opt('💬 논리적으로 수수께끼를 분석하고, 가능한 답을 나열해본다.',{logical:12})
    ),
    q("신전의 조각상", "다음 장소는 고대의 신전. 그곳에는 8개의 조각상이 원형으로 서 있다. 각각의 조각상은 다른 표정을 짓고 있다. 어떤 조각상을 먼저 만져볼까?",
      opt('😢 가장 슬퍼 보이는 조각상에게 다가가, 그 감정에 공감하려 노력한다.',{interpersonal:14,intrapersonal:8}),
      opt('🤔 가장 복잡한 표정을 짓는 조각상의 의미를 파악하려 한다.',{linguistic:12,logical:8}),
      opt('🏃‍♀️ 조각상들 주변을 빠르게 돌아보며, 특별한 지형적 특징이 있는지 살핀다.',{bodily:12,spatial:6}),
      opt('🎶 조각상에서 나는 소리를 듣고, 어떤 소리가 나는지 집중한다.',{musical:12})
    ),
    q("잊혀진 언어", "조각상을 만지자, 바닥에 잊혀진 고대 문자가 새겨진다. 이 문자를 해독해야 다음으로 넘어갈 수 있다.",
      opt('📜 문자의 형태와 배열을 분석하여, 문법적인 규칙을 찾아 해독한다.',{linguistic:16}),
      opt('⚙️ 문자를 일종의 논리 퍼즐이라 생각하고, 패턴을 찾아 해독한다.',{logical:14}),
      opt('🧘‍♀️ 잠시 눈을 감고 문자가 주는 느낌에 집중하여, 내면의 직관으로 답을 찾는다.',{intrapersonal:12}),
      opt('🤝 주변에 있는 다른 조각상들이 이 문자에 대해 무엇을 말하는지 상상한다.',{interpersonal:12})
    ),
    q("시작점의 비밀", "해독된 문자는 '시작점에 모든 해답이 있다'고 말한다. 시작점은 어디일까?",
      opt('🗺️ 지도를 꺼내 현재 위치와 가장 처음 시작했던 곳의 지형을 비교한다.',{spatial:14}),
      opt('💭 모든 여정을 되돌아보며, 가장 처음 내렸던 결정의 의미를 다시금 생각한다.',{intrapersonal:14,logical:8}),
      opt('🤝 함께 모험을 시작했던 동료들에게 다시 한번 의견을 구한다.',{interpersonal:14,linguistic:6}),
      opt('🌿 처음 모험을 시작한 장소 주변의 식물을 관찰하여, 변화된 환경에서 단서를 찾는다.',{naturalist:12})
    ),
    q("고목의 속삭임", "시작점으로 돌아오자, 숲 속의 고목이 당신에게 속삭인다. '자연의 섭리를 이해하는 자만이 길을 알리라.'",
      opt('🌱 고목 주변의 생태계를 관찰하고, 자연의 순환을 이해하려 노력한다.',{naturalist:16}),
      opt('🎵 고목이 내는 미세한 소리와 바람의 속삭임을 통해 길을 찾는다.',{musical:14,spatial:8}),
      opt('🧘‍♀️ 나 자신과 자연이 하나라고 생각하며, 내면의 평화를 찾는다.',{intrapersonal:14,interpersonal:8}),
      opt('❓ 고목의 속삭임이 상징하는 바를 논리적으로 분석한다.',{logical:12,linguistic:8})
    ),
    q("황금빛 열매", "고목의 속삭임에 따라 숲속 깊은 곳으로 가자, 영롱한 황금빛 열매를 발견했다. 이 열매는 무엇을 상징할까?",
      opt('✨ 열매의 아름다운 형태와 빛깔을 분석하여, 그 미적 가치를 탐구한다.',{spatial:14,musical:8}),
      opt('🧠 열매의 형태가 황금비율이나 수학적 패턴과 일치하는지 확인한다.',{logical:12,naturalist:8}),
      opt('🎁 열매를 따서, 다른 사람들과 나누면 더 큰 기쁨을 얻을 수 있다고 생각한다.',{interpersonal:12,intrapersonal:8}),
      opt('🖐️ 열매를 직접 만져보고, 그 촉감과 무게를 느껴본다.',{bodily:12})
    ),
    q("거울의 시험", "열매를 만지자, 앞에 거울이 나타나 당신의 가장 큰 두려움을 비춘다. 어떻게 이 시험을 통과할까?",
      opt('🧘‍♀️ 거울에 비친 두려움의 존재를 똑바로 마주하고, 그것이 나 자신임을 받아들인다.',{intrapersonal:16}),
      opt('💬 거울 속의 나에게 말을 걸어, 두려움의 근원을 파악하려 한다.',{linguistic:14}),
      opt('💪 두려움에 맞서기 위해, 직접 거울 속의 나에게 몸짓으로 도전한다.',{bodily:14,interpersonal:6}),
      opt('💡 논리적으로 생각하여, 거울에 비친 모습은 실재하지 않는다는 것을 깨닫는다.',{logical:14})
    ),
    q("음악의 탑", "거울의 시험을 통과하자, 하늘 높이 솟은 음악의 탑이 나타난다. 탑 꼭대기에는 '가장 아름다운 음악은 고요함 속에서 태어난다'는 문구가 적혀 있다.",
      opt('🎶 탑에서 들려오는 미세한 소리를 조합하여, 하나의 완벽한 멜로디를 만든다.',{musical:16,linguistic:8}),
      opt('🌿 탑 주변의 자연 환경 소리(바람, 새소리)와 탑의 음악을 조화롭게 연결한다.',{naturalist:14,musical:8}),
      opt('🤝 탑의 경비병에게 탑에 얽힌 전설을 물어본다.',{interpersonal:12,linguistic:6}),
      opt('🧗‍♀️ 탑의 구조를 파악하고, 가장 안전하고 효율적인 길을 찾아 올라간다.',{spatial:14,bodily:8})
    ),
    q("탑 꼭대기의 선택", "탑 꼭대기에는 두 개의 문이 있다. 한 문에는 '과거', 다른 문에는 '미래'라고 적혀 있다. 어떤 문을 열까?",
      opt('🚪 '과거'의 문을 열어, 나의 과거로부터 지혜를 얻는다.',{intrapersonal:16}),
      opt('🚪 '미래'의 문을 열어, 앞으로 나아갈 길에 대한 영감을 얻는다.',{logical:16}),
      opt('🚪 두 문을 모두 열고, 과거의 교훈을 바탕으로 미래를 설계한다.',{linguistic:14,interpersonal:8}),
      opt('🚪 두 문을 열지 않고, 현재에 집중하여 나만의 새로운 길을 만든다.',{bodily:14,naturalist:8})
    ),
    q("별빛의 노래", "문이 열리자 별빛이 쏟아져 내리며 아름다운 노래를 들려준다. 이 노래는 당신의 가장 깊은 소망을 담고 있다.",
      opt('🎶 노래의 음계와 리듬을 완벽하게 기억하여, 직접 연주해본다.',{musical:16}),
      opt('🗣️ 노래의 가사를 분석하여, 나의 잠재된 소망이 무엇인지 명확하게 깨닫는다.',{linguistic:16,intrapersonal:8}),
      opt('🌌 별자리의 움직임과 노래의 멜로디를 연결하여, 우주의 원리를 파악한다.',{naturalist:14,spatial:10}),
      opt('👥 노래를 사람들과 함께 공유하여, 모두의 소망을 하나로 모은다.',{interpersonal:14})
    ),
    q("빛의 계승자", "별빛의 노래를 들은 당신은 마침내 빛의 계승자로서의 자격을 얻었다. 이제 당신은 어떤 길을 선택할 것인가?",
      opt('🎨 예술과 음악을 통해 사람들의 마음을 치유하고, 아름다움을 전파하는 삶을 산다.',{musical:16,interpersonal:12}),
      opt('🧠 학문과 지식을 탐구하며, 세상을 더 나은 곳으로 만드는 연구자가 된다.',{logical:16,linguistic:12}),
      opt('🌿 자연과 함께하며, 생명의 소중함을 알리는 환경 운동가가 된다.',{naturalist:16,intrapersonal:10}),
      opt('💖 모든 사람을 포용하고, 그들의 행복을 위해 헌신하는 진정한 리더가 된다.',{interpersonal:16,intrapersonal:12})
    ),
    q("왕국의 미래", "당신의 영향력 아래 왕국은 예술과 과학이 꽃피는 시대에 접어든다. 미래의 왕국은 어떤 모습일까?",
      opt('🎼 음악과 예술이 일상이 되는, 창조적이고 감성적인 왕국으로 기록된다.',{musical:14,spatial:12}),
      opt('💡 논리와 지식이 모든 문제를 해결하는, 이성적이고 진보적인 왕국으로 기억된다.',{logical:14,linguistic:12}),
      opt('🌳 자연과 조화를 이루며 지속 가능한 삶을 추구하는, 친환경 왕국으로 칭송받는다.',{naturalist:14,bodily:10}),
      opt('🤝 서로를 이해하고 돕는, 따뜻하고 공감 능력이 뛰어난 왕국으로 영원히 남는다.',{interpersonal:14,intrapersonal:14})
    )
  ],
  warrior: [
    q("파괴된 마을", "모험을 시작하려던 찰나, 몬스터의 습격으로 폐허가 된 마을을 발견했다. 마을 사람들은 공포에 떨고 있다. 어떻게 할 것인가?",
      opt('⚔️ 마을 사람들을 진정시키고, 몬스터의 흔적을 찾아 그들의 경로를 추적한다.',{bodily:16,interpersonal:6}),
      opt('🔎 마을 사람들의 증언을 종합하여, 몬스터의 종류와 행동 패턴을 분석한다.',{logical:12,linguistic:8}),
      opt('🗺️ 마을 주변의 지형을 살펴, 몬스터가 숨을 만한 동굴이나 은신처를 찾는다.',{spatial:12,naturalist:8}),
      opt('❤️ 공포에 질린 마을 사람들을 위로하고, 그들의 감정에 공감하며 마음을 다독인다.',{interpersonal:14})
    ),
    q("몬스터의 발자국", "숲 속에서 거대한 몬스터의 발자국을 발견했다. 발자국의 크기와 깊이, 간격 등을 통해 몬스터에 대한 정보를 얻으려 한다.",
      opt('🦶 발자국의 깊이를 통해 몬스터의 대략적인 무게를 추정한다.',{bodily:14,logical:6}),
      opt('🤔 발자국의 형태와 주변의 파괴된 흔적을 통해 몬스터의 종류를 유추한다.',{naturalist:14,spatial:8}),
      opt('👥 발자국이 두 개 이상인 것으로 보아, 몬스터가 무리 지어 다니는지를 분석한다.',{logical:12,interpersonal:6}),
      opt('🗺️ 발자국이 향하는 방향을 지도에 표시하고, 예상 이동 경로를 파악한다.',{spatial:12})
    ),
    q("고대의 무기", "숲을 헤치고 가던 중, 땅속에 박혀 있는 고대의 검을 발견했다. 검은 이끼로 덮여 있지만, 뿜어내는 기운이 예사롭지 않다.",
      opt('💪 검을 뽑아 휘두르며, 무기의 무게와 균형을 몸으로 익힌다.',{bodily:16}),
      opt('🔍 검에 새겨진 고대 문양을 자세히 관찰하여, 검의 기원과 능력에 대해 추론한다.',{linguistic:14,spatial:6}),
      opt('🧐 검의 재질과 부식 정도를 분석하여, 검이 얼마나 오래되었는지 과학적으로 파악한다.',{logical:14,naturalist:6}),
      opt('✨ 검에서 느껴지는 신비로운 기운에 집중하여, 나의 내면의 힘을 끌어낸다.',{intrapersonal:12})
    ),
    q("동굴 속 메아리", "몬스터의 은신처인 동굴에 들어서자, 기괴한 소리의 메아리가 들려온다. 이 소리를 어떻게 이용할까?",
      opt('⚔️ 소리의 울림을 이용하여 동굴의 내부 구조를 파악하고, 몬스터의 위치를 짐작한다.',{spatial:14,musical:8}),
      opt('🏃‍♀️ 소리가 나는 방향으로 거침없이 달려가 몬스터와 직접 마주한다.',{bodily:12,intrapersonal:6}),
      opt('🎶 소리의 주파수와 패턴을 분석하여, 몬스터의 종류와 심리 상태를 파악한다.',{musical:12,logical:8}),
      opt('🗣️ 메아리를 이용해 큰소리를 내어 몬스터를 혼란에 빠뜨린다.',{linguistic:12})
    ),
    q("몬스터와의 대면", "마침내 몬스터와 대면했다. 당신은 어떻게 몬스터를 상대할 것인가?",
      opt('⚔️ 몬스터의 움직임을 예측하고, 가장 취약한 부분을 정확히 노린다.',{bodily:16,logical:8}),
      opt('🛡️ 몬스터의 공격을 방어하며, 그의 힘이 지칠 때까지 기다린다.',{intrapersonal:14}),
      opt('🗣️ 몬스터에게 말을 걸어, 왜 마을을 공격했는지 그 이유를 물어본다.',{linguistic:14,interpersonal:8}),
      opt('🌿 주변 지형을 이용해 몬스터의 움직임을 제한하고, 함정을 만든다.',{spatial:12,naturalist:8})
    ),
    q("전장의 노래", "몬스터를 물리치자, 폐허가 된 마을에서 한 음유시인이 당신을 위한 승리의 노래를 부른다. 어떤 노래를 원하나?",
      opt('🎵 용감한 전사의 위업을 칭송하는 웅장하고 강렬한 노래를 원한다.',{musical:16,bodily:8}),
      opt('👥 전쟁의 아픔과 평화의 소중함을 담은, 모두가 공감할 수 있는 노래를 부탁한다.',{interpersonal:14,linguistic:10}),
      opt('🧠 전투의 과정을 상세히 묘사하여, 다음 전투를 위한 교훈을 주는 노래를 원한다.',{logical:14,linguistic:10}),
      opt('🌿 자연과 인간의 조화를 노래하는, 평화로운 멜로디의 노래를 선택한다.',{naturalist:12,intrapersonal:8})
    ),
    q("전설 속 용", "승리의 노래를 뒤로하고, 다음 단서를 찾아 전설 속 용이 잠든 산으로 향한다. 산의 험준한 지형을 어떻게 극복할까?",
      opt('🧗‍♀️ 가장 험난한 절벽을 맨몸으로 등반하여, 나의 신체 능력을 시험한다.',{bodily:16}),
      opt('🧭 산의 지도를 면밀히 분석하고, 최단 경로와 안전한 우회로를 동시에 고려한다.',{spatial:14,logical:8}),
      opt('👥 산에 사는 부족민들에게 도움을 청하고, 그들의 지혜를 빌린다.',{interpersonal:12,linguistic:8}),
      opt('🌬️ 바람의 방향과 날씨 변화를 예측하며, 가장 안전한 시기에 등반을 시작한다.',{naturalist:14})
    ),
    q("용의 동굴", "마침내 용의 동굴에 도착했다. 동굴 입구에는 '오직 스스로를 아는 자만이 용과 마주할 수 있다'는 문구가 적혀 있다.",
      opt('🧘‍♀️ 동굴에 들어가기 전, 잠시 명상하며 나의 내면을 깊이 성찰한다.',{intrapersonal:16}),
      opt('🧐 문구에 담긴 철학적 의미를 파고들어, '스스로를 안다'는 것이 무엇을 의미하는지 분석한다.',{linguistic:14}),
      opt('⚔️ 문구의 뜻을 무시하고, 강한 무력으로 동굴을 돌파하려 한다.',{bodily:14,logical:8}),
      opt('📜 주변에서 용에 대한 다른 전설이나 기록을 찾아본다.',{linguistic:12,interpersonal:8})
    ),
    q("잠자는 용", "동굴 깊은 곳, 용이 깊은 잠에 빠져 있다. 용을 깨우지 않고 지나갈 방법은?",
      opt('👣 발소리를 죽이고, 가장 은밀한 경로를 통해 조용히 지나간다.',{bodily:16}),
      opt('🔊 용의 코골이 소리의 주파수를 분석하여, 소리가 가장 작은 순간에 움직인다.',{musical:14,logical:8}),
      opt('🖼️ 동굴 벽에 그려진 용의 생태도를 참고하여, 용의 약점을 찾는다.',{spatial:12,naturalist:8}),
      opt('🤔 잠시 멈춰, 용을 깨우지 않고 지나가는 것이 과연 올바른 선택인지 고민한다.',{intrapersonal:14,interpersonal:8})
    ),
    q("용의 보물", "용을 지나자, 눈부신 보물이 가득한 방이 나타난다. 하지만 보물 상자에는 '탐욕은 파멸을 부른다'는 경고가 적혀 있다.",
      opt('✨ 보물 상자를 열기 전에, 보물의 위치와 주변 환경을 철저히 분석한다.',{spatial:14,logical:8}),
      opt('⚔️ 보물 상자를 조심스럽게 열어, 안에 숨겨진 함정이 있는지 확인한다.',{bodily:12}),
      opt('🎵 보물 상자에서 나는 미세한 소리를 통해, 함정의 존재를 파악한다.',{musical:12}),
      opt('🤔 보물의 유혹을 물리치고, 나의 진정한 목표가 무엇인지 다시 한번 생각한다.',{intrapersonal:14,linguistic:8})
    ),
    q("마법의 숲", "보물을 뒤로하고, 짙은 안개로 뒤덮인 마법의 숲에 들어섰다. 숲은 방향 감각을 혼란스럽게 한다.",
      opt('🧭 숲의 지형을 머릿속에 시각화하여, 안개 속에서도 길을 잃지 않는다.',{spatial:16}),
      opt('🌿 나무의 종류와 이끼의 자란 방향을 통해 북쪽을 찾는다.',{naturalist:14,logical:8}),
      opt('🏃‍♀️ 숲속을 빠르게 뛰어, 안개를 뚫고 나아가려 한다.',{bodily:14}),
      opt('👥 길을 잃은 다른 여행자를 만나, 함께 숲을 통과할 방법을 찾는다.',{interpersonal:12})
    ),
    q("나무의 속삭임", "숲을 지나자 거대한 나무가 당신에게 속삭인다. '자연의 섭리를 거스르지 마라.'",
      opt('🌱 나무의 속삭임이 상징하는 바를 이해하고, 자연의 원리를 존중하는 태도를 보인다.',{naturalist:16,intrapersonal:8}),
      opt('💬 나무의 목소리에 답하며, 자연과 소통하려 시도한다.',{linguistic:14}),
      opt('🤔 나무의 말을 논리적으로 분석하여, 그 안에 숨겨진 단서를 찾는다.',{logical:12,musical:8}),
      opt('❤️ 나무의 고통에 공감하며, 어떻게 하면 나무를 도울 수 있을지 생각한다.',{interpersonal:14})
    ),
    q("폭포의 시험", "다음 목적지는 거대한 폭포. 폭포 아래에는 '오직 강한 의지만이 물결을 거스를 수 있다'는 글귀가 새겨져 있다.",
      opt('🏊‍♀️ 폭포의 거센 물살을 헤쳐나가며, 나의 신체적 한계를 시험한다.',{bodily:16}),
      opt('💡 물의 흐름과 폭포 주변의 지형을 분석하여, 가장 안전한 경로를 찾아낸다.',{logical:14,spatial:8}),
      opt('👥 폭포 주변에 사는 사람들에게 폭포를 건너는 방법을 물어본다.',{interpersonal:12}),
      opt('🧘‍♀️ 폭포의 소리에 집중하며, 내면의 평화를 얻고 정신적인 힘을 기른다.',{musical:14,intrapersonal:8})
    ),
    q("사막의 미로", "폭포를 지나자 끝없는 사막이 펼쳐진다. 사막에는 모래 폭풍이 몰아치고 있다. 어떻게 길을 찾을까?",
      opt('🏜️ 바람의 방향과 별자리를 이용해 길을 찾는다.',{naturalist:14,spatial:12}),
      opt('🏃‍♀️ 모래 위를 빠르게 뛰어, 모래 폭풍을 피해간다.',{bodily:16}),
      opt('💬 나침반을 만들거나, 주변의 돌멩이를 이용하여 방향을 파악한다.',{logical:14,bodily:8}),
      opt('🤝 사막을 오가는 상인들과 만나, 정보를 교환한다.',{interpersonal:12,linguistic:6})
    ),
    q("오아시스의 환영", "사막을 걷던 중, 눈앞에 아름다운 오아시스가 나타난다. 하지만 그것은 곧 신기루라는 것을 깨달았다. 어떻게 이 환영을 극복할까?",
      opt('🧠 이것이 환영임을 논리적으로 분석하고, 나의 감각을 믿지 않는다.',{logical:16,intrapersonal:8}),
      opt('🗣️ 스스로에게 '이것은 환영이다'라고 끊임없이 되뇌며 정신을 차린다.',{linguistic:14}),
      opt('💪 환영을 무시하고, 계속해서 목적지를 향해 걸어간다.',{bodily:14}),
      opt('❤️ 잠시 멈춰, 오아시스에 대한 갈망과 목마름을 솔직하게 인정한다.',{intrapersonal:14,interpersonal:8})
    ),
    q("광물의 시험", "사막을 지나자 신비한 광물이 가득한 동굴이 나타난다. 광물들은 각기 다른 소리를 내며 빛나고 있다. 이 광물들을 어떻게 다룰까?",
      opt('⚒️ 광물을 직접 깨트려 보며, 광물의 강도와 물리적 특성을 파악한다.',{bodily:14,logical:8}),
      opt('🎨 광물의 빛깔과 형태를 분석하여, 광물의 종류와 가치를 추정한다.',{spatial:12,musical:10}),
      opt('👥 광물에 대한 지식이 풍부한 광부에게 도움을 청한다.',{interpersonal:14,linguistic:6}),
      opt('🎶 광물들이 내는 소리의 화음을 조절하여, 새로운 길을 열어본다.',{musical:16})
    ),
    q("용사의 귀환", "모든 시련을 이겨내고, 진정한 용사로서 마을로 돌아왔다. 사람들은 당신을 어떻게 기억할까?",
      opt('⚔️ 강력한 힘으로 몬스터를 물리치고, 평화를 가져온 위대한 용사로 기억된다.',{bodily:16,interpersonal:12}),
      opt('🧠 지혜와 논리로 난관을 해결한, 현명한 용사로 칭송받는다.',{logical:16,linguistic:12}),
      opt('❤️ 사람들의 아픔에 공감하고, 그들을 보듬어준 따뜻한 용사로 기억된다.',{interpersonal:16,intrapersonal:10}),
      opt('🌿 자연과 인간의 조화를 이끈, 친환경적인 영웅으로 기록된다.',{naturalist:14,spatial:12})
    ),
    q("평화의 시대", "당신이 가져온 평화 덕분에 왕국은 다시 번영한다. 백성들은 당신을 어떻게 기념할까?",
      opt('🏆 당신의 용맹함을 기리는 거대한 동상을 세운다.',{bodily:14,spatial:10}),
      opt('📜 당신의 업적을 기록한 서사시를 만들어 후대에 전한다.',{linguistic:14,logical:10}),
      opt('🎵 당신의 위업을 기리는 승리의 노래를 만들어 영원히 부르게 한다.',{musical:14,interpersonal:12}),
      opt('🌳 당신이 심은 평화의 나무를 가꾸며, 자연과 함께 살아가는 방식을 배운다.',{naturalist:14,intrapersonal:12})
    )
  ],
  wizard: [
    q("오래된 마법서", "오래된 마법서를 발견했다. 첫 페이지에 '마법은 보이는 것이 아니라, 이해하는 것'이라는 문구가 쓰여 있다. 어떻게 마법을 배울까?",
      opt('📜 책에 쓰인 고대 언어와 복잡한 마법 기호를 해독하여 마법의 원리를 파악한다.',{linguistic:16}),
      opt('🤔 마법서의 내용을 논리적으로 분석하여, 마법이 작동하는 규칙을 찾아낸다.',{logical:16,intrapersonal:6}),
      opt('🧘‍♀️ 조용히 앉아 마법서가 주는 느낌에 집중하며, 내면의 마력을 깨운다.',{intrapersonal:14,musical:8}),
      opt('👨‍🏫 마법서의 내용에 대해 잘 아는 다른 마법사나 현자를 찾아가 가르침을 청한다.',{interpersonal:12,linguistic:8})
    ),
    q("마법의 재료", "마법을 시전하려면 특별한 재료가 필요하다. '달빛을 머금은 이끼', '밤에만 피는 꽃' 등 신비한 재료를 찾아야 한다.",
      opt('🌿 숲 속의 식물과 광물을 관찰하여, 마법서에 묘사된 재료와 일치하는 것을 찾는다.',{naturalist:16}),
      opt('🗺️ 마법서에 그려진 희미한 지도를 따라가, 재료가 있을 만한 장소를 찾아낸다.',{spatial:14,logical:8}),
      opt('👥 숲 속의 요정이나 정령에게 말을 걸어, 재료가 있는 곳에 대한 힌트를 얻는다.',{interpersonal:14,linguistic:8}),
      opt('🏃‍♀️ 숲 속을 이리저리 뛰어다니며, 몸의 감각으로 신비한 기운이 느껴지는 곳을 찾는다.',{bodily:12})
    ),
    q("환상의 미로", "마법의 재료를 찾아 들어선 곳은 환상의 미로. 이 미로는 현실과 환상이 뒤섞여 길을 찾기 어렵다.",
      opt('🌌 밤하늘의 별자리와 달의 위치를 기준으로 길을 찾아낸다.',{spatial:16}),
      opt('🧠 미로의 논리적 구조를 분석하고, 현실과 환상을 구분하여 길을 찾는다.',{logical:16}),
      opt('🎶 미로에서 들려오는 환상의 소리를 구분하고, 현실의 소리를 따라 길을 찾는다.',{musical:14}),
      opt('🧘‍♀️ 미로의 혼란 속에서 침착함을 유지하고, 나의 내면의 목소리에 귀 기울인다.',{intrapersonal:14})
    ),
    q("마법의 주문", "미로를 통과하자, 새로운 마법을 배울 수 있는 주문이 나타난다. 하지만 주문은 복잡한 리듬과 멜로디로 이루어져 있다. 어떻게 주문을 외울까?",
      opt('🎼 주문의 리듬과 멜로디를 정확하게 따라 하여, 마법을 시전한다.',{musical:16}),
      opt('✍️ 주문의 음절 하나하나를 기록하고, 그 의미를 분석하여 마법을 이해한다.',{linguistic:14}),
      opt('💪 주문을 외우는 동안 손으로 복잡한 제스처를 취하며, 마법에 필요한 에너지를 모은다.',{bodily:12}),
      opt('🤔 '왜 이런 리듬으로 외워야 하는가?' 스스로 질문하며, 마법의 원리를 파악한다.',{logical:12,intrapersonal:8})
    ),
    q("동물과의 소통", "새로운 마법을 익힌 당신은 숲속의 동물들과 소통할 수 있게 되었다. 그들은 몬스터의 습격으로 두려워하고 있다. 어떻게 할까?",
      opt('❤️ 동물들의 감정에 공감하고, 그들을 안심시키는 마법을 사용한다.',{interpersonal:16}),
      opt('🗣️ 동물들과 대화하여, 몬스터의 행동 패턴과 약점을 알아낸다.',{linguistic:14,logical:8}),
      opt('🌿 동물들의 은신처를 찾아, 그들의 안전을 위한 새로운 서식지를 만든다.',{naturalist:14,spatial:8}),
      opt('💪 동물들을 이끌고 함께 몬스터에 맞서 싸운다.',{bodily:14,interpersonal:8})
    ),
    q("마법사의 시험", "동물들을 도와준 당신에게, 전설의 마법사 '메르헨'이 나타나 시험을 낸다. '너의 가장 강력한 마법은 무엇인가?' 당신의 답은?",
      opt('💫 '사랑과 공감의 마법입니다. 이 힘으로 모든 생명을 보듬을 수 있습니다.'라고 답한다.',{interpersonal:16}),
      opt('🔥 '불꽃과 얼음을 다루는 마법입니다. 이 힘으로 세상을 수호할 수 있습니다.'라고 답한다.',{bodily:14,logical:8}),
      opt('🧠 '이해와 지식의 마법입니다. 이 힘으로 세상의 모든 수수께끼를 풀 수 있습니다.'라고 답한다.',{logical:16,linguistic:12}),
      opt('🎨 '창조와 예술의 마법입니다. 이 힘으로 새로운 세상을 만들 수 있습니다.'라고 답한다.',{musical:14,spatial:10})
    ),
    q("고대 유적", "메르헨의 시험을 통과하자, 고대 유적으로 가는 지도가 주어진다. 유적은 복잡한 구조로 되어 있어 길을 찾기 어렵다.",
      opt('🗺️ 지도를 머릿속에 시각화하여, 유적의 복잡한 구조를 파악하고 길을 찾는다.',{spatial:16,logical:8}),
      opt('🏃‍♀️ 유적의 벽을 직접 만지고, 돌의 감촉으로 길을 더듬어 나간다.',{bodily:14,intrapersonal:8}),
      opt('🎵 유적에서 들려오는 미세한 소리들의 패턴을 분석하여, 숨겨진 길을 찾아낸다.',{musical:14,linguistic:8}),
      opt('❓ '이 유적은 왜 이렇게 복잡한 구조로 만들어졌을까?' 스스로 질문하며 길을 추리한다.',{intrapersonal:14})
    ),
    q("유적의 퍼즐", "유적 안에는 복잡한 기계 퍼즐이 있다. 이 퍼즐을 풀어야 다음으로 넘어갈 수 있다.",
      opt('⚙️ 퍼즐의 톱니바퀴와 연결고리들의 관계를 분석하여, 논리적으로 해결한다.',{logical:16}),
      opt('✍️ 퍼즐의 각 부분에 쓰인 고대 문자를 해독하여, 숨겨진 의미를 파악한다.',{linguistic:16}),
      opt('👥 퍼즐 주변에 있는 다른 사람들에게 도움을 청하거나, 힌트를 얻는다.',{interpersonal:12,intrapersonal:8}),
      opt('🖐️ 직접 퍼즐을 만져보고, 물리적인 힘으로 해결하려 한다.',{bodily:12})
    ),
    q("시간의 방", "퍼즐을 풀자 '시간의 방'이 나타난다. 이곳에서는 과거와 현재, 미래의 시간이 뒤섞여 있다. 어떻게 이 공간을 통과할까?",
      opt('🕰️ 시간의 흐름을 논리적으로 분석하여, 올바른 시간 축을 찾아낸다.',{logical:16,spatial:10}),
      opt('🧘‍♀️ 시간의 혼란 속에서 나의 내면을 지키고, 흔들림 없이 나아간다.',{intrapersonal:16}),
      opt('👥 과거의 나와 대화하여, 현재의 문제에 대한 조언을 구한다.',{interpersonal:14,linguistic:8}),
      opt('🏃‍♀️ 시간의 흐름에 몸을 맡기고, 직관적으로 다음 순간을 선택한다.',{bodily:14,musical:8})
    ),
    q("우주의 오케스트라", "시간의 방을 통과하자, 우주의 별들이 오케스트라를 연주하는 장소가 나타난다. 이 소리는 무엇을 의미할까?",
      opt('🎶 별들이 내는 소리의 화음을 분석하여, 우주의 근본 원리를 이해한다.',{musical:16,logical:10}),
      opt('🌌 별자리의 움직임과 음악의 리듬을 연결하여, 우주의 지도를 완성한다.',{spatial:14,naturalist:10}),
      opt('🗣️ 음악에 담긴 메시지를 해독하여, 우주의 비밀을 알아낸다.',{linguistic:14,intrapersonal:8}),
      opt('🤝 별빛의 오케스트라를 다른 사람들과 공유하고, 함께 감상한다.',{interpersonal:14,musical:10})
    ),
    q("최후의 시험", "우주의 오케스트라가 끝난 후, 당신 앞에 '가장 위대한 마법은 무엇인가?'라는 질문이 나타난다.",
      opt('🧠 '이해와 지식으로 세상을 밝히는 힘입니다.'라고 답한다.',{logical:16}),
      opt('💖 '타인의 마음을 움직이고 공감하는 사랑의 힘입니다.'라고 답한다.',{interpersonal:16}),
      opt('🌿 '자연과 하나 되어, 생명을 보듬는 힘입니다.'라고 답한다.',{naturalist:16}),
      opt('🧘‍♀️ '나 자신을 이해하고, 내면의 평화를 찾는 힘입니다.'라고 답한다.',{intrapersonal:16})
    ),
    q("위대한 마법사의 귀환", "모든 시험을 통과하고, 당신은 마침내 위대한 마법사로 인정받는다. 사람들은 당신을 어떻게 기억할까?",
      opt('💫 지혜와 지식으로 세상을 변화시킨, 현명한 마법사로 기억된다.',{logical:14,linguistic:12}),
      opt('❤️ 사랑과 공감으로 사람들의 아픔을 치유한, 자비로운 마법사로 칭송받는다.',{interpersonal:14,intrapersonal:12}),
      opt('🎨 자연의 신비를 이해하고, 예술과 문화를 발전시킨, 창조적인 마법사로 기록된다.',{naturalist:14,musical:12}),
      opt('🌍 공간을 자유롭게 넘나들고, 새로운 세계를 발견한, 위대한 탐험가로 기억된다.',{spatial:14,bodily:10})
    )
  ]
};


/* ====== 화면 제어 함수 ====== */
function updateStats() {
    const root = el('stats');
    root.innerHTML = '';
    const entries = Object.entries(scores).sort((a,b)=>b[1]-a[1]);

    entries.forEach(([k, score]) => {
        const box = document.createElement('div');
        box.className = 'stat';
        box.innerHTML = `
            <div style="font-weight:bold;color:var(--gold)">${mapNamesForStats[k]}</div>
            <div class="bar"><div class="bar-inner" style="width:${score}%;background-color:var(--gold)"></div></div>
        `;
        root.appendChild(box);
    });
}

function showQuest(quest) {
    el('quest-title').innerText = quest.title;
    el('quest-text').innerText = quest.text;

    const optionsRoot = el('options');
    optionsRoot.innerHTML = '';

    quest.options.forEach((opt) => {
        const optionEl = document.createElement('div');
        optionEl.className = 'option';
        optionEl.innerHTML = `<span class="label">${opt.t}</span>`;
        optionEl.addEventListener('click', () => handleOption(opt.e));
        optionsRoot.appendChild(optionEl);
    });
}

function handleOption(effects) {
    sounds.turn.play().catch(e => console.log("효과음 재생 실패"));

    for (const key in effects) {
        if (scores.hasOwnProperty(key)) {
            scores[key] = Math.min(100, scores[key] + effects[key]);
        }
    }
    updateStats();
    
    currentQuestIndex++;
    if (currentQuestIndex < questLine.length) {
        showQuest(questLine[currentQuestIndex]);
    } else {
        showResult();
    }
}

function showResult() {
    el('game-area').style.display = 'none';
    el('stats-panel').style.display = 'none';
    el('result-area').style.display = 'block';

    const entries = Object.entries(scores).sort((a,b)=>b[1]-a[1]);
    const top1 = entries[0][0];
    const top2 = entries[1][0];
    
    const resultHTML = `
        <h3>📜 모험의 결과</h3>
        <p><strong>${player.name}</strong>(${player.class})님은<br><strong>${mapNames[top1]}</strong>와 <strong>${mapNames[top2]}</strong>을(를) 기반으로 하는 능력이 뛰어납니다. 
        <br>고대의 부름에 응답하여 당신이 찾아낸 능력은<br>
        <br><strong>1위: ${mapNames[top1]}</strong><br>
        <strong>2위: ${mapNames[top2]}</strong><br>
        <br>당신의 여정은 이제 시작입니다. 이 결과를 바탕으로 당신의 강점을 더욱 발전시켜 보세요!</p>
    `;
    el('result-content').innerHTML = resultHTML;
}

function checkStartButton() {
    const nameInput = el('input-name');
    const classInput = el('input-class');
    const startButton = el('btn-start');

    if (nameInput.value.trim() !== '' && classInput.value.trim() !== '' && player.companion !== null) {
        startButton.disabled = false;
    } else {
        startButton.disabled = true;
    }
}

function selectCompanion(e) {
    document.querySelectorAll('.char').forEach(char => char.classList.remove('selected'));
    const selectedChar = e.currentTarget;
    selectedChar.classList.add('selected');
    player.companion = selectedChar.dataset.id;
    checkStartButton();
}

function startGame() {
    player.name = el('input-name').value.trim();
    player.class = el('input-class').value.trim();
    if (!player.name || !player.class || !player.companion) {
        return;
    }
    
    // 게임 상태 초기화
    scores = { linguistic: 0, logical: 0, spatial: 0, bodily: 0, musical: 0, interpersonal: 0, intrapersonal: 0, naturalist: 0 };
    currentQuestIndex = 0;
    questLine = quests[player.companion];

    // 화면 전환
    el('pre-game').style.display = 'none';
    el('game-area').style.display = 'block';
    el('stats-panel').style.display = 'block';
    el('result-area').style.display = 'none';

    // 첫 번째 퀘스트 시작
    showQuest(questLine[currentQuestIndex]);
    updateStats();
}

function restartGame() {
    el('pre-game').style.display = 'block';
    el('game-area').style.display = 'none';
    el('stats-panel').style.display = 'none';
    el('result-area').style.display = 'none';
    el('input-name').value = '';
    el('input-class').value = '';
    document.querySelectorAll('.char').forEach(char => char.classList.remove('selected'));
    player.companion = null;
    checkStartButton(); // 재시작 후에도 버튼 상태 확인
}

// 이벤트 리스너
el('input-name').addEventListener('input', checkStartButton);
el('input-class').addEventListener('input', checkStartButton);
document.querySelectorAll('.char').forEach(char => {
    char.addEventListener('click', selectCompanion);
});
el('btn-start').addEventListener('click', startGame);
el('btn-restart').addEventListener('click', restartGame);
</script>
</body>
</html>
