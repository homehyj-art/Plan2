<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>📜 다중지능 탐험: 고대의 부름</title>
<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' https://cdn.pixabay.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; media-src https://cdn.pixabay.com;">
<link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Cinzel:wght@700&display=swap" rel="stylesheet">
<style>
:root{ --brown-text: #4a3a2a; --gold: #c89a4b; }
*{box-sizing:border-box}

body{
    margin:0;
    font-family: 'Gowun Dodum', serif;
    background: linear-gradient(170deg, #0d1117 0%, #1e2c40 50%, #161b22 100%);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
}

.wrap{ width:100%; max-width:1200px; }

.header{
    text-align: center;
    margin-bottom: 20px;
    animation: fadeInDown 1s ease-out;
}
.title{
    font-family: 'Cinzel', serif;
    font-size: 3rem;
    color: var(--gold);
    text-shadow: 2px 2px 8px rgba(0,0,0,0.8);
}
.subtitle{ font-family: 'Gowun Dodum'; opacity:0.9; font-size: 1.2rem; color: #f0f0f0; }

.layout{ display:flex; gap:20px; }
.left, .right{ transition: all 0.5s ease-out; }
.left{
    width:360px;
    animation: fadeInLeft 1s ease-out;
}
.right{
    flex:1;
    animation: fadeInRight 1s ease-out;
}
.card{
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(8px);
    border-radius:16px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    border: 1px solid rgba(255,215,102,0.15);
}

.char-row{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
.char{
    padding:10px;
    border-radius:10px;
    background:rgba(0,0,0,0.3);
    text-align:center;
    cursor:pointer;
    border: 2px solid transparent;
    transition: all 0.3s ease;
}
.char:hover{ transform:translateY(-5px); background:rgba(0,0,0,0.5); border-color: var(--gold); }
.char .emoji{ font-size:44px; filter: drop-shadow(0 0 5px rgba(0,0,0,0.5)); }
.char .name{ color:var(--gold); font-weight:bold; }
.char.selected{
    background:rgba(200,154,75,0.3);
    border-color: var(--gold);
    transform: translateY(-5px) scale(1.05);
    box-shadow: 0 0 15px rgba(200, 154, 75, 0.5);
}

label{ display:block; color:var(--gold); font-weight:700; margin-bottom:6px; }
input[type=text]{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:1px solid rgba(255,215,102,0.2);
    background:rgba(0,0,0,0.3);
    color:#fff;
    margin-bottom:10px;
    font-family: 'Gowun Dodum', serif;
}
.btn{
    display:inline-flex;
    gap:8px;
    align-items:center;
    justify-content:center;
    padding:12px 16px;
    border-radius:10px;
    border:none;
    cursor:pointer;
    background:linear-gradient(145deg, #b38645, #835e2c);
    color:#fff;
    font-weight:bold;
    box-shadow: 0 5px 15px rgba(0,0,0,0.4);
    width: 100%;
    font-family: 'Gowun Dodum', serif;
    font-size: 1rem;
    transition: all 0.2s ease;
}
.btn:hover {
    transform: scale(1.02);
}
.btn:disabled {
    background: #555;
    cursor: not-allowed;
    opacity: 0.6;
    transform: scale(1);
    box-shadow: none;
}

#game-card {
    background: linear-gradient(150deg, #f5eadd 0%, #e8d9c2 100%);
    box-shadow: inset 0 0 20px rgba(0,0,0,0.2);
    color: var(--brown-text);
    padding: 50px 60px;
    min-height: 550px;
    position: relative;
    border-radius: 8px;
}
.quest-header { text-align: center; margin-bottom: 20px; }
.quest-header h3 { font-family: 'Cinzel', serif; color: #6a4a2a; margin: 0; font-size: 1.5rem;}
.quest-text { font-size:1.2rem; line-height:1.8; min-height: 100px; }
.options{ display:grid; grid-template-columns:1fr; gap:12px; margin-top:20px; }
.option{
    padding:12px;
    border-radius:10px;
    background:rgba(189, 168, 133, 0.3);
    cursor:pointer;
    border:1px solid rgba(112, 83, 48, 0.3);
    transition: all .2s ease;
}
.option:hover{ transform: scale(1.03); background:rgba(189, 168, 133, 0.5); border-color: var(--brown-text); }
.option .label{ font-weight:bold; }

.stats-grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:8px; margin-top:12px; color: #fff;}
.stat{ background:rgba(0,0,0,0.3); padding:8px; border-radius:8px; text-align:center; }
.bar{ height:10px; background:rgba(255,255,255,0.1); border-radius:6px; margin-top:8px; overflow:hidden; }
.bar-inner{ height:100%; background:linear-gradient(90deg,var(--gold),#e6b873); width:0%; transition:width .6s; }

.result-content { color: var(--brown-text); text-align: center; }
.result-content h3 { font-family: 'Cinzel', serif; color: #6a4a2a; }

@keyframes fadeInDown { 0% { opacity:0; transform: translateY(-30px); } 100% { opacity:1; transform: translateY(0); } }
@keyframes fadeInLeft { 0% { opacity:0; transform: translateX(-50px); } 100% { opacity:1; transform: translateX(0); } }
@keyframes fadeInRight { 0% { opacity:0; transform: translateX(50px); } 100% { opacity:1; transform: translateX(0); } }

@media(max-width:900px){ .layout{flex-direction:column} .left{width:100%} }
</style>
</head>
<body>

<audio id="bgm" src="https://cdn.pixabay.com/audio/2022/08/04/audio_2dde649a33.mp3" loop></audio>
<audio id="sfx-turn" src="https://cdn.pixabay.com/audio/2022/03/15/audio_731c045b61.mp3"></audio>

<div class="wrap">
  <div class="header">
    <div class="title">Ancient Calling</div>
    <div class="subtitle">나의 다중지능을 찾아 떠나는 모험</div>
  </div>

  <div class="layout">
    <div class="left">
      <div class="card">
        <label>모험가 이름</label>
        <input id="input-name" type="text" placeholder="예: 김민준" />
        <label>소속 (반)</label>
        <input id="input-class" type="text" placeholder="예: 1학년 3반" />
        <label>여정을 함께할 동료</label>
        <div id="char-row" class="char-row">
          <div class="char" data-id="prince"><div class="emoji">👑</div><div class="name">용감한 왕자</div></div>
          <div class="char" data-id="princess"><div class="emoji">✨</div><div class="name">지혜로운 공주</div></div>
          <div class="char" data-id="warrior"><div class="emoji">🛡️</div><div class="name">강인한 전사</div></div>
          <div class="char" data-id="wizard"><div class="emoji">🧙</div><div class="name">신비한 마법사</div></div>
        </div>
        <div style="margin-top:20px;">
          <button id="btn-start" class="btn" disabled>▶ 모험 시작하기</button>
        </div>
      </div>

      <div id="stats-panel" class="card" style="margin-top:12px; display:none;">
         <div id="stats" class="stats-grid"></div>
      </div>
    </div>

    <div class="right">
      <div id="game-card" class="card">
        <div id="pre-game">
          <div style="text-align:center; padding-top: 80px;">
            <h3 style="font-family:'Cinzel', serif; color: var(--brown-text);">📜 모험의 서막</h3>
            <p style="font-size: 1.1rem; line-height: 1.8;">"진정한 지혜는 한 가지 길에만 있지 않다. 너의 모험은 곧 너의 지능을 탐험하는 여정이 될 것이다."<br>고대의 기록에 따르면, 인간의 지능은 여덟 가지로 나뉘며, 가장 뛰어난 지능은 모험의 끝에서 진정한 빛을 발한다.<br>자, 모험가여. 너의 이름을 기록하고, 운명을 함께할 동료를 선택하라.</p>
          </div>
        </div>

        <div id="game-area" style="display:none">
          <div class="quest-header">
            <h3 id="quest-title"></h3>
          </div>
          <div id="quest-text" class="quest-text"></div>
          <div id="options" class="options"></div>
        </div>
        
        <div id="result-area" style="display:none; padding-top: 50px;">
          <div class="result-content" id="result-content"></div>
          <button id="btn-restart" class="btn" style="max-width:300px; margin: 20px auto 0;">🔄 새로운 모험 시작하기</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// DOM 요소 가져오기
const el = id => document.getElementById(id);

// 게임 변수
let player = {
    name: '',
    class: '',
    companion: null
};
let scores = {
    linguistic: 0,
    logical: 0,
    spatial: 0,
    bodily: 0,
    musical: 0,
    interpersonal: 0,
    intrapersonal: 0,
    naturalist: 0
};
let currentQuestIndex = 0;
let questLine = null;

// 지능 이름 매핑
const mapNames = {
    linguistic: '언어 지능',
    logical: '논리-수학 지능',
    spatial: '공간 지능',
    bodily: '신체-운동 지능',
    musical: '음악 지능',
    interpersonal: '대인관계 지능',
    intrapersonal: '자기이해 지능',
    naturalist: '자연친화 지능'
};
const mapNamesForStats = {
    linguistic: '언어',
    logical: '논리',
    spatial: '공간',
    bodily: '신체',
    musical: '음악',
    interpersonal: '대인관계',
    intrapersonal: '자기이해',
    naturalist: '자연'
};

// 사운드 객체
const sounds = {
    bgm: document.getElementById('bgm'),
    turn: document.getElementById('sfx-turn'),
};
sounds.bgm.volume = 0.2;

document.body.addEventListener('click', () => {
    if (sounds.bgm.paused) {
        sounds.bgm.play().catch(e => console.log("BGM 자동재생이 차단되었습니다."));
    }
}, { once: true });


/* ====== 퀘스트 데이터 (전체 80개) ====== */
function q(title, text, a, b, c, d){ return { title, text, options:[a,b,c,d] }; }
function opt(text, effects){ return {t:text, e:effects}; }

const quests = {
  // Prince Questline (20 Quests)
  prince: [
    q("왕의 서신", "먼지 쌓인 서고에서 아버지의 흔적이 담긴 낡은 편지를 발견했다. '진정한 왕의 자격은 왕관이 아닌, 백성을 비추는 빛에 있나니. 그 빛을 따라가거라.' 이 수수께끼 같은 유언의 실마리는 어디서부터 찾아야 할까?",
      opt('📜 편지에 쓰인 단어들의 상징적 의미를 파고들어 분석한다.',{linguistic:14}),
      opt('🗺️ 편지에 남은 희미한 지도의 흔적을 따라 직접 현장으로 향한다.',{bodily:12,spatial:6}),
      opt('👥 편지를 마지막으로 만졌을 법한 왕궁의 오랜 신하를 찾아가 대화한다.',{interpersonal:12,logical:6}),
      opt('🌿 편지지에서 희미하게 나는 풀 향기를 단서로, 특정 지역의 식생를 조사한다.',{naturalist:8,spatial:6})
    ),
    q("시장의 현자", "시장에 도착하자, 한 노인이 당신을 알아보고 다가와 속삭였다. '왕께서 찾던 빛은 북쪽 숲의 심장, 가장 오래된 고목에서 나온다네.' 그의 말을 어떻게 받아들여야 할까?",
      opt('💬 노인의 이야기에 진심으로 감사하며, 숲에 대한 다른 전설은 없는지 묻는다.',{interpersonal:12,linguistic:6}),
      opt('🧭 즉시 숲으로 달려가기보다, 먼저 도서관에서 북쪽 숲에 대한 자료를 찾아본다.',{logical:12,linguistic:6}),
      opt('🤝 탐험대를 꾸려 함께 숲으로 떠난다. 여러 눈으로 보는 것이 더 정확할 것이다.',{interpersonal:12,bodily:6}),
      opt('🌲 그의 말이 사실인지 확인하기 위해, 즉시 혼자서 숲의 고목을 찾아 나선다.',{bodily:12,naturalist:6})
    ),
    q("별자리石", "숲길을 걷다, 이끼 낀 바위 위에 고대의 별자리와 닮은 문양이 새겨진 돌을 발견했다. 이 돌은 무엇을 의미할까?",
      opt('✍️ 문양을 양피지에 똑같이 베껴 그리고, 각 상징의 의미를 추론해본다.',{linguistic:12,spatial:4}),
      opt('⭐ 밤하늘의 실제 별자리와 돌의 문양을 대조하여 방향을 찾는다.',{spatial:14,naturalist:4}),
      opt('🪨 돌 주변의 흙과 식물을 관찰하여, 이 돌이 언제부터 이곳에 있었는지 추정한다.',{naturalist:12,logical:4}),
      opt('🤔 잠시 명상에 잠겨, 이 문양이 나에게 어떤 영감을 주는지 내면의 소리에 귀 기울인다.',{intrapersonal:12})
    ),
    q("숲의 울림", "밤이 되자 숲 속에서 규칙적인 북소리 같은 울림이 들려온다. 불안해하는 동료들 사이에서, 당신은 어떻게 행동할까?",
      opt('🎶 울림의 박자와 리듬을 분석하여, 그것이 인공적인 신호인지 자연적인 소리인지 판단한다.',{musical:14,logical:4}),
      opt('🏕️ 즉시 안전한 야영지를 구축하고, 교대로 불침번을 서며 동료들을 안심시킨다.',{bodily:12,interpersonal:8}),
      opt('🤫 소리의 근원지를 향해 조심스럽게 다가가, 정체가 무엇인지 직접 확인한다.',{bodily:12,spatial:4}),
      opt('🤝 동료들을 모아 각자의 의견을 듣고, 다 함께 다음 행동을 결정한다.',{interpersonal:14})
    ),
    q("고목의 비문", "마침내 거대한 고목을 찾았다. 그 앞에는 글자가 거의 지워진 낡은 비문이 서 있다. '오직 [■■] 자만이 빛을 보리라.' 비문의 내용을 어떻게 알아낼까?",
      opt('🔎 남아있는 글자의 형태와 조각들을 조합하여 사라진 단어를 추리한다.',{linguistic:14}),
      opt('📜 주변에서 비문과 비슷한 시대의 다른 유적을 찾아, 사용된 언어의 패턴을 비교 분석한다.',{logical:10,spatial:6}),
      opt('🖐️ 비문 표면을 손으로 직접 문질러, 마모된 글자의 흔적을 감각으로 읽어낸다.',{bodily:12,naturalist:4}),
      opt('❓ '만약 내가 비문을 세웠다면 어떤 단어를 썼을까?' 스스로 질문하며 답을 찾는다.',{intrapersonal:12,linguistic:4})
    ),
    q("가뭄의 마을", "숲을 나오자 극심한 가뭄으로 고통받는 마을을 마주쳤다. 물을 찾아달라는 마을 사람들의 간절한 눈빛을 외면할 수 없다. 어떻게 그들을 도울까?",
      opt('🌊 주변 지형을 정밀하게 분석하여, 지하 수맥이 있을 만한 곳을 찾아낸다.',{logical:12,spatial:8}),
      opt('💪 마을 사람들을 조직하고 격려하며, 다 함께 우물을 파는 작업에 직접 참여한다.',{interpersonal:14,bodily:6}),
      opt('🌱 가뭄에도 잘 자라는 식물들을 추적하여, 물이 있는 곳의 단서를 찾는다.',{naturalist:12}),
      opt('🗣️ 물 분배 문제로 다투는 마을 사람들을 중재하고, 모두가 합의할 규칙을 만든다.',{interpersonal:14,linguistic:6})
    ),
    q("광장의 노래", "마을 광장에서 한 음유시인이 '빛을 잃은 왕관'에 대한 노래를 부르고 있다. 가사 속에 중요한 단서가 있을지도 모른다.",
      opt('🎼 노래의 가사 하나하나를 빠짐없이 기록하고, 그 안에 숨겨진 은유를 분석한다.',{linguistic:12,musical:6}),
      opt('😊 노래가 끝난 후, 음유시인에게 다가가 그의 이야기에 깊은 관심을 보이며 추가 정보를 얻는다.',{interpersonal:12}),
      opt('🗺️ 노래에 묘사된 '세 개의 봉우리'나 '붉은 강' 같은 지형을 지도에서 찾아본다.',{spatial:12}),
      opt('🎵 가사보다는 노래의 슬픈 멜로디에 집중하여, '잃어버린 왕관'의 감정적 의미를 파악한다.',{musical:12,intrapersonal:4})
    ),
    q("국경의 의심", "단서를 따라 도착한 국경 요새. 하지만 수비대는 당신의 신분을 의심하며 길을 열어주지 않는다. 어떻게 이 상황을 해결할까?",
      opt('👑 나의 신분과 여정의 목적을 논리정연하고 설득력 있게 설명하여 신뢰를 얻는다.',{linguistic:14,interpersonal:6}),
      opt('🛡️ 수비대의 경계심을 이해한다고 말하며, 그들의 임무를 존중하는 태도를 보인다.',{interpersonal:16}),
      opt('🔍 지금까지 모아온 증거물(편지, 지도 조각 등)을 제시하여 나의 주장을 증명한다.',{logical:12}),
      opt('⏳ 당장 통과하려 하지 않고, 요새 밖에서 머물며 그들이 마음을 열 때까지 기다린다.',{intrapersonal:12})
    ),
    q("왕의 시험", "마침내 왕 앞에 선 당신. 그는 시험하듯 묻는다. '백성의 행복과 왕국의 안정, 둘 중 하나만 택해야 한다면 무엇을 택하겠는가?' 당신의 답은?",
      opt('💬 '백성의 행복이 곧 왕국의 가장 튼튼한 기반입니다.'라고 답하며 구체적인 정책을 제시한다.',{interpersonal:16,linguistic:6}),
      opt('⚖️ '안정 없는 행복은 신기루와 같으니, 먼저 튼튼한 방벽을 쌓겠습니다.'라고 답한다.',{logical:14,bodily:6}),
      opt('❓ '그 둘은 분리될 수 없습니다. 왜 그런 선택을 해야만 하는가?' 스스로 되묻는다.',{intrapersonal:12,logical:8}),
      opt('🎨 '교육과 예술을 통해 백성들의 마음을 풍요롭게 하는 것이 장기적인 안정의 길입니다.'라고 답한다.',{linguistic:12,musical:4})
    ),
    q("고대의 장치", "왕이 인정한 당신에게 마지막 장소의 지도가 주어진다. 그곳엔 복잡한 고대 장치가 잠들어 있다. 어떻게 작동시킬까?",
      opt('⚙️ 톱니바퀴와 문양들의 관계를 분석하여, 장치의 논리적인 작동 원리를 파악한다.',{logical:14,spatial:6}),
      opt('✋ 장치의 여러 부분을 직접 만지고 움직여보며, 물리적인 반응을 통해 해법을 찾는다.',{bodily:12}),
      opt('🔊 장치에서 주기적으로 들려오는 미세한 소리의 높낮이와 패턴에서 단서를 찾는다.',{musical:12}),
      opt('🌿 장치 주변에만 자라는 특이한 식물이나 이끼를 통해, 장치의 에너지원을 추측한다.',{naturalist:12})
    ),
    q("길 잃은 아이", "장치를 작동시키자 새로운 길이 열렸다. 하지만 그 길목에서, 겁에 질려 울고 있는 한 아이를 발견했다. 어떻게 할 것인가?",
      opt('❤️ 아이의 눈높이에 맞춰 앉아, 부드러운 목소리로 안심시키며 무슨 일이 있었는지 들어준다.',{interpersonal:14}),
      opt('👣 아이가 걸어온 방향의 발자국이나 흔적을 찾아, 부모를 찾을 단서를 수집한다.',{spatial:12,naturalist:8}),
      opt('🎵 아이의 긴장을 풀어주기 위해, 재미있는 노래를 불러주거나 작은 놀이를 함께 한다.',{musical:10,interpersonal:6}),
      opt('🤔 일단 아이를 안전한 곳으로 데려간 뒤, 침착하게 아이를 찾을 최선의 방법을 계획한다.',{logical:12,intrapersonal:6})
    ),
    q("마을의 전설", "아이를 부모에게 돌려보내자, 마을 사람들이 당신에게 고대의 전설을 들려준다. '세상의 끝에는 모든 지혜가 잠들어 있는 샘이 있다'고 한다. 어떻게 이 전설을 탐색할까?",
      opt('📜 전설에 등장하는 지명과 단어들을 철저히 조사하여, 숨겨진 의미를 파악한다.',{linguistic:14}),
      opt('🗺️ 전설에서 묘사된 지형적 특징들을 지도에 표시하고, 예상 경로를 설정한다.',{spatial:14}),
      opt('👥 마을의 현자나 나이 많은 이들을 찾아가 전설에 대한 더 자세한 이야기를 듣는다.',{interpersonal:12,linguistic:6}),
      opt('🧘‍♀️ 전설의 내용을 곰곰이 생각하며, 내가 중요하게 생각하는 가치와 연결시켜 본다.',{intrapersonal:12,logical:4})
    ),
    q("어둠의 동굴", "전설을 따라가다 어둠과 습기로 가득 찬 동굴을 만났다. 동굴 안에는 길을 잃은 듯한 불빛들이 깜빡인다. 어떻게 동굴을 통과할까?",
      opt('💡 동굴의 지형과 불빛의 패턴을 분석하여, 안전한 길을 찾아낸다.',{logical:14,spatial:8}),
      opt('🖐️ 동굴 벽을 손으로 직접 문질러, 발의 감각을 이용해 길을 찾는다.',{bodily:14,intrapersonal:6}),
      opt('🔊 동굴에서 들려오는 메아리 소리의 방향을 분석하여, 출구를 짐작한다.',{musical:12}),
      opt('🔦 횃불을 밝혀 주변 환경을 밝히고, 어둠 속에 숨어 있는 위험을 찾아낸다.',{naturalist:12})
    ),
    q("고대 부족", "동굴을 통과하자 외부와 단절된 고대 부족을 만났다. 그들은 낯선 당신을 경계한다. 어떻게 그들과 소통할까?",
      opt('🗣️ 그들의 몸짓과 소리를 주의 깊게 관찰하여, 비언어적인 방식으로 소통을 시도한다.',{linguistic:14,interpersonal:10}),
      opt('🤝 부족민들에게 먼저 다가가, 존중과 평화의 제스처를 보인다.',{interpersonal:16}),
      opt('🎁 그들에게 작은 선물이나 유용한 물건을 건네며 신뢰를 얻는다.',{logical:12,interpersonal:8}),
      opt('🌿 주변의 식물을 이용해 그들의 문화와 자연의 연관성을 파악한다.',{naturalist:12,spatial:6})
    ),
    q("춤의 의식", "부족민들은 당신에게 그들의 전통 의식인 '춤의 의식'에 참여해달라고 요청한다. 어떻게 참여할까?",
      opt('🕺 부족민들의 춤 동작을 유심히 관찰하고, 그들의 리듬을 몸으로 익혀 따라 한다.',{bodily:16,musical:8}),
      opt('🎵 의식에서 연주되는 음악의 특징을 파악하고, 그에 맞는 나만의 춤을 창조한다.',{musical:14,intrapersonal:6}),
      opt('🤔 춤의 의미와 역사를 부족민들에게 물어보며, 의식에 대한 이해를 깊게 한다.',{linguistic:12,interpersonal:8}),
      opt('👀 춤을 추는 부족민들의 표정과 몸짓에서 그들의 감정을 읽고 공감한다.',{interpersonal:14})
    ),
    q("지혜의 샘", "모든 시련을 이겨내고 마침내 지혜의 샘에 도착했다. 샘물은 당신의 과거와 미래를 비춘다. 무엇을 볼 것인가?",
      opt('📚 샘물에 비친 과거의 지식들을 흡수하여, 나의 지능을 더욱 확장한다.',{linguistic:16,logical:10}),
      opt('💡 샘물이 보여주는 미래의 가능성 중, 가장 논리적이고 현실적인 길을 선택한다.',{logical:16,intrapersonal:8}),
      opt('💖 샘물에 비친 사람들의 행복한 모습을 보며, 그들을 위해 무엇을 할 수 있을지 생각한다.',{interpersonal:16,intrapersonal:8}),
      opt('🌌 샘물이 보여주는 우주의 신비와 자연의 섭리를 깊이 관찰한다.',{naturalist:16,spatial:10})
    ),
    q("샘물의 시험", "지혜의 샘은 당신에게 마지막 시험을 제시한다. '가장 위대한 지혜는 무엇인가?' 당신의 답은?",
      opt('💬 '타인의 아픔에 공감하고 사랑하는 마음입니다.'라고 답한다.',{interpersonal:16}),
      opt('🧠 '세상을 이해하고 문제를 해결하는 논리적 사고입니다.'라고 답한다.',{logical:16}),
      opt('🌳 '자연의 순리와 조화를 이해하는 것입니다.'라고 답한다.',{naturalist:16}),
      opt('🎶 '아름다움을 창조하고 감동을 주는 예술적 영감입니다.'라고 답한다.',{musical:16})
    ),
    q("진정한 왕의 귀환", "모든 시험을 통과하고 샘의 축복을 받은 당신. 이제 진정한 왕으로서 왕국으로 돌아갈 시간이다. 어떤 모습으로 돌아갈 것인가?",
      opt('👑 위엄과 지혜를 겸비한 모습으로 돌아가, 왕국을 평화롭게 다스린다.',{linguistic:14,interpersonal:12}),
      opt('💪 백성들을 이끌고 직접 나라를 재건하며, 강인한 리더십을 보여준다.',{bodily:14,interpersonal:10}),
      opt('✨ 백성들에게 새로운 지식과 예술을 전파하며, 문명의 발전을 이끈다.',{logical:14,musical:10}),
      opt('🌿 자연과 인간이 조화롭게 살아가는 이상적인 왕국을 건설한다.',{naturalist:14,intrapersonal:10})
    ),
    q("계승자의 명예", "왕위에 오른 당신은 이제 미래를 위한 결정을 해야 한다. 당신의 후계자는 어떤 자질을 가진 인물이어야 하는가?",
      opt('📚 뛰어난 언어 능력과 지식을 겸비한 학자를 후계자로 지명한다.',{linguistic:14,logical:8}),
      opt('💖 백성을 사랑하고 공감 능력이 뛰어난 인물을 후계자로 삼는다.',{interpersonal:16}),
      opt('⚔️ 위기 상황에 강인하게 대처하고, 백성을 직접 보호할 수 있는 용사를 택한다.',{bodily:14,spatial:8}),
      opt('🧘‍♀️ 자신의 내면을 깊이 이해하고, 백성들의 마음을 헤아릴 수 있는 현자를 선택한다.',{intrapersonal:16})
    ),
    q("평화로운 시대", "당신의 통치 아래 왕국은 평화롭고 번영한다. 백성들은 당신을 영원히 기억할 것이다. 당신의 치세는 어떤 모습으로 역사에 기록될까?",
      opt('✨ 지혜와 정의로움으로 모든 갈등을 해결하고, 평화로운 시대를 이룩한 왕으로 기억된다.',{logical:14,interpersonal:12}),
      opt('🎨 예술과 학문을 장려하여, 문화적 황금기를 이끈 위대한 군주로 칭송받는다.',{musical:14,linguistic:12}),
      opt('🌳 자연과 조화를 이루는 정책으로, 풍요로운 환경을 조성한 환경 친화적인 왕으로 기록된다.',{naturalist:14,bodily:10}),
      opt('❤️ 백성들의 마음을 하나로 모아, 모두가 행복한 공동체를 만든 따뜻한 왕으로 기억된다.',{intrapersonal:14,interpersonal:14})
    )
  ],
  // Princess Questline (20 Quests)
  princess: [
    q("잃어버린 일기장", "성 정원 가장 깊은 곳, 비밀의 샘 근처에서 낡은 일기장을 발견했다. 공주님이 썼을 법한 섬세한 글씨로 '가장 귀한 보석은 마음속에 있다'고 적혀있다. 그 의미를 어떻게 해석해야 할까?",
      opt('✍️ 문장 하나하나의 의미를 깊이 생각하고, 숨겨진 비유와 상징을 찾아본다.',{linguistic:14}),
      opt('🤔 조용히 샘물가에 앉아, 나 자신의 내면을 들여다보며 그 의미를 깨닫고자 한다.',{intrapersonal:14,interpersonal:6}),
      opt('🏰 일기장에 묘사된 정원의 지형과 비밀 통로를 지도에 표시해본다.',{spatial:12}),
      opt('👥 일기장의 필체를 아는 궁중 화가를 찾아가, 일기장의 주인을 추론한다.',{interpersonal:12,logical:4})
    ),
    q("정원의 수수께끼", "일기장에는 '해가 지는 방향으로 일곱 걸음, 그리고 밤의 노래가 끝날 때'라는 알쏭달쏭한 구절이 있다. 이 수수께끼를 어떻게 풀어야 할까?",
      opt('🧭 정확히 서쪽으로 일곱 걸음을 걸은 뒤, 밤의 별자리와 달의 위치를 관찰한다.',{spatial:14,naturalist:6}),
      opt('🎵 밤이 되었을 때, 정원에서 들려오는 모든 소리를 주의 깊게 듣고 패턴을 분석한다.',{musical:12,logical:6}),
      opt('🏃‍♀️ 일곱 걸음을 걷는 가장 효율적인 움직임을 연구하여, 최단 경로로 이동한다.',{bodily:10,logical:6}),
      opt('📖 일기장 속 다른 구절들과 연관성을 찾아, 구절의 진정한 의미를 추론한다.',{linguistic:12})
    ),
    q("궁정 연회", "다음 단서가 궁정 연회에 숨겨져 있다는 것을 알게 되었다. 하지만 사람들로 붐비는 곳에서 단서를 찾는 것은 쉽지 않다. 어떻게 행동할까?",
      opt('🤫 연회장의 모든 대화를 주의 깊게 엿들어, 중요한 정보를 찾아낸다.',{linguistic:14,interpersonal:6}),
      opt('🕺 음악에 맞춰 춤을 추며 자연스럽게 사람들과 어울려 정보를 얻는다.',{bodily:12,interpersonal:8}),
      opt('🖼️ 연회장 벽에 걸린 그림들과 장식품의 배치를 분석하여 단서를 찾는다.',{spatial:12}),
      opt('🤐 조용히 구석에 앉아, 나 자신에게 주어진 임무에 대해 깊이 생각한다.',{intrapersonal:12})
    ),
    q("무도회장의 가면", "무도회에서 가면을 쓴 수상한 사람이 당신에게 귓속말로 '자정의 종소리에 맞춰 정원의 분수대로 오라'고 속삭였다. 어떻게 할까?",
      opt('🕵️‍♀️ 수상한 사람의 걸음걸이와 행동 패턴을 분석하여, 그의 신분을 추정한다.',{bodily:12,logical:6}),
      opt('⏰ 약속 장소에 미리 도착해 분수대 주변의 모든 지형을 살핀다.',{spatial:12,intrapersonal:6}),
      opt('🤝 주변 사람들에게 그 수상한 사람에 대해 물어보며 정보를 모은다.',{interpersonal:14}),
      opt('🎶 자정의 종소리 소리를 기억하며, 그 소리가 울리는 방식에 집중한다.',{musical:12})
    ),
    q("사서의 부탁", "도서관에서 단서를 찾던 중, 사서가 당신에게 곤란한 부탁을 한다. '오래된 책들의 순서가 뒤섞였으니, 제자리를 찾아달라'고 한다. 어떻게 할까?",
      opt('📚 책의 내용과 저술 시기를 분석하여, 논리적인 순서대로 배열한다.',{logical:14,linguistic:6}),
      opt('🏃‍♀️ 책을 들고 빠르게 도서관을 돌아다니며, 원래의 위치를 찾아낸다.',{bodily:12}),
      opt('🧐 책장에 남은 미세한 먼지 흔적이나 빛바랜 자국을 통해, 책의 원래 위치를 추정한다.',{naturalist:12,spatial:6}),
      opt('💬 사서와 다른 사람들에게 책의 원래 순서에 대해 물어본다.',{interpersonal:14})
    ),
    q("미로 정원", "단서를 따라 도착한 곳은 복잡한 미로 정원. 길을 잃지 않고 지나가는 방법은 무엇일까?",
      opt('🧭 미로의 전체 지도를 머릿속에 그리며, 가장 효율적인 경로를 계산한다.',{spatial:14,logical:6}),
      opt('👣 벽을 한쪽 손으로 계속 짚으며 나아가는 가장 고전적인 방법을 사용한다.',{bodily:12,intrapersonal:4}),
      opt('🐦 미로 안에서 울고 있는 새의 소리를 듣고, 그 소리의 방향을 따라간다.',{musical:12}),
      opt('🌱 미로 벽에 붙어있는 식물들의 생장 방향을 관찰하여, 햇빛이 드는 방향을 추론한다.',{naturalist:12,spatial:4})
    ),
    q("비밀의 방", "미로를 통과하자 벽에 비밀의 방으로 통하는 문이 나타났다. 하지만 문에는 복잡한 기하학적 문양이 새겨져 있다. 어떻게 문을 열까?",
      opt(' geometrically 문양의 도형들과 패턴을 분석하여, 숨겨진 규칙을 찾아낸다.',{logical:14,spatial:8}),
      opt('💬 문양의 의미를 문헌에서 찾아 해석하여, 비밀스러운 문구를 발견한다.',{linguistic:12}),
      opt('🎛️ 손으로 문양의 여러 부분을 만지거나 눌러보며, 작동 방식을 찾아낸다.',{bodily:12}),
      opt('🤔 문양을 보며 깊이 생각에 잠겨, 직관적으로 해답을 떠올린다.',{intrapersonal:12})
    ),
    q("오래된 서고", "비밀의 방 안에는 오래된 책들이 가득한 서고가 있었다. 당신은 어떤 책을 먼저 살펴볼까?",
      opt('📚 왕국의 역사와 전설에 관한 책을 찾아, 과거의 지혜를 탐구한다.',{linguistic:14}),
      opt('🧠 난해한 수학 공식과 천문학 이론이 담긴 책을 펼쳐 지식을 습득한다.',{logical:14}),
      opt('🌌 고대의 건축물과 신비로운 공간을 묘사한 책을 통해 새로운 영감을 얻는다.',{spatial:12,linguistic:6}),
      opt('📖 나 자신에 대해 깊이 탐구하는 철학서를 먼저 읽어본다.',{intrapersonal:14})
    ),
    q("마법의 노래", "서고의 한구석에서 '진실을 노래하는 마법의 오르골'을 발견했다. 하지만 오르골은 음이 틀어져 있어 작동하지 않는다. 어떻게 할까?",
      opt('🎼 오르골의 음정과 리듬을 분석하여, 틀린 부분을 고쳐낸다.',{musical:16,logical:8}),
      opt('🗣️ 오르골에 노래를 불러주어, 마법의 힘을 되살린다.',{linguistic:12,musical:6}),
      opt('🔍 오르골의 내부 구조를 살펴보고, 고장난 부품을 찾아 수리한다.',{logical:12,bodily:8}),
      opt('❤️ 오르골에 깃든 슬픈 감정을 이해하고 공감하며, 오르골을 위로한다.',{intrapersonal:12,interpersonal:8})
    ),
    q("왕국의 정원", "오르골을 고치자, 정원으로 향하는 비밀 통로가 열렸다. 이 정원에는 희귀한 식물들이 가득하다. 당신은 무엇을 할까?",
      opt('🌿 식물들의 생장 과정과 특징을 연구하여, 새로운 약초를 발견한다.',{naturalist:14,logical:8}),
      opt('🏞️ 정원의 아름다운 풍경을 화폭에 담아낸다.',{spatial:12,musical:4}),
      opt('🚶‍♀️ 정원을 천천히 거닐며, 자연과 교감하고 마음을 평온하게 한다.',{intrapersonal:12}),
      opt('🤝 정원사를 찾아가 희귀 식물에 대한 이야기를 듣고, 지식을 나눈다.',{interpersonal:12,linguistic:6})
    ),
    q("축제의 날", "왕국의 축제날, 당신은 한 소녀가 좋아하는 인형을 잃어버리고 우는 것을 보았다. 어떻게 도울까?",
      opt('🔍 소녀가 지나온 길을 추적하고, 주변 지형을 분석하여 인형을 찾는다.',{spatial:14,logical:8}),
      opt('🎶 소녀를 달래기 위해 아름다운 노래를 불러주어 슬픔을 잊게 한다.',{musical:14,interpersonal:6}),
      opt('🗣️ 소녀에게 다가가 무슨 일이 있었는지 듣고, 함께 인형을 찾는 것을 약속한다.',{interpersonal:14,linguistic:6}),
      opt('🏃‍♀️ 인파를 헤치고 빠르게 소녀의 인형을 찾아 나선다.',{bodily:12,interpersonal:8})
    ),
    q("미지의 동물", "정원에서 신비한 동물을 만났다. 이 동물은 당신을 경계하며 으르렁거린다. 어떻게 할까?",
      opt('🐾 동물의 움직임과 울음소리를 관찰하여, 그들의 감정을 이해하려 노력한다.',{naturalist:14,interpersonal:6}),
      opt('📜 동물에 대한 전설과 문헌을 찾아, 이 동물의 특성을 파악한다.',{linguistic:12,logical:8}),
      opt('🤝 동물에게 해치지 않겠다는 의사를 담아 천천히 다가간다.',{interpersonal:14}),
      opt('🧘‍♀️ 동물을 보며 나 자신의 두려움과 용기를 되짚어본다.',{intrapersonal:12})
    ),
    q("고대 유물", "정원의 한 동굴에서 오래된 유물을 발견했다. 유물에는 복잡한 수수께끼가 담겨 있다. 어떻게 풀까?",
      opt('💡 유물에 새겨진 기하학적 문양과 숫자들의 규칙을 분석한다.',{logical:14,spatial:8}),
      opt('🗣️ 유물에 새겨진 고대 언어를 해독하여, 숨겨진 의미를 파악한다.',{linguistic:14}),
      opt('🖐️ 유물의 표면을 섬세하게 만져보며, 숨겨진 작동 부위를 찾아낸다.',{bodily:12,spatial:6}),
      opt('🤔 유물의 의미를 나 자신의 경험과 지식에 비추어 해석한다.',{intrapersonal:12,logical:6})
    ),
    q("왕국 밖의 사람들", "유물을 통해 왕국 밖의 사람들과 교류하게 되었다. 그들은 당신의 도움을 필요로 한다. 어떻게 도울까?",
      opt('❤️ 그들의 이야기를 듣고, 감정에 공감하며 진심으로 위로한다.',{interpersonal:16,intrapersonal:8}),
      opt('🤝 그들의 문제를 해결하기 위한 논리적이고 효율적인 방법을 제시한다.',{logical:14,interpersonal:8}),
      opt('🎨 그들과 함께 노래하고 춤추며, 예술로써 마음의 상처를 치유한다.',{musical:14,bodily:8}),
      opt('🌎 그들이 처한 환경적 문제를 해결하기 위해 자연과 관련된 해결책을 모색한다.',{naturalist:14,spatial:8})
    ),
    q("지혜의 샘", "모든 시련을 이겨내고 마침내 지혜의 샘에 도착했다. 샘물은 당신의 과거와 미래를 비춘다. 무엇을 볼 것인가?",
      opt('📚 샘물에 비친 과거의 지식들을 흡수하여, 나의 지능을 더욱 확장한다.',{linguistic:16,logical:10}),
      opt('💡 샘물이 보여주는 미래의 가능성 중, 가장 논리적이고 현실적인 길을 선택한다.',{logical:16,intrapersonal:8}),
      opt('💖 샘물에 비친 사람들의 행복한 모습을 보며, 그들을 위해 무엇을 할 수 있을지 생각한다.',{interpersonal:16,intrapersonal:8}),
      opt('🌌 샘물이 보여주는 우주의 신비와 자연의 섭리를 깊이 관찰한다.',{naturalist:16,spatial:10})
    ),
    q("샘물의 시험", "지혜의 샘은 당신에게 마지막 시험을 제시한다. '가장 위대한 지혜는 무엇인가?' 당신의 답은?",
      opt('💬 '타인의 아픔에 공감하고 사랑하는 마음입니다.'라고 답한다.',{interpersonal:16}),
      opt('🧠 '세상을 이해하고 문제를 해결하는 논리적 사고입니다.'라고 답한다.',{logical:16}),
      opt('🌳 '자연의 순리와 조화를 이해하는 것입니다.'라고 답한다.',{naturalist:16}),
      opt('🎶 '아름다움을 창조하고 감동을 주는 예술적 영감입니다.'라고 답한다.',{musical:16})
    ),
    q("왕국으로의 귀환", "모든 시험을 통과하고 샘의 축복을 받은 당신. 이제 진정한 공주로서 왕국으로 돌아갈 시간이다. 어떤 모습으로 돌아갈 것인가?",
      opt('👑 위엄과 지혜를 겸비한 모습으로 돌아가, 왕국을 평화롭게 다스린다.',{linguistic:14,interpersonal:12}),
      opt('💪 백성들을 이끌고 직접 나라를 재건하며, 강인한 리더십을 보여준다.',{bodily:14,interpersonal:10}),
      opt('✨ 백성들에게 새로운 지식과 예술을 전파하며, 문명의 발전을 이끈다.',{logical:14,musical:10}),
      opt('🌿 자연과 인간이 조화롭게 살아가는 이상적인 왕국을 건설한다.',{naturalist:14,intrapersonal:10})
    ),
    q("계승자의 명예", "왕위에 오른 당신은 이제 미래를 위한 결정을 해야 한다. 당신의 후계자는 어떤 자질을 가진 인물이어야 하는가?",
      opt('📚 뛰어난 언어 능력과 지식을 겸비한 학자를 후계자로 지명한다.',{linguistic:14,logical:8}),
      opt('💖 백성을 사랑하고 공감 능력이 뛰어난 인물을 후계자로 삼는다.',{interpersonal:16}),
      opt('⚔️ 위기 상황에 강인하게 대처하고, 백성을 직접 보호할 수 있는 용사를 택한다.',{bodily:14,spatial:8}),
      opt('🧘‍♀️ 자신의 내면을 깊이 이해하고, 백성들의 마음을 헤아릴 수 있는 현자를 선택한다.',{intrapersonal:16})
    ),
    q("평화로운 시대", "당신의 통치 아래 왕국은 평화롭고 번영한다. 백성들은 당신을 영원히 기억할 것이다. 당신의 치세는 어떤 모습으로 역사에 기록될까?",
      opt('✨ 지혜와 정의로움으로 모든 갈등을 해결하고, 평화로운 시대를 이룩한 왕으로 기억된다.',{logical:14,interpersonal:12}),
      opt('🎨 예술과 학문을 장려하여, 문화적 황금기를 이끈 위대한 군주로 칭송받는다.',{musical:14,linguistic:12}),
      opt('🌳 자연과 조화를 이루는 정책으로, 풍요로운 환경을 조성한 환경 친화적인 왕으로 기록된다.',{naturalist:14,bodily:10}),
      opt('❤️ 백성들의 마음을 하나로 모아, 모두가 행복한 공동체를 만든 따뜻한 왕으로 기억된다.',{intrapersonal:14,interpersonal:14})
    )
  ],
  // Warrior Questline (20 Quests)
  warrior: [
    q("잊혀진 검", "훈련 중, 고대의 문장이 새겨진 낡은 검을 발견했다. 검은 당신의 손에 닿자마자 빛을 뿜으며 진동하기 시작한다. 이 검은 무엇을 의미할까?",
      opt('⚔️ 검을 휘둘러 그 힘과 균형을 시험하며, 검의 용도를 파악한다.',{bodily:14,spatial:6}),
      opt('📜 검에 새겨진 고대 문장을 해독하여, 검의 역사와 기원을 알아낸다.',{linguistic:12}),
      opt('💎 검을 자세히 관찰하여, 검을 만든 재료와 기술적 특징을 분석한다.',{logical:12,naturalist:6}),
      opt('🤔 검의 진동을 느끼며, 검이 나에게 전하는 감정적 메시지에 집중한다.',{intrapersonal:12})
    ),
    q("전장의 소문", "마을 사람들은 북쪽 국경에 어둠의 세력이 출몰한다는 소문을 퍼뜨리고 있다. 당신은 어떻게 행동할까?",
      opt('🗣️ 마을 사람들에게 정확한 소문의 출처와 내용을 물어본다.',{linguistic:12,interpersonal:6}),
      opt('🗺️ 국경 요새의 지도를 입수하고, 예상 경로를 설정한다.',{spatial:14}),
      opt('🏃‍♀️ 소문의 진위를 확인하기 위해, 즉시 북쪽 국경으로 달려간다.',{bodily:14}),
      opt('⚔️ 검을 갈고 닦으며, 다가올 전투에 대비하여 훈련에 매진한다.',{intrapersonal:12})
    ),
    q("산맥의 비상", "북쪽 산맥으로 향하는 길목에서, 거대한 바위가 길을 막고 있다. 바위에는 '힘이 아닌 지혜로 길을 열어라'는 문구가 새겨져 있다. 어떻게 바위를 옮길까?",
      opt('💪 바위를 직접 밀어내거나 부수어 길을 연다.',{bodily:16}),
      opt('💡 바위의 약점을 분석하고, 지렛대와 같은 도구를 활용하여 옮긴다.',{logical:14,spatial:8}),
      opt('💬 바위에 쓰여진 문구의 숨겨진 의미를 파악하여, 해법을 찾는다.',{linguistic:12}),
      opt('🤝 주변에 있는 다른 모험가들을 모아 함께 힘을 합쳐 바위를 옮긴다.',{interpersonal:14})
    ),
    q("동굴의 함정", "산맥의 동굴을 통과하다, 바닥의 이상한 발자국과 흔적들을 발견했다. 이것은 함정일 수 있다. 어떻게 할까?",
      opt('🔍 발자국과 흔적의 종류, 방향, 깊이를 분석하여 함정의 종류와 위치를 파악한다.',{logical:14,spatial:6}),
      opt('👣 조심스럽게 발을 내디뎌, 위험을 감지하는 감각을 최대한 활용한다.',{bodily:12,intrapersonal:8}),
      opt('🐦 주변의 새소리나 동물의 움직임을 관찰하여, 안전한 길을 추측한다.',{naturalist:12,musical:6}),
      opt('🗣️ 동료들에게 주의를 주며, 함께 함정을 피할 방법을 논의한다.',{interpersonal:12})
    ),
    q("마을의 수호자", "산맥을 넘어 도착한 마을은 몬스터의 습격으로 폐허가 되었다. 마을 사람들은 당신을 유일한 희망으로 바라본다. 어떻게 그들을 구할까?",
      opt('🛡️ 즉시 마을 주변에 방어선을 구축하고, 마을 사람들을 안전한 곳으로 대피시킨다.',{bodily:14,spatial:8}),
      opt('⚔️ 몬스터의 약점을 찾아내어, 가장 효과적인 방법으로 전투를 이끈다.',{logical:14,bodily:8}),
      opt('🤝 흩어진 마을 사람들을 모으고, 그들의 두려움을 용기로 바꾸는 연설을 한다.',{interpersonal:16,linguistic:6}),
      opt('🌿 주변의 자연 지형을 활용하여, 몬스터의 진입을 막는 함정을 설치한다.',{naturalist:12,logical:8})
    ),
    q("야생 동물의 습격", "숲 속에서 길을 잃자, 사나운 야생 동물이 당신을 습격하려 한다. 어떻게 위기를 모면할까?",
      opt('💪 동물의 움직임을 예측하고, 빠르게 몸을 피하여 공격을 무력화한다.',{bodily:16}),
      opt('👂 동물의 울음소리와 행동 패턴을 분석하여, 그들의 감정을 이해하고 달랜다.',{musical:12,interpersonal:8}),
      opt('🌿 주변의 식물이나 돌을 이용하여, 동물을 쫓아낼 만한 도구를 만든다.',{naturalist:12,logical:6}),
      opt('🧘‍♀️ 동물의 공격에 침착하게 대응하기 위해, 마음속으로 호흡을 가다듬는다.',{intrapersonal:14})
    ),
    q("광산의 미로", "숨겨진 광산에서 새로운 광물을 발견했다. 하지만 광산은 복잡한 미로와 같다. 어떻게 탐험할까?",
      opt('🗺️ 광산의 갱도와 지형을 머릿속에 정확히 그려내며, 길을 잃지 않도록 한다.',{spatial:16,logical:8}),
      opt('👣 바닥에 표시를 남기며 이동하거나, 길을 기억하기 위한 나만의 규칙을 만든다.',{bodily:12,intrapersonal:8}),
      opt('🔎 광물들이 매장된 패턴을 분석하여, 희귀 광물이 있는 곳을 찾아낸다.',{logical:14,naturalist:8}),
      opt('🗣️ 동료들과 함께 이동하며, 서로의 위치를 소리로 확인한다.',{interpersonal:12,musical:6})
    ),
    q("고대의 함성", "광산 깊은 곳에서 고대의 함성이 들려온다. 이 함성은 고통스러운 울음처럼 들리기도 하고, 거대한 힘처럼 느껴지기도 한다. 어떻게 할까?",
      opt('👂 함성의 높낮이와 음량을 분석하여, 소리의 근원지를 찾아낸다.',{musical:14,spatial:6}),
      opt('⚔️ 함성의 압도적인 힘에 맞서, 나의 의지와 용기를 시험한다.',{intrapersonal:16}),
      opt('🤝 동료들의 의견을 듣고, 함께 함성의 의미를 해석한다.',{interpersonal:12,linguistic:8}),
      opt('💬 함성에 담긴 언어적 의미를 찾아, 그 함성이 말하는 바를 이해한다.',{linguistic:14})
    ),
    q("전설의 거인", "함성의 근원지에 도착하자, 거대한 거인이 잠들어 있다. 거인은 당신을 경계하며, 위협적인 자세를 취한다. 어떻게 할까?",
      opt('💪 거인의 움직임을 예측하고, 약점을 공격하여 제압한다.',{bodily:16,logical:8}),
      opt('🗣️ 거인에게 먼저 평화의 메시지를 전하며, 싸울 의사가 없음을 밝힌다.',{linguistic:14,interpersonal:8}),
      opt('🏞️ 주변의 지형을 활용하여, 거인의 공격을 피하거나 방어한다.',{spatial:12,bodily:8}),
      opt('🤔 거인의 눈을 바라보며, 그의 분노와 고통에 공감하려 노력한다.',{intrapersonal:14})
    ),
    q("지혜의 샘", "모든 시련을 이겨내고 마침내 지혜의 샘에 도착했다. 샘물은 당신의 과거와 미래를 비춘다. 무엇을 볼 것인가?",
      opt('📚 샘물에 비친 과거의 지식들을 흡수하여, 나의 지능을 더욱 확장한다.',{linguistic:16,logical:10}),
      opt('💡 샘물이 보여주는 미래의 가능성 중, 가장 논리적이고 현실적인 길을 선택한다.',{logical:16,intrapersonal:8}),
      opt('💖 샘물에 비친 사람들의 행복한 모습을 보며, 그들을 위해 무엇을 할 수 있을지 생각한다.',{interpersonal:16,intrapersonal:8}),
      opt('🌌 샘물이 보여주는 우주의 신비와 자연의 섭리를 깊이 관찰한다.',{naturalist:16,spatial:10})
    ),
    q("샘물의 시험", "지혜의 샘은 당신에게 마지막 시험을 제시한다. '가장 위대한 지혜는 무엇인가?' 당신의 답은?",
      opt('💬 '타인의 아픔에 공감하고 사랑하는 마음입니다.'라고 답한다.',{interpersonal:16}),
      opt('🧠 '세상을 이해하고 문제를 해결하는 논리적 사고입니다.'라고 답한다.',{logical:16}),
      opt('🌳 '자연의 순리와 조화를 이해하는 것입니다.'라고 답한다.',{naturalist:16}),
      opt('🎶 '아름다움을 창조하고 감동을 주는 예술적 영감입니다.'라고 답한다.',{musical:16})
    ),
    q("평화의 전사", "모든 시험을 통과하고 샘의 축복을 받은 당신. 이제 진정한 전사로서 왕국으로 돌아갈 시간이다. 어떤 모습으로 돌아갈 것인가?",
      opt('👑 위엄과 지혜를 겸비한 모습으로 돌아가, 왕국을 평화롭게 다스린다.',{linguistic:14,interpersonal:12}),
      opt('💪 백성들을 이끌고 직접 나라를 재건하며, 강인한 리더십을 보여준다.',{bodily:14,interpersonal:10}),
      opt('✨ 백성들에게 새로운 지식과 예술을 전파하며, 문명의 발전을 이끈다.',{logical:14,musical:10}),
      opt('🌿 자연과 인간이 조화롭게 살아가는 이상적인 왕국을 건설한다.',{naturalist:14,intrapersonal:10})
    ),
    q("계승자의 명예", "왕위에 오른 당신은 이제 미래를 위한 결정을 해야 한다. 당신의 후계자는 어떤 자질을 가진 인물이어야 하는가?",
      opt('📚 뛰어난 언어 능력과 지식을 겸비한 학자를 후계자로 지명한다.',{linguistic:14,logical:8}),
      opt('💖 백성을 사랑하고 공감 능력이 뛰어난 인물을 후계자로 삼는다.',{interpersonal:16}),
      opt('⚔️ 위기 상황에 강인하게 대처하고, 백성을 직접 보호할 수 있는 용사를 택한다.',{bodily:14,spatial:8}),
      opt('🧘‍♀️ 자신의 내면을 깊이 이해하고, 백성들의 마음을 헤아릴 수 있는 현자를 선택한다.',{intrapersonal:16})
    ),
    q("평화로운 시대", "당신의 통치 아래 왕국은 평화롭고 번영한다. 백성들은 당신을 영원히 기억할 것이다. 당신의 치세는 어떤 모습으로 역사에 기록될까?",
      opt('✨ 지혜와 정의로움으로 모든 갈등을 해결하고, 평화로운 시대를 이룩한 왕으로 기억된다.',{logical:14,interpersonal:12}),
      opt('🎨 예술과 학문을 장려하여, 문화적 황금기를 이끈 위대한 군주로 칭송받는다.',{musical:14,linguistic:12}),
      opt('🌳 자연과 조화를 이루는 정책으로, 풍요로운 환경을 조성한 환경 친화적인 왕으로 기록된다.',{naturalist:14,bodily:10}),
      opt('❤️ 백성들의 마음을 하나로 모아, 모두가 행복한 공동체를 만든 따뜻한 왕으로 기억된다.',{intrapersonal:14,interpersonal:14})
    )
  ],
  // Wizard Questline (20 Quests)
  wizard: [
    q("잃어버린 마법서", "오래된 탑의 서고에서 잃어버린 마법서를 발견했다. 마법서는 고대의 언어로 봉인되어 있다. 어떻게 봉인을 풀까?",
      opt('📜 마법서의 문장들을 분석하여, 봉인을 푸는 고유한 언어적 패턴을 찾아낸다.',{linguistic:14}),
      opt('🧠 마법서의 복잡한 마법진을 분석하여, 봉인의 논리적인 해법을 찾아낸다.',{logical:14}),
      opt('🖐️ 마법서를 직접 손으로 만져보며, 마법에 담긴 기운을 감지한다.',{bodily:12,intrapersonal:8}),
      opt('✨ 마법서 주변의 공기 흐름과 빛의 변화를 관찰하여, 마법의 원리를 이해한다.',{naturalist:12,spatial:6})
    ),
    q("별의 길잡이", "마법서의 봉인을 풀자, '별들이 춤추는 곳에서 지혜를 찾으라'는 메시지가 나타났다. 별들의 움직임은 복잡하다. 어떻게 길을 찾을까?",
      opt('⭐ 별자리의 위치와 움직임을 정밀하게 기록하고, 다음 이동 경로를 예측한다.',{spatial:14,logical:8}),
      opt('🎶 별들이 내는 미세한 소리의 하모니를 듣고, 그 음악에 맞춰 길을 나선다.',{musical:14}),
      opt('🗣️ 별에 대한 전설을 가진 사람들을 찾아가, 그들의 이야기를 듣는다.',{interpersonal:12,linguistic:6}),
      opt('🧘‍♀️ 고요히 앉아 별들의 기운을 느끼며, 내면의 직관에 따라 길을 결정한다.',{intrapersonal:12})
    ),
    q("음유시인의 수수께끼", "별의 길을 따라가다, 한 음유시인을 만났다. 그는 당신을 시험하듯, '답이 없는 질문'에 대한 수수께끼를 낸다. 어떻게 답할까?",
      opt('💬 음유시인의 수수께끼에 논리적인 모순이 있음을 지적하며, 그의 질문 자체를 반박한다.',{logical:14}),
      opt('📜 수수께끼에 담긴 언어적 비유와 은유를 해독하여, 숨겨진 의미를 찾아낸다.',{linguistic:12,logical:6}),
      opt('❤️ '진심으로 질문하지 않는 질문에는 답할 수 없습니다'라고 솔직한 마음을 전한다.',{interpersonal:12,intrapersonal:8}),
      opt('🎶 수수께끼의 리듬과 운율을 분석하여, 답을 노래로 만들어 들려준다.',{musical:12,linguistic:6})
    ),
    q("고대 유적", "음유시인의 수수께끼를 풀자, 오래된 유적이 나타났다. 유적의 벽면에는 거대한 지도가 그려져 있다. 어떻게 지도를 해독할까?",
      opt('🗺️ 지도의 복잡한 선과 기호들을 분석하여, 숨겨진 장소의 위치를 파악한다.',{spatial:16}),
      opt('🔍 지도의 그림들이 나타내는 실제 지형과 식생을 찾아, 지도의 정확성을 확인한다.',{naturalist:14,logical:6}),
      opt('🧘‍♀️ 지도를 보며 명상에 잠겨, 지도에 담긴 고대의 지혜와 교감한다.',{intrapersonal:12}),
      opt('🤝 주변에 있는 탐험가들을 모아, 함께 지도를 연구하고 정보를 공유한다.',{interpersonal:12,logical:6})
    ),
    q("광기의 마법사", "유적의 중심에서 광기에 휩싸인 마법사를 만났다. 그는 당신을 경계하며, 위협적인 마법을 시전한다. 어떻게 이 상황을 해결할까?",
      opt('🛡️ 그의 마법이 어떤 규칙을 따르는지 분석하여, 방어 마법으로 공격을 무력화한다.',{logical:14,musical:8}),
      opt('🗣️ 그의 마법이 왜곡된 이유를 알아내기 위해, 그의 과거에 대한 이야기를 듣는다.',{linguistic:14,interpersonal:8}),
      opt('🔥 그의 마법에 맞서, 더욱 강력한 공격 마법으로 제압한다.',{bodily:12,spatial:6}),
      opt('❤️ 광기에 휩싸인 그의 슬픔에 공감하며, 진심으로 그를 이해하려 노력한다.',{interpersonal:16})
    ),
    q("마법의 숲", "마법사를 진정시키자, 그는 당신에게 '마법의 숲'으로 가는 길을 알려준다. 숲 속의 나무들은 살아있는 것처럼 움직인다. 어떻게 숲을 지나갈까?",
      opt('🌳 나무들의 움직임과 숲의 생태계를 관찰하여, 안전한 경로를 찾아낸다.',{naturalist:16,spatial:8}),
      opt('🕺 숲의 리듬에 맞춰 움직이며, 나무들과 조화롭게 숲을 통과한다.',{bodily:14,musical:8}),
      opt('🗣️ 나무들에게 말을 걸고, 그들의 이야기에 귀 기울이며 길을 묻는다.',{linguistic:12,interpersonal:8}),
      opt('🧘‍♀️ 숲의 기운을 느끼며, 숲이 나에게 허락하는 길을 따라간다.',{intrapersonal:14})
    ),
    q("숨겨진 온천", "숲을 통과하자, 신비로운 힘을 지닌 온천을 발견했다. 온천물에 손을 담그자, 과거의 장면들이 스쳐 지나간다. 무엇을 얻을까?",
      opt('📚 과거의 위대한 마법사들이 남긴 지식과 기술을 흡수한다.',{linguistic:16,logical:10}),
      opt('💡 미래의 문제를 해결할 수 있는 논리적인 해법을 찾는다.',{logical:16,intrapersonal:8}),
      opt('💖 온천물에 비친 사람들의 행복한 모습을 보며, 그들을 위해 무엇을 할 수 있을지 생각한다.',{interpersonal:16,intrapersonal:8}),
      opt('🌌 온천이 보여주는 우주의 신비와 자연의 섭리를 깊이 관찰한다.',{naturalist:16,spatial:10})
    ),
    q("지혜의 샘", "모든 시련을 이겨내고 마침내 지혜의 샘에 도착했다. 샘물은 당신의 과거와 미래를 비춘다. 무엇을 볼 것인가?",
      opt('📚 샘물에 비친 과거의 지식들을 흡수하여, 나의 지능을 더욱 확장한다.',{linguistic:16,logical:10}),
      opt('💡 샘물이 보여주는 미래의 가능성 중, 가장 논리적이고 현실적인 길을 선택한다.',{logical:16,intrapersonal:8}),
      opt('💖 샘물에 비친 사람들의 행복한 모습을 보며, 그들을 위해 무엇을 할 수 있을지 생각한다.',{interpersonal:16,intrapersonal:8}),
      opt('🌌 샘물이 보여주는 우주의 신비와 자연의 섭리를 깊이 관찰한다.',{naturalist:16,spatial:10})
    ),
    q("샘물의 시험", "지혜의 샘은 당신에게 마지막 시험을 제시한다. '가장 위대한 지혜는 무엇인가?' 당신의 답은?",
      opt('💬 '타인의 아픔에 공감하고 사랑하는 마음입니다.'라고 답한다.',{interpersonal:16}),
      opt('🧠 '세상을 이해하고 문제를 해결하는 논리적 사고입니다.'라고 답한다.',{logical:16}),
      opt('🌳 '자연의 순리와 조화를 이해하는 것입니다.'라고 답한다.',{naturalist:16}),
      opt('🎶 '아름다움을 창조하고 감동을 주는 예술적 영감입니다.'라고 답한다.',{musical:16})
    ),
    q("진정한 마법사", "모든 시험을 통과하고 샘의 축복을 받은 당신. 이제 진정한 마법사로서 왕국으로 돌아갈 시간이다. 어떤 모습으로 돌아갈 것인가?",
      opt('👑 위엄과 지혜를 겸비한 모습으로 돌아가, 왕국을 평화롭게 다스린다.',{linguistic:14,interpersonal:12}),
      opt('💪 백성들을 이끌고 직접 나라를 재건하며, 강인한 리더십을 보여준다.',{bodily:14,interpersonal:10}),
      opt('✨ 백성들에게 새로운 지식과 예술을 전파하며, 문명의 발전을 이끈다.',{logical:14,musical:10}),
      opt('🌿 자연과 인간이 조화롭게 살아가는 이상적인 왕국을 건설한다.',{naturalist:14,intrapersonal:10})
    ),
    q("계승자의 명예", "왕위에 오른 당신은 이제 미래를 위한 결정을 해야 한다. 당신의 후계자는 어떤 자질을 가진 인물이어야 하는가?",
      opt('📚 뛰어난 언어 능력과 지식을 겸비한 학자를 후계자로 지명한다.',{linguistic:14,logical:8}),
      opt('💖 백성을 사랑하고 공감 능력이 뛰어난 인물을 후계자로 삼는다.',{interpersonal:16}),
      opt('⚔️ 위기 상황에 강인하게 대처하고, 백성을 직접 보호할 수 있는 용사를 택한다.',{bodily:14,spatial:8}),
      opt('🧘‍♀️ 자신의 내면을 깊이 이해하고, 백성들의 마음을 헤아릴 수 있는 현자를 선택한다.',{intrapersonal:16})
    ),
    q("평화로운 시대", "당신의 통치 아래 왕국은 평화롭고 번영한다. 백성들은 당신을 영원히 기억할 것이다. 당신의 치세는 어떤 모습으로 역사에 기록될까?",
      opt('✨ 지혜와 정의로움으로 모든 갈등을 해결하고, 평화로운 시대를 이룩한 왕으로 기억된다.',{logical:14,interpersonal:12}),
      opt('🎨 예술과 학문을 장려하여, 문화적 황금기를 이끈 위대한 군주로 칭송받는다.',{musical:14,linguistic:12}),
      opt('🌳 자연과 조화를 이루는 정책으로, 풍요로운 환경을 조성한 환경 친화적인 왕으로 기록된다.',{naturalist:14,bodily:10}),
      opt('❤️ 백성들의 마음을 하나로 모아, 모두가 행복한 공동체를 만든 따뜻한 왕으로 기억된다.',{intrapersonal:14,interpersonal:14})
    )
  ]
};

// 동료 선택 이벤트 핸들러
function handleCompanionClick(event) {
    // 모든 동료의 'selected' 클래스 제거
    document.querySelectorAll('.char').forEach(char => char.classList.remove('selected'));
    
    // 클릭된 동료에게 'selected' 클래스 추가
    const clickedChar = event.currentTarget;
    clickedChar.classList.add('selected');

    // player 객체에 선택된 동료 정보 저장
    player.companion = clickedChar.dataset.id;
    
    // 시작 버튼 상태 확인 함수 호출
    checkStartButton();
}

// 시작 버튼 활성화/비활성화
function checkStartButton() {
    const isNameValid = el('input-name').value.trim() !== '';
    const isClassValid = el('input-class').value.trim() !== '';
    const isCompanionSelected = player.companion !== null;
    const btnStart = el('btn-start');

    if (isNameValid && isClassValid && isCompanionSelected) {
        btnStart.disabled = false;
    } else {
        btnStart.disabled = true;
    }
}

// 게임 시작
function startGame() {
    player.name = el('input-name').value.trim();
    player.class = el('input-class').value.trim();
    if (!player.name || !player.class || !player.companion) {
        return;
    }
    
    // 게임 상태 초기화
    scores = { linguistic: 0, logical: 0, spatial: 0, bodily: 0, musical: 0, interpersonal: 0, intrapersonal: 0, naturalist: 0 };
    currentQuestIndex = 0;
    questLine = quests[player.companion];

    // 화면 전환
    el('pre-game').style.display = 'none';
    el('game-area').style.display = 'block';
    el('stats-panel').style.display = 'block';
    el('result-area').style.display = 'none';

    // 첫 번째 퀘스트 시작
    showQuest(questLine[currentQuestIndex]);
    updateStats();
}

// 퀘스트 진행 및 점수 갱신
function showQuest(quest) {
    el('quest-title').innerText = quest.title;
    el('quest-text').innerText = quest.text;

    const optionsDiv = el('options');
    optionsDiv.innerHTML = '';
    quest.options.forEach(opt => {
        const optionEl = document.createElement('div');
        optionEl.className = 'option';
        optionEl.innerHTML = `<span>${opt.t}</span>`;
        optionEl.addEventListener('click', () => handleOptionClick(opt.e));
        optionsDiv.appendChild(optionEl);
    });
}

function handleOptionClick(effects) {
    sounds.turn.currentTime = 0;
    sounds.turn.play();
    
    // 점수 업데이트
    for (const key in effects) {
        if (scores.hasOwnProperty(key)) {
            scores[key] += effects[key];
        }
    }
    updateStats();

    // 다음 퀘스트로 진행
    currentQuestIndex++;
    if (currentQuestIndex < questLine.length) {
        showQuest(questLine[currentQuestIndex]);
    } else {
        showResult();
    }
}

// 통계 업데이트
function updateStats() {
    const statsDiv = el('stats');
    statsDiv.innerHTML = '';

    const sortedScores = Object.entries(scores).sort((a, b) => b[1] - a[1]);
    const maxScore = Math.max(...Object.values(scores), 1);

    sortedScores.forEach(([key, value]) => {
        const statEl = document.createElement('div');
        statEl.className = 'stat';
        statEl.innerHTML = `
            <div>${mapNamesForStats[key]}</div>
            <div>${value}</div>
            <div class="bar"><div class="bar-inner" style="width:${(value / maxScore) * 100}%;"></div></div>
        `;
        statsDiv.appendChild(statEl);
    });
}

// 결과 화면 표시
function showResult() {
    el('game-area').style.display = 'none';
    el('result-area').style.display = 'block';

    const result = findTopIntelligences();
    const resultText = el('result-content');
    
    if (result.isTie) {
        resultText.innerHTML = `<h3>모험의 종착지</h3><p>당신은 ${mapNames[result.topIntel]}와 ${mapNames[result.secondIntel]}이(가) 가장 뛰어난 모험가입니다. 두 지능을 모두 갖춘 당신은 어떤 어려움도 극복할 수 있을 것입니다.</p>`;
    } else {
        resultText.innerHTML = `<h3>모험의 종착지</h3><p>${getFinalMessage(result.topIntel)}</p>`;
    }
}

// 상위 지능 찾기
function findTopIntelligences() {
    const sortedEntries = Object.entries(scores).sort((a, b) => b[1] - a[1]);
    
    const topIntel = sortedEntries[0][0];
    const topScore = sortedEntries[0][1];
    let secondIntel = null;
    let isTie = false;

    if (sortedEntries.length > 1 && sortedEntries[1][1] === topScore) {
        secondIntel = sortedEntries[1][0];
        isTie = true;
    }
    
    return {
        topIntel,
        secondIntel,
        isTie
    };
}

function getFinalMessage(topIntel) {
    switch (topIntel) {
        case 'linguistic': return "당신은 언어 지능이 가장 뛰어난 모험가입니다. 이야기는 곧 세상의 전부입니다. 당신의 지혜로운 말 한마디가 왕국을 구원할 것입니다.";
        case 'logical': return "당신은 논리-수학 지능이 가장 뛰어난 모험가입니다. 복잡한 문제를 해결하고, 숨겨진 진실을 밝혀내는 능력으로 왕국의 현자가 될 것입니다.";
        case 'spatial': return "당신은 공간 지능이 가장 뛰어난 모험가입니다. 당신의 뛰어난 통찰력과 공간적 감각은 미지의 세계를 탐험하고 새로운 문명을 개척하는 데 빛을 발할 것입니다.";
        case 'bodily': return "당신은 신체-운동 지능이 가장 뛰어난 모험가입니다. 강인한 육체와 뛰어난 운동 능력은 모든 위험으로부터 왕국을 지키는 방패가 될 것입니다.";
        case 'musical': return "당신은 음악 지능이 가장 뛰어난 모험가입니다. 당신의 영혼을 울리는 선율은 사람들의 마음을 하나로 모으고, 왕국에 평화와 조화를 가져올 것입니다.";
        case 'interpersonal': return "당신은 대인관계 지능이 가장 뛰어난 모험가입니다. 사람들의 마음을 읽고 공감하는 능력으로, 당신은 가장 사랑받는 리더가 될 것입니다.";
        case 'intrapersonal': return "당신은 자기이해 지능이 가장 뛰어난 모험가입니다. 자신의 내면을 깊이 이해하고 통찰하는 능력으로, 당신은 어떤 시련에도 흔들리지 않는 강한 존재가 될 것입니다.";
        case 'naturalist': return "당신은 자연친화 지능이 가장 뛰어난 모험가입니다. 당신은 자연의 순리와 생명의 소리에 귀 기울이며, 자연과 인간이 조화롭게 공존하는 길을 찾을 것입니다.";
    }
}

function restartGame() {
    el('pre-game').style.display = 'block';
    el('game-area').style.display = 'none';
    el('stats-panel').style.display = 'none';
    el('result-area').style.display = 'none';
    el('input-name').value = '';
    el('input-class').value = '';
    document.querySelectorAll('.char').forEach(char => char.classList.remove('selected'));
    player.companion = null;
    checkStartButton(); // 재시작 후에도 버튼 상태 확인
}

// 이벤트 리스너 추가
document.addEventListener('DOMContentLoaded', () => {
    // 플레이어 정보 입력 감지
    const inputs = [el('input-name'), el('input-class')];
    inputs.forEach(input => input.addEventListener('input', checkStartButton));

    // 동료 선택 이벤트 감지 (수정된 부분)
    document.querySelectorAll('.char').forEach(char => {
        char.addEventListener('click', handleCompanionClick);
    });

    // 시작 버튼 이벤트
    el('btn-start').addEventListener('click', startGame);

    // 재시작 버튼 이벤트
    el('btn-restart').addEventListener('click', restartGame);
});
</script>

</body>
</html>
