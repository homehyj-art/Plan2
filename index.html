<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>📜 다중지능 탐험: 고대의 부름 (버튼 오류 해결판)</title>
<link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Cinzel:wght@700&display=swap" rel="stylesheet">
<style>
:root{ --brown-text: #4a3a2a; --gold: #c89a4b; }
*{box-sizing:border-box}

body{
    margin:0;
    font-family: 'Gowun Dodum', serif;
    background: linear-gradient(170deg, #0d1117 0%, #1e2c40 50%, #161b22 100%);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
}

.wrap{ width:100%; max-width:1200px; }

.header{
    text-align: center;
    margin-bottom: 20px;
    animation: fadeInDown 1s ease-out;
}
.title{
    font-family: 'Cinzel', serif;
    font-size: 3rem;
    color: var(--gold);
    text-shadow: 2px 2px 8px rgba(0,0,0,0.8);
}
.subtitle{ font-family: 'Gowun Dodum'; opacity:0.9; font-size: 1.2rem; color: #f0f0f0; }

.layout{ display:flex; gap:20px; }
.left, .right{ transition: all 0.5s ease-out; }
.left{ width:360px; animation: fadeInLeft 1s ease-out; }
.right{ flex:1; animation: fadeInRight 1s ease-out; }

.card{
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(8px);
    border-radius:16px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    border: 1px solid rgba(255,215,102,0.15);
}

.char-row{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
.char{
    padding:10px;
    border-radius:10px;
    background:rgba(0,0,0,0.3);
    text-align:center;
    cursor:pointer;
    border: 2px solid transparent;
    transition: all 0.3s ease;
}
.char:hover{ transform:translateY(-5px); background:rgba(0,0,0,0.5); border-color: var(--gold); }
.char .emoji{ font-size:44px; filter: drop-shadow(0 0 5px rgba(0,0,0,0.5)); }
.char .name{ color:var(--gold); font-weight:bold; }
.char.selected{
    background:rgba(200,154,75,0.3);
    border-color: var(--gold);
    transform: translateY(-5px) scale(1.05);
    box-shadow: 0 0 15px rgba(200, 154, 75, 0.5);
}

label{ display:block; color:var(--gold); font-weight:700; margin-bottom:6px; }
input[type=text]{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:1px solid rgba(255,215,102,0.2);
    background:rgba(0,0,0,0.3);
    color:#fff;
    margin-bottom:10px;
    font-family: 'Gowun Dodum', serif;
}
.btn{
    display:inline-flex;
    gap:8px;
    align-items:center;
    justify-content:center;
    padding:12px 16px;
    border-radius:10px;
    border:none;
    cursor:pointer;
    background:linear-gradient(145deg, #b38645, #835e2c);
    color:#fff;
    font-weight:bold;
    box-shadow: 0 5px 15px rgba(0,0,0,0.4);
    width: 100%;
    font-family: 'Gowun Dodum', serif;
    font-size: 1rem;
    transition: all 0.2s ease;
}
.btn:hover {
    transform: scale(1.02);
}
/* ✨ 비활성화된 버튼 스타일 추가 */
.btn:disabled {
    background: #555;
    cursor: not-allowed;
    opacity: 0.6;
    transform: scale(1);
    box-shadow: none;
}

#game-card {
    background: linear-gradient(150deg, #f5eadd 0%, #e8d9c2 100%);
    box-shadow: inset 0 0 20px rgba(0,0,0,0.2);
    color: var(--brown-text);
    padding: 50px 60px;
    min-height: 550px;
    position: relative;
    border-radius: 8px;
}
.quest-header { text-align: center; margin-bottom: 20px; }
.quest-header h3 { font-family: 'Cinzel', serif; color: #6a4a2a; margin: 0; font-size: 1.5rem;}
.quest-text { font-size:1.2rem; line-height:1.8; min-height: 100px; }
.options{ display:grid; grid-template-columns:1fr; gap:12px; margin-top:20px; }
.option{
    padding:12px;
    border-radius:10px;
    background:rgba(189, 168, 133, 0.3);
    cursor:pointer;
    border:1px solid rgba(112, 83, 48, 0.3);
    transition: all .2s ease;
}
.option:hover{ transform: scale(1.03); background:rgba(189, 168, 133, 0.5); border-color: var(--brown-text); }
.option .label{ font-weight:bold; }

.stats-grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:8px; margin-top:12px; color: #fff;}
.stat{ background:rgba(0,0,0,0.3); padding:8px; border-radius:8px; text-align:center; }
.bar{ height:10px; background:rgba(255,255,255,0.1); border-radius:6px; margin-top:8px; overflow:hidden; }
.bar-inner{ height:100%; background:linear-gradient(90deg,var(--gold),#e6b873); width:0%; transition:width .6s; }

.result-content { color: var(--brown-text); text-align: center; }
.result-content h3 { font-family: 'Cinzel', serif; color: #6a4a2a; }

@keyframes fadeInDown { 0% { opacity:0; transform: translateY(-30px); } 100% { opacity:1; transform: translateY(0); } }
@keyframes fadeInLeft { 0% { opacity:0; transform: translateX(-50px); } 100% { opacity:1; transform: translateX(0); } }
@keyframes fadeInRight { 0% { opacity:0; transform: translateX(50px); } 100% { opacity:1; transform: translateX(0); } }

@media(max-width:900px){ .layout{flex-direction:column} .left{width:100%} }
</style>
</head>
<body>

<audio id="bgm" src="https://cdn.pixabay.com/audio/2022/08/04/audio_2dde649a33.mp3" loop></audio>
<audio id="sfx-turn" src="https://cdn.pixabay.com/audio/2022/03/15/audio_731c045b61.mp3"></audio>

<div class="wrap">
  <div class="header">
    <div class="title">Ancient Calling</div>
    <div class="subtitle">나의 다중지능을 찾아 떠나는 모험</div>
  </div>

  <div class="layout">
    <div class="left">
      <div class="card">
        <label>모험가 이름</label>
        <input id="input-name" type="text" placeholder="예: 김민준" />
        <label>소속 (반)</label>
        <input id="input-class" type="text" placeholder="예: 1학년 3반" />
        <label>여정을 함께할 동료</label>
        <div id="char-row" class="char-row">
          <div class="char" data-id="prince"><div class="emoji">🤴</div><div class="name">용감한 왕자</div></div>
          <div class="char" data-id="princess"><div class="emoji">👸</div><div class="name">지혜로운 공주</div></div>
          <div class="char" data-id="warrior"><div class="emoji">⚔️</div><div class="name">강인한 전사</div></div>
          <div class="char" data-id="wizard"><div class="emoji">🔮</div><div class="name">신비한 마법사</div></div>
        </div>
        <div style="margin-top:20px;">
          <button id="btn-start" class="btn" disabled>▶ 모험 시작하기</button>
        </div>
      </div>

      <div id="stats-panel" class="card" style="margin-top:12px; display:none;">
         <div id="stats" class="stats-grid"></div>
      </div>
    </div>

    <div class="right">
      <div id="game-card" class="card">
        <div id="pre-game">
          <div style="text-align:center; padding-top: 80px;">
            <h3 style="font-family:'Cinzel', serif; color: var(--brown-text);">📜 모험의 서막</h3>
            <p style="font-size: 1.1rem; line-height: 1.8;">이름과 소속을 적고, 여정을 함께할 동료를 선택하세요.<br>당신의 선택이 모여 미래의 길을 밝혀줄 것입니다.<br>이제, 고대의 부름에 응답할 시간입니다.</p>
          </div>
        </div>

        <div id="game-area" style="display:none">
          <div class="quest-header">
            <h3 id="quest-title"></h3>
          </div>
          <div id="quest-text" class="quest-text"></div>
          <div id="options" class="options"></div>
        </div>
        
        <div id="result-area" style="display:none; padding-top: 50px;">
          <div class="result-content" id="result-content"></div>
          <button id="btn-restart" class="btn" style="max-width:300px; margin: 20px auto 0;">🔄 새로운 모험 시작하기</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// 사운드 객체
const sounds = {
    bgm: document.getElementById('bgm'),
    turn: document.getElementById('sfx-turn'),
};
sounds.bgm.volume = 0.2; // BGM 볼륨 조절

// 게임 시작 시 BGM 재생 (사용자 인터랙션 후)
document.body.addEventListener('click', () => {
    if (sounds.bgm.paused) {
        sounds.bgm.play().catch(e => console.log("BGM 자동재생이 차단되었습니다."));
    }
}, { once: true });


/* ====== 퀘스트 데이터 (전체 80개) ====== */
function q(title, text, a, b, c, d){ return { title, text, options:[a,b,c,d] }; }
function opt(text, effects){ return {t:text, e:effects}; }

const quests = {
  // Prince Questline (20 Quests)
  prince: [
    q("왕의 서신", "먼지 쌓인 서고에서 아버지의 흔적이 담긴 낡은 편지를 발견했다. '진정한 왕의 자격은 왕관이 아닌, 백성을 비추는 빛에 있나니. 그 빛을 따라가거라.' 이 수수께끼 같은 유언의 실마리는 어디서부터 찾아야 할까?",
      opt('📜 편지에 쓰인 단어들의 상징적 의미를 파고들어 분석한다.',{linguistic:14}),
      opt('🗺️ 편지에 남은 희미한 지도의 흔적을 따라 직접 현장으로 향한다.',{bodily:12,spatial:6}),
      opt('👥 편지를 마지막으로 만졌을 법한 왕궁의 오랜 신하를 찾아가 대화한다.',{interpersonal:12,logical:6}),
      opt('🌿 편지지에서 희미하게 나는 풀 향기를 단서로, 특정 지역의 식생을 조사한다.',{naturalist:8,spatial:6})
    ),
    q("시장의 현자", "시장에 도착하자, 한 노인이 당신을 알아보고 다가와 속삭였다. '왕께서 찾던 빛은 북쪽 숲의 심장, 가장 오래된 고목에서 나온다네.' 그의 말을 어떻게 받아들여야 할까?",
      opt('💬 노인의 이야기에 진심으로 감사하며, 숲에 대한 다른 전설은 없는지 묻는다.',{interpersonal:12,linguistic:6}),
      opt('🧭 즉시 숲으로 달려가기보다, 먼저 도서관에서 북쪽 숲에 대한 자료를 찾아본다.',{logical:12,linguistic:6}),
      opt('🤝 탐험대를 꾸려 함께 숲으로 떠난다. 여러 눈으로 보는 것이 더 정확할 것이다.',{interpersonal:12,bodily:6}),
      opt('🌲 그의 말이 사실인지 확인하기 위해, 즉시 혼자서 숲의 고목을 찾아 나선다.',{bodily:12,naturalist:6})
    ),
    q("별자리石", "숲길을 걷다, 이끼 낀 바위 위에 고대의 별자리와 닮은 문양이 새겨진 돌을 발견했다. 이 돌은 무엇을 의미할까?",
      opt('✍️ 문양을 양피지에 똑같이 베껴 그리고, 각 상징의 의미를 추론해본다.',{linguistic:12,spatial:4}),
      opt('⭐ 밤하늘의 실제 별자리와 돌의 문양을 대조하여 방향을 찾는다.',{spatial:14,naturalist:4}),
      opt('🪨 돌 주변의 흙과 식물을 관찰하여, 이 돌이 언제부터 이곳에 있었는지 추정한다.',{naturalist:12,logical:4}),
      opt('🤔 잠시 명상에 잠겨, 이 문양이 나에게 어떤 영감을 주는지 내면의 소리에 귀 기울인다.',{intrapersonal:12})
    ),
    q("숲의 울림", "밤이 되자 숲 속에서 규칙적인 북소리 같은 울림이 들려온다. 불안해하는 동료들 사이에서, 당신은 어떻게 행동할까?",
      opt('🎶 울림의 박자와 리듬을 분석하여, 그것이 인공적인 신호인지 자연적인 소리인지 판단한다.',{musical:14,logical:4}),
      opt('🏕️ 즉시 안전한 야영지를 구축하고, 교대로 불침번을 서며 동료들을 안심시킨다.',{bodily:12,interpersonal:8}),
      opt('🤫 소리의 근원지를 향해 조심스럽게 다가가, 정체가 무엇인지 직접 확인한다.',{bodily:12,spatial:4}),
      opt('🤝 동료들을 모아 각자의 의견을 듣고, 다 함께 다음 행동을 결정한다.',{interpersonal:14})
    ),
    q("고목의 비문", "마침내 거대한 고목을 찾았다. 그 앞에는 글자가 거의 지워진 낡은 비문이 서 있다. '오직 [■■] 자만이 빛을 보리라.' 비문의 내용을 어떻게 알아낼까?",
      opt('🔎 남아있는 글자의 형태와 조각들을 조합하여 사라진 단어를 추리한다.',{linguistic:14}),
      opt('📜 주변에서 비문과 비슷한 시대의 다른 유적을 찾아, 사용된 언어의 패턴을 비교 분석한다.',{logical:10,spatial:6}),
      opt('🖐️ 비문 표면을 손으로 직접 문질러, 마모된 글자의 흔적을 감각으로 읽어낸다.',{bodily:12,naturalist:4}),
      opt('❓ '만약 내가 비문을 세웠다면 어떤 단어를 썼을까?' 스스로 질문하며 답을 찾는다.',{intrapersonal:12,linguistic:4})
    ),
    q("가뭄의 마을", "숲을 나오자 극심한 가뭄으로 고통받는 마을을 마주쳤다. 물을 찾아달라는 마을 사람들의 간절한 눈빛을 외면할 수 없다. 어떻게 그들을 도울까?",
      opt('🌊 주변 지형을 정밀하게 분석하여, 지하 수맥이 있을 만한 곳을 찾아낸다.',{logical:12,spatial:8}),
      opt('💪 마을 사람들을 조직하고 격려하며, 다 함께 우물을 파는 작업에 직접 참여한다.',{interpersonal:14,bodily:6}),
      opt('🌱 가뭄에도 잘 자라는 식물들을 추적하여, 물이 있는 곳의 단서를 찾는다.',{naturalist:12}),
      opt('🗣️ 물 분배 문제로 다투는 마을 사람들을 중재하고, 모두가 합의할 규칙을 만든다.',{interpersonal:14,linguistic:6})
    ),
    q("광장의 노래", "마을 광장에서 한 음유시인이 '빛을 잃은 왕관'에 대한 노래를 부르고 있다. 가사 속에 중요한 단서가 있을지도 모른다.",
      opt('🎼 노래의 가사 하나하나를 빠짐없이 기록하고, 그 안에 숨겨진 은유를 분석한다.',{linguistic:12,musical:6}),
      opt('😊 노래가 끝난 후, 음유시인에게 다가가 그의 이야기에 깊은 관심을 보이며 추가 정보를 얻는다.',{interpersonal:12}),
      opt('🗺️ 노래에 묘사된 '세 개의 봉우리'나 '붉은 강' 같은 지형을 지도에서 찾아본다.',{spatial:12}),
      opt('🎵 가사보다는 노래의 슬픈 멜로디에 집중하여, '잃어버린 왕관'의 감정적 의미를 파악한다.',{musical:12,intrapersonal:4})
    ),
    q("국경의 의심", "단서를 따라 도착한 국경 요새. 하지만 수비대는 당신의 신분을 의심하며 길을 열어주지 않는다. 어떻게 이 상황을 해결할까?",
      opt('👑 나의 신분과 여정의 목적을 논리정연하고 설득력 있게 설명하여 신뢰를 얻는다.',{linguistic:14,interpersonal:6}),
      opt('🛡️ 수비대의 경계심을 이해한다고 말하며, 그들의 임무를 존중하는 태도를 보인다.',{interpersonal:16}),
      opt('🔍 지금까지 모아온 증거물(편지, 지도 조각 등)을 제시하여 나의 주장을 증명한다.',{logical:12}),
      opt('⏳ 당장 통과하려 하지 않고, 요새 밖에서 머물며 그들이 마음을 열 때까지 기다린다.',{intrapersonal:12})
    ),
    q("왕의 시험", "마침내 왕 앞에 선 당신. 그는 시험하듯 묻는다. '백성의 행복과 왕국의 안정, 둘 중 하나만 택해야 한다면 무엇을 택하겠는가?' 당신의 답은?",
      opt('💬 '백성의 행복이 곧 왕국의 가장 튼튼한 기반입니다.'라고 답하며 구체적인 정책을 제시한다.',{interpersonal:16,linguistic:6}),
      opt('⚖️ '안정 없는 행복은 신기루와 같으니, 먼저 튼튼한 방벽을 쌓겠습니다.'라고 답한다.',{logical:14,bodily:6}),
      opt('❓ '그 둘은 분리될 수 없습니다. 왜 그런 선택을 해야만 하는지 먼저 되묻겠습니다.'라고 답한다.',{intrapersonal:12,logical:8}),
      opt('🎨 '교육과 예술을 통해 백성들의 마음을 풍요롭게 하는 것이 장기적인 안정의 길입니다.'라고 답한다.',{linguistic:12,musical:4})
    ),
    q("고대의 장치", "왕이 인정한 당신에게 마지막 장소의 지도가 주어진다. 그곳엔 복잡한 고대 장치가 잠들어 있다. 어떻게 작동시킬까?",
      opt('⚙️ 톱니바퀴와 문양들의 관계를 분석하여, 장치의 논리적인 작동 원리를 파악한다.',{logical:14,spatial:6}),
      opt('✋ 장치의 여러 부분을 직접 만지고 움직여보며, 물리적인 반응을 통해 해법을 찾는다.',{bodily:12}),
      opt('🔊 장치에서 주기적으로 들려오는 미세한 소리의 높낮이와 패턴에서 단서를 찾는다.',{musical:12}),
      opt('🌿 장치 주변에만 자라는 특이한 식물이나 이끼를 통해, 장치의 에너지원을 추측한다.',{naturalist:12})
    ),
    q("길 잃은 아이", "장치를 작동시키자 새로운 길이 열렸다. 하지만 그 길목에서, 겁에 질려 울고 있는 한 아이를 발견했다. 어떻게 할 것인가?",
      opt('❤️ 아이의 눈높이에 맞춰 앉아, 부드러운 목소리로 안심시키며 무슨 일이 있었는지 들어준다.',{interpersonal:14}),
      opt('👣 아이가 걸어온 방향의 발자국이나 흔적을 찾아, 부모를 찾을 단서를 수집한다.',{spatial:12,naturalist:8}),
      opt('🎵 아이의 긴장을 풀어주기 위해, 재미있는 노래를 불러주거나 작은 놀이를 함께 한다.',{musical:10,interpersonal:6}),
      opt('🤔 일단 아이를 안전한 곳으로 데려간 뒤, 침착하게 아이를 찾을 최선의 방법을 계획한다.',{logical:12,intrapersonal:6})
    ),
    q("마지막 문", "마침내 빛의 신전, 마지막 문 앞에 섰다. 문에는 네 종류의 기념물을 올릴 제단이 있다. 올바른 순서를 어떻게 알아낼까?",
      opt('📜 제단에 새겨진 고대 문자의 의미를 해석하여, 올바른 순서를 알아낸다.',{linguistic:16}),
      opt('✨ 각 기념물이 내뿜는 미세한 에너지의 강도와 파장을 분석하여 순서를 맞춘다.',{logical:14,naturalist:6}),
      opt('🎶 기념물들을 두드렸을 때 나는 소리의 조화를 통해 올바른 순서를 찾는다.',{musical:14}),
      opt('🙏 눈을 감고 각 제단 앞에 서서, 마음이 가장 평온해지는 순서를 따른다.',{intrapersonal:14})
    ),
    q("무너지는 신전", "문을 열고 빛을 마주한 순간, 신전이 흔들리며 무너지기 시작한다. 어떻게 이곳을 탈출할 것인가?",
      opt('🗺️ 신전의 구조를 빠르게 파악하고, 가장 안전하고 효율적인 탈출로를 계획한다.',{spatial:14,logical:6}),
      opt('🤝 함께 온 동료들을 먼저 챙기고, 서로 도우며 질서정연하게 대피시킨다.',{interpersonal:16}),
      opt('🏃 떨어지는 석상과 장애물들을 민첩하게 피하며, 가장 빠르게 출구를 향해 달린다.',{bodily:14}),
      opt('🧘‍ 무너지는 상황 속에서도, 두려움에 휩싸이지 않고 침착하게 최선의 판단을 내린다.',{intrapersonal:14})
    ),
    q("왕국으로의 귀환", "무사히 귀환한 당신. 백성들은 당신을 새로운 영웅으로 환호한다. 그들의 신뢰에 어떻게 보답하겠는가?",
      opt('🎤 광장에 서서 나의 모험 이야기를 들려주며, 백성들에게 희망과 용기를 불어넣는다.',{linguistic:14,interpersonal:6}),
      opt('🛠️ 가장 피해가 컸던 지역으로 달려가, 백성들과 함께 땀 흘리며 재건 작업을 돕는다.',{bodily:12,interpersonal:8}),
      opt('🎉 모두가 참여하는 성대한 축제를 열어, 백성들의 지친 마음을 위로하고 화합을 도모한다.',{interpersonal:14,musical:6}),
      opt('🏞️ 왕국의 황폐해진 숲과 강을 되살리는 환경 보존 프로젝트를 발표한다.',{naturalist:12,spatial:6})
    ),
    q("이웃 나라와의 분쟁", "평화도 잠시, 이웃 나라가 국경 지역의 영유권을 주장하며 분쟁이 발생했다. 어떻게 이 위기를 해결하겠는가?",
      opt('✉️ 감정적인 비난 대신, 상호 존중의 원칙을 담은 평화 협상 제안서를 보낸다.',{linguistic:14,interpersonal:6}),
      opt('📊 분쟁 지역의 역사적 자료와 지리적 데이터를 철저히 분석하여 협상의 근거를 마련한다.',{logical:14}),
      opt('🤝 직접 이웃 나라의 대표를 만나, 형식적인 회담이 아닌 진솔한 대화로 해법을 모색한다.',{interpersonal:16}),
      opt('🛡️ 국경 지역의 방어 태세를 강화하되, 먼저 공격하지는 않겠다는 원칙을 분명히 한다.',{bodily:12,logical:6})
    ),
    q("새로운 시대의 설계", "이제 당신은 왕국의 미래를 설계할 위치에 섰다. 어떤 왕국을 만들고 싶은가?",
      opt('🏛️ 모든 백성이 자유롭게 배우고 토론할 수 있는 도서관과 아카데미를 세운다.', {linguistic:14, logical:6}),
      opt('🌳 인간과 자연이 조화롭게 공존하는, 지속 가능한 친환경 도시를 건설한다.', {naturalist:14, spatial:6}),
      opt('🎭 예술가들이 마음껏 창작하고, 시민들이 문화를 즐기는 예술의 중심지를 만든다.', {musical:12, interpersonal:8}),
      opt('❤️ 사회적 약자를 보호하고, 모든 구성원이 존중받는 복지 국가의 기틀을 마련한다.', {interpersonal:16, intrapersonal:6})
    ),
    q("진정한 '빛'", "모든 여정을 마친 당신은 깨닫는다. 아버지가 말한 진정한 '빛'이란 무엇이었을까?",
      opt('💡 그것은 한 사람의 영웅이 아닌, 모든 백성의 마음속에 있는 선한 의지였음을.', {interpersonal:16}),
      opt('🌟 그것은 위기 속에서도 길을 찾는 지혜와 통찰력이었음을.', {logical:14, intrapersonal:6}),
      opt('✨ 그것은 다음 세대에게 더 나은 세상을 물려주려는 희망 그 자체였음을.', {linguistic:12, naturalist:6}),
      opt('💖 결국 모든 해답은 내 안의 신념과 용기 속에 있었음을.', {intrapersonal:16, bodily:6})
    ),
    q("왕관의 무게", "왕관을 물려받는 날, 당신의 마음은 어떠한가?",
      opt('👑 "나의 말 한마디가 역사가 될 것이니, 신중하게 소통하겠다."',{linguistic:14, interpersonal:6}),
      opt('⚖️ "공정한 법과 질서를 세워 흔들리지 않는 왕국을 만들겠다."',{logical:14}),
      opt('🧘 "권력에 취하지 않도록, 끊임없이 나 자신을 성찰하겠다."',{intrapersonal:16}),
      opt('🌍 "백성들의 목소리를 직접 듣기 위해, 가장 낮은 곳으로 향하겠다."',{interpersonal:14, bodily:6})
    ),
    q("대관식 연설", "왕위에 오르며 백성들 앞에 선 당신. 어떤 말로 새로운 시대의 시작을 알리겠는가?",
      opt('📜 "여러분과 함께 써 내려갈 위대한 역사의 첫 장을 지금 시작하겠습니다!"',{linguistic:16}),
      opt('🤝 "나는 여러분의 왕이 아닌, 여러분과 함께 걷는 동반자가 되겠습니다!"',{interpersonal:16}),
      opt('🌱 "겨울이 가면 봄이 오듯, 이제 우리 왕국에 새로운 희망의 씨앗을 심겠습니다!"',{naturalist:14}),
      opt('💪 "말로만 하는 정치가 아닌, 행동으로 증명하는 군주가 되겠습니다!"',{bodily:14})
    ),
    q("나의 이야기", "훗날, 당신의 이야기는 어떤 통치자로 역사에 기록되길 바라는가?",
      opt('🧠 "지혜로운 해결사, '현왕(賢王)'"',{logical:14, intrapersonal:6}),
      opt('❤️ "백성의 아버지, '성군(聖君)'"',{interpersonal:16}),
      opt('✍️ "문화의 부흥을 이끈, '문화 군주'"',{linguistic:14, musical:6}),
      opt('🛡️ "왕국을 굳건히 지켜낸, '수호 군주'"',{bodily:14, spatial:6})
    )
  ],

  // Princess Questline (20 Quests)
  princess: [
    q("비밀의 지도", "어릴 적, 할머니께서 '세상을 밝힐 영원의 빛'이 숨겨진 곳이라며 낡은 지도를 주셨다. 이제 그 의미를 찾아 떠날 시간. 지도의 첫 번째 표식은 '고요의 정원'을 가리키고 있다. 어떻게 그곳을 찾아갈까?",
      opt('📜 지도의 고대 상형문자를 해독하여 정확한 위치를 파악한다.',{linguistic:14}),
      opt('🧭 지도의 지형과 실제 산맥의 흐름을 대조하며 길을 찾는다.',{spatial:14}),
      opt('🗣️ '고요의 정원'에 대한 전설을 아는 마을 현자를 찾아가 조언을 구한다.',{interpersonal:12}),
      opt('🌸 지도에 그려진 특별한 꽃을 찾아, 그 꽃이 피는 곳으로 향한다.',{naturalist:12})
    ),
    q("고요의 정원", "정원은 아름답지만, 슬픔에 잠긴 정원사가 길을 막아선다. '정원의 조화가 깨져 노래하는 꽃이 시들었어요.' 꽃을 다시 노래하게 만들 방법은 무엇일까?",
      opt('🎶 꽃들이 좋아했던 오래된 자장가를 불러주어 마음을 달랜다.',{musical:14, interpersonal:6}),
      opt('💧 토양의 성분과 물의 흐름을 분석하여, 시든 원인을 과학적으로 찾아낸다.',{logical:12, naturalist:6}),
      opt('💬 정원사의 슬픈 이야기에 귀 기울이며, 그의 마음을 먼저 위로해준다.',{interpersonal:14}),
      opt('🧘‍ 정원 한가운데서 명상하며, 정원의 기운을 느끼고 조화가 깨진 원인을 직감한다.',{intrapersonal:14, naturalist:4})
    ),
    q("감정의 호수", "다음 장소는 사람의 감정을 비추는 '감정의 호수'. 슬픔에 빠진 사람이 너무 많아 호수가 범람할 위기다. 호수를 진정시키려면?",
      opt('🤝 호숫가에 앉아 사람들의 이야기를 하나씩 들어주며, 그들의 슬픔을 공감해준다.',{interpersonal:16}),
      opt('🎵 모두의 마음을 어루만지는 평화로운 멜로디를 하프로 연주한다.',{musical:14}),
      opt('📖 슬픔을 극복한 영웅들의 이야기를 들려주며, 사람들에게 용기를 북돋운다.',{linguistic:12, interpersonal:6}),
      opt('🤔 나의 슬픔은 무엇인지 먼저 돌아보고, 나 자신을 위로하며 내면의 평화를 찾는다.',{intrapersonal:14})
    ),
    q("별빛의 신전", "호수를 건너 도착한 별빛의 신전. 입구의 크리스탈이 빛을 잃었다. 신전은 '진실한 마음의 소리'에만 반응한다고 한다. 당신의 '소리'는?",
      opt('🎤 신전을 향해 나의 꿈과 소망을 담은 진솔한 노래를 부른다.',{musical:16, intrapersonal:6}),
      opt('📜 크리스탈에 새겨진 고대 시를 낭송하여, 시에 담긴 지혜를 일깨운다.',{linguistic:14, logical:4}),
      opt('💖 함께 온 동료들에 대한 감사와 사랑의 마음을 조용히 전한다.',{interpersonal:14, intrapersonal:4}),
      opt('🙏 아무 말 없이, 신전의 위대함 앞에 겸허한 마음으로 깊이 고개 숙인다.',{intrapersonal:16})
    ),
    q("닫혀버린 문", "신전에 들어서자마자 문이 닫히고 동료들과 갇혔다. 모두가 불안에 떨고 있다. 리더로서 당신의 선택은?",
      opt('🗺️ 신전의 내부 구조를 기억해내고, 벽의 문양을 분석하여 숨겨진 통로를 찾는다.',{spatial:14, logical:6}),
      opt('🤗 동료들을 한 명씩 안아주며, '우리는 함께이기에 괜찮다'고 격려한다.',{interpersonal:16}),
      opt('💡 '이것은 우리를 시험하는 과정일 뿐'이라며, 이 상황의 긍정적인 의미를 찾아 설명한다.',{linguistic:12, intrapersonal:6}),
      opt('🎶 다 함께 노래를 부르며 불안감을 떨쳐내고, 팀의 사기를 끌어올린다.',{musical:14, interpersonal:6})
    ),
    q("메아리 다리", "길고 좁은 다리 너머에서 기이한 메아리가 들려온다. '가장 소중한 것을 버려야 지나갈 수 있다.' 이 수수께끼를 어떻게 풀까?",
      opt('🤔 '가장 소중한 것'이란 물질이 아닌, 나의 '두려움'이나 '욕심'임을 깨닫고 마음을 비운다.',{intrapersonal:16}),
      opt('🗣️ 메아리를 향해 '가장 소중한 것은 우리 모두의 우정이다!'라고 외친다.',{interpersonal:14, linguistic:6}),
      opt('🎵 메아리의 음높이와 똑같은 소리를 내어 공명시킴으로써, 길을 연다.',{musical:14}),
      opt('❓ '왜 소중한 것을 버려야만 하는가?'라며 메아리에게 역으로 질문을 던진다.',{linguistic:12, logical:6})
    ),
    q("왕국 외교 임무", "여정 중, 아버지의 부름을 받는다. 이웃 나라와의 갈등을 해결할 특사로 임명된 당신. 어떤 방법으로 평화를 이끌어낼까?",
      opt('🎨 상대국 왕실에 우리 왕국의 문화를 담은 그림과 음악을 선물로 보내 마음을 연다.',{musical:12, spatial:8}),
      opt('🤝 형식적인 외교 문서 대신, 상대국 대표의 관심사를 파악하여 공감대를 형성한다.',{interpersonal:16}),
      opt('📜 양국의 오랜 역사와 교류의 기록을 제시하며, 갈등보다 우정의 시간이 길었음을 상기시킨다.',{linguistic:14, logical:6}),
      opt('🌱 양국이 함께 참여하는 국경 지역 숲 가꾸기 프로젝트를 제안하여 협력의 장을 연다.',{naturalist:12, interpersonal:6})
    ),
    q("동굴의 붕괴", "외교 임무를 마치고 돌아오는 길, 갑작스런 지진으로 동굴에 갇혔다. 동료 한 명이 바위에 다리가 깔려 고통스러워한다. 어떻게 할까?",
      opt('🎶 아파하는 동료 곁에서 그의 고통을 덜어줄 진정의 노래를 불러준다.',{musical:14, interpersonal:6}),
      opt('🌿 주변의 약초를 찾아 빻아, 동료의 상처를 응급 처치한다.',{naturalist:14, bodily:4}),
      opt('⚖️ 주변의 돌들을 이용해 지렛대의 원리로 바위를 들어 올릴 방법을 찾는다.',{logical:12, bodily:6}),
      opt('💬 '조금만 참아, 내가 꼭 구해줄게.'라며 끊임없이 말을 걸어 동료가 의식을 잃지 않도록 한다.',{interpersonal:14, linguistic:6})
    ),
    q("네 갈래길", "마침내 '영원의 빛'이 잠든 신전 근처, 네 갈래길이 나타났다. 각 길목에는 다른 자연의 소리가 들린다. 어떤 길을 선택할까?",
      opt('🌊 잔잔한 물결 소리가 들리는 길. 마음의 평화를 따르기로 한다.',{intrapersonal:14, musical:4}),
      opt('🐦 희귀한 새의 지저귐이 들리는 길. 생명의 이끌림을 믿어본다.',{naturalist:14}),
      opt('🌬️ 바람 소리가 동굴 속에서 규칙적인 화음을 만들어내는 길. 패턴의 아름다움을 선택한다.',{musical:14, spatial:4}),
      opt('🐾 아무 소리도 들리지 않지만, 작은 동물 발자국이 이어지는 길. 겸손한 생명을 따른다.',{naturalist:12, interpersonal:4})
    ),
    q("마지막 의식", "신전 제단 앞에서 마지막 의식을 치러야 한다. '세상에서 가장 아름다운 것을 바치라'는 목소리가 울려 퍼진다. 무엇을 바칠 것인가?",
      opt('💖 '가장 아름다운 것은 타인을 위하는 마음입니다.'라며 동료들을 위한 기도를 올린다.',{interpersonal:16}),
      opt('🎵 세상의 모든 슬픔을 위로하기 위해 만든 나의 가장 아름다운 노래를 바친다.',{musical:16}),
      opt('✨ '가장 아름다운 것은 보이지 않는 곳에 있습니다.'라며 눈을 감고 명상에 잠긴다.',{intrapersonal:16}),
      opt('🌸 방금 길에서 꺾어온, 이름 모를 들꽃 한 송이를 조심스럽게 올려놓는다.',{naturalist:14})
    ),
    q("영원의 빛", "당신이 선택한 순간, 제단에서 눈부신 빛이 뿜어져 나온다. '영원의 빛'은 물질이 아닌, '깨달음' 그 자체였다. 이 힘을 어디에 가장 먼저 사용하겠는가?",
      opt('🌿 전쟁으로 황폐해진 이웃 나라의 땅에 생명의 기운을 불어넣는다.',{naturalist:16}),
      opt('🎶 사람들의 마음속 증오와 갈등을 치유하는 '조화의 멜로디'를 세상에 퍼뜨린다.',{musical:14, interpersonal:8}),
      opt('💡 빛의 힘을 분석하여 원리를 기록으로 남겨, 후대의 사람들이 지혜롭게 사용하도록 한다.',{logical:14, linguistic:6}),
      opt('🧘‍ 먼저 내 안의 마지막 남은 어두운 감정들을 비추고, 완전한 내면의 평화를 얻는다.',{intrapersonal:16})
    ),
    q("지혜를 구하는 사람들", "왕국에 돌아오자, 수많은 사람들이 당신의 지혜를 구하기 위해 몰려들었다. 그들을 어떻게 대하겠는가?",
      opt('💬 한 사람 한 사람의 이야기를 끝까지 들어주고, 그들 스스로 답을 찾도록 돕는다.',{interpersonal:16}),
      opt('📖 나의 깨달음을 비유와 상징이 가득한 한 편의 시로 만들어 들려준다.',{linguistic:14}),
      opt('🍵 사람들과 함께 찻잎을 따고 차를 마시며, 평범한 일상 속의 지혜를 나누는 시간을 갖는다.',{naturalist:12, interpersonal:6}),
      opt('🤔 '진정한 스승은 여러분 안에 있습니다.'라며, 자기 성찰의 방법을 가르쳐준다.',{intrapersonal:14})
    ),
    q("지혜를 시기하는 자", "당신의 명성을 시기한 한 귀족이, 당신의 지혜는 거짓이라며 공개 토론을 요구했다. 어떻게 대처하겠는가?",
      opt('😊 그의 도전을 미소로 받아들이고, '지혜란 이기고 지는 것이 아님'을 보여준다.',{intrapersonal:16}),
      opt('🤝 토론장에서도 그를 경쟁자가 아닌, 함께 진리를 찾는 동반자로 대하며 존중한다.',{interpersonal:14}),
      opt('🎶 그의 날카로운 질문에 노래로 답하여, 논쟁의 분위기를 화합으로 바꾼다.',{musical:14}),
      opt('📚 그의 주장을 논리적으로 반박하기보다, 더 깊은 차원의 질문을 던져 스스로 깨닫게 한다.',{linguistic:12, logical:8})
    ),
    q("상처받은 이웃 나라", "전쟁으로 모든 것을 잃은 이웃 나라를 돕기로 했다. 무엇을 가장 먼저 보내야 할까?",
      opt('🥣 굶주린 이들을 위한 식량과, 마음을 위로할 악기를 연주할 음악가들.',{interpersonal:12, musical:10}),
      opt('📐 무너진 도시를 더 효율적으로 재건할 수 있는 도시 계획 설계도.',{spatial:14, logical:6}),
      opt('📜 그들의 문화를 존중하며 진심 어린 위로를 담은, 내가 직접 쓴 편지.',{linguistic:12, interpersonal:8}),
      opt('🌱 당장의 구호품도 중요하지만, 다시 작물을 키울 수 있도록 좋은 씨앗과 농사 기술자들.',{naturalist:14})
    ),
    q("후세의 기억", "당신의 이야기가 후세에 어떻게 기억되기를 바라는가?",
      opt('👑 위대한 통치자가 아닌, 따뜻한 마음을 나눈 좋은 친구로 기억되길.',{interpersonal:16}),
      opt('🕊️ 세상의 모든 갈등을 조화롭게 중재한 평화의 상징으로 기억되길.',{intrapersonal:14, linguistic:6}),
      opt('🎵 마음을 치유한 아름다운 예술가이자 음악의 수호자로 기억되길.',{musical:14}),
      opt('🌳 자연을 깊이 사랑하고 모든 생명과 교감한 사람으로 기억되길.',{naturalist:14})
    ),
    q("다투는 아이들", "마을 광장에서 장난감을 두고 다투는 아이들을 보았다. 어떻게 중재하겠는가?",
      opt('💡 장난감을 똑같이 둘로 나누는 방법을 아이들에게 제안한다.',{logical:12}),
      opt('🎭 다툼을 주제로 한 짧은 인형극을 즉석에서 보여주어 스스로 깨닫게 한다.',{linguistic:12, spatial:6}),
      opt('🤝 둘이 함께해야 더 재미있는 새로운 놀이를 제안하여 관심을 돌린다.',{interpersonal:14, bodily:6}),
      opt('🎶 아이들의 마음을 풀어주는 재미있는 노래를 불러, 다툼을 잊게 만든다.',{musical:12})
    ),
    q("새로운 예술", "왕국에 이전과는 전혀 다른, 추상적이고 기이한 형태의 예술이 유행하기 시작했다. 당신의 반응은?",
      opt('🖼️ 예술가들을 궁으로 초대하여, 그들의 작품 세계와 철학에 대해 직접 이야기를 듣는다.',{interpersonal:14, linguistic:8}),
      opt('🤔 이 새로운 예술이 왜 사람들의 마음을 끄는지, 시대적 의미는 무엇인지 조용히 성찰한다.',{intrapersonal:14}),
      opt('🎨 직접 새로운 화풍의 그림을 그려보거나, 추상적인 조각을 만들어본다.',{bodily:12, spatial:8}),
      opt('🏛️ 이 새로운 예술을 위한 전문 미술관을 건립하여, 창작 활동을 적극 지원한다.',{logical:12, interpersonal:6})
    ),
    q("가뭄 끝의 비", "오랜 가뭄이 끝나고 마침내 단비가 내린다. 흙냄새와 빗소리가 온 세상에 가득하다. 이 순간, 당신은 무엇을 하고 싶은가?",
      opt('✍️ 비를 주제로 한 서정적인 시를 지어, 이 순간의 감동을 기록한다.',{linguistic:14}),
      opt('🎻 빗소리를 배경 삼아, 새로운 생명의 탄생을 축복하는 첼로 곡을 연주한다.',{musical:16}),
      opt('💃 왕궁의 정원으로 뛰쳐나가, 맨발로 비를 맞으며 자유롭게 춤을 춘다.',{bodily:14, naturalist:4}),
      opt('🙏 창가에 앉아 조용히 비 내리는 풍경을 보며, 자연의 위대함에 감사하는 명상의 시간을 갖는다.',{intrapersonal:14, naturalist:6})
    ),
    q("가장 큰 깨달음", "모든 여정의 끝에서 당신이 얻은 가장 큰 깨달음은 무엇인가?",
      opt('💬 진정한 힘은 타인의 마음을 얻는 공감의 능력에서 나온다는 것.',{interpersonal:16}),
      opt('💖 세상의 모든 해답은 결국 내 안의 목소리에 귀 기울이는 데 있다는 것.',{intrapersonal:16}),
      opt('🎶 세상의 모든 존재는 저마다의 고유한 노래를 가지고 있다는 것.',{musical:14}),
      opt('🌍 세상 모든 것은 보이지 않는 끈으로 연결된 하나의 생명이라는 것.',{naturalist:14})
    ),
    q("나의 지혜", "마지막으로, 당신의 지혜를 한 문장으로 남긴다면?",
      opt('📜 "서로의 이야기에 귀 기울일 때, 세상은 더 아름다운 음악이 됩니다."',{interpersonal:14, linguistic:8}),
      opt('🧘‍ "가장 깊은 침묵 속에서 가장 위대한 지혜를 발견할 수 있습니다."',{intrapersonal:16}),
      opt('🎵 "세상의 모든 소리는 저마다의 의미를 가진 아름다운 노래입니다."',{musical:14}),
      opt('🌸 "한 송이 들꽃에서 우주를 볼 수 있을 때, 당신은 모든 것을 가진 사람입니다."',{naturalist:14})
    )
  ],

  // Warrior Questline (20 Quests)
  warrior: [
    q("불타는 마을", "평화롭던 산골 마을이 원인 모를 화염에 휩싸였다. 비명과 연기 속에서, 당신은 본능적으로 검을 쥐었다. 무엇을 가장 먼저 해야 하는가?",
      opt('🔥 사람들을 안전한 강가로 신속히 이끌며 대피시킨다.',{bodily:16,interpersonal:8}),
      opt('🚒 불길이 번지는 방향과 속도를 분석하여 효과적인 진압 계획을 세운다.',{logical:12}),
      opt('🏡 무너지는 집에서 미처 빠져나오지 못한 아이를 구하기 위해 뛰어든다.',{bodily:14, intrapersonal: 6}),
      opt('💧 주변의 나무를 베어 방화선을 만들고, 물을 길어 불을 끈다.',{naturalist:12,spatial:6})
    ),
    q("전설의 검", "마을 장로는 '이 재앙을 막으려면, '용의 협곡'에 잠들어 있는 전설의 검이 필요하다'고 말한다. 협곡으로 가는 길은 험난하다. 어떻게 준비할까?",
      opt('🗺️ 협곡의 지도를 입수하여, 가장 빠르고 안전한 경로를 계획한다.',{spatial:14, logical:6}),
      opt('💪 며칠간 체력 훈련에 매진하여, 어떤 장애물도 넘을 수 있는 신체를 준비한다.',{bodily:16}),
      opt('🤝 마을의 젊은이들을 모아 함께 훈련하고, 협동하여 협곡을 돌파할 팀을 만든다.',{interpersonal:14, bodily:6}),
      opt('🧗‍ 암벽 등반이나 급류 타기 등, 협곡에서 마주칠 법한 기술들을 미리 연습한다.',{bodily:14, spatial:4})
    ),
    q("흔들리는 다리", "협곡에 도착하니, 아슬아슬한 밧줄 다리만이 유일한 길이다. 다리는 금방이라도 끊어질 듯 낡았다. 어떻게 건널 것인가?",
      opt('🏃‍ 한순간의 망설임도 없이, 가장 빠른 속도로 단숨에 다리를 건넌다.',{bodily:16}),
      opt('⚖️ 다리의 구조적 약점을 파악하고, 무게 중심을 낮춰 가장 안정적인 자세로 건넌다.',{logical:12, bodily:6}),
      opt('💨 바람의 방향과 주기를 이용하여, 다리가 가장 안정적인 순간을 노려 건넌다.',{naturalist:12, spatial:4}),
      opt('🔗 나의 몸에 밧줄을 묶고 동료들이 반대편에서 잡아주게 하여, 안전을 확보하고 건넌다.',{interpersonal:12, logical:6})
    ),
    q("검이 꽂힌 바위", "마침내 전설의 검이 거대한 바위에 꽂혀있는 것을 발견했다. 검에는 고대 문자가 새겨져 있다. '오직 자격 있는 자만이 나를 들 수 있으리.'",
      opt('💪 모든 힘을 끌어모아, 오직 근력만으로 검을 뽑아내려 시도한다.',{bodily:18}),
      opt('🤔 '자격'이란 힘이 아닐 수도 있다. 잠시 검 앞에서 명상하며, 무엇이 필요한지 성찰한다.',{intrapersonal:14}),
      opt('📜 검에 새겨진 고대 문자를 해독하여, 검을 뽑기 위한 조건을 알아낸다.',{linguistic:12, logical:6}),
      opt(' leverage 주변의 튼튼한 나무와 덩굴을 이용해, 지렛대의 원리로 바위를 부순다.',{spatial:12, logical:6})
    ),
    q("용의 포효", "검을 뽑는 순간, 협곡을 찢는 듯한 용의 포효가 울려 퍼진다. 동굴 깊은 곳에서 거대한 용이 깨어났다. 동료들이 공포에 질려있다. 어떻게 할까?",
      opt('🛡️ 가장 앞장서서 방패를 들고, '내 뒤에 있으면 안전하다!'고 외치며 동료들을 안심시킨다.',{bodily:14, interpersonal:8}),
      opt('🤫 손짓으로 모두를 조용히 시키고, 용의 시야를 피해 숨을 수 있는 가장 가까운 은신처를 찾는다.',{spatial:14, naturalist:4}),
      opt('🔥 '두려워마라, 우리가 바로 이 순간을 위해 왔다!'라며 동료들의 투지를 일깨우는 연설을 한다.',{linguistic:12, interpersonal:8}),
      opt('🐉 '저것은 우리의 적이 아니다. 이 협곡의 수호자일 뿐.'이라며, 전투 없이 상황을 해결할 방법을 모색한다.',{intrapersonal:14, interpersonal:6})
    ),
    q("용과의 대결", "결국 용과의 전투를 피할 수 없게 되었다. 거대한 불길을 뿜는 용의 약점은 어디일까?",
      opt('🎯 용이 불을 뿜는 순간의 빈틈을 노려, 민첩하게 목 아래의 부드러운 비늘을 공격한다.',{bodily:16, spatial:6}),
      opt('🌊 동굴 천장의 종유석을 무너뜨려 용의 움직임을 막고, 협곡의 강물로 유인하여 불을 무력화한다.',{logical:14, spatial:6}),
      opt('🤝 동료들에게 각자의 역할을 분담시킨다. 한 팀이 유인하면, 다른 팀이 약점을 공격하는 협동 전술을 편다.',{interpersonal:14, bodily:6}),
      opt('👁️ 용의 눈을 똑바로 마주한다. 힘으로 제압하는 것이 아니라, 꺾이지 않는 의지로 녀석을 굴복시킨다.',{intrapersonal:16})
    ),
    q("상처 입은 동료", "치열한 전투 끝에 용을 물리쳤지만, 동료 한 명이 깊은 상처를 입었다. 응급처치가 시급하다.",
      opt('🩹 즉시 갑옷을 찢어 지혈대를 만들고, 나의 물을 나누어주며 상처를 처치한다.',{bodily:16, interpersonal:4}),
      opt('🌿 동굴 주변에서 지혈 효과가 있는 약초를 빠르게 찾아내어 상처에 바른다.',{naturalist:14, logical:4}),
      opt('💬 '정신 차려, 여기서 죽게 두지 않아!'라며, 농담을 던지거나 계속 말을 걸어 의식을 유지시킨다.',{interpersonal:14, linguistic:6}),
      opt('担 동료를 업고, 가장 빠르고 안전하게 마을로 돌아갈 길을 찾아낸다.',{spatial:12, bodily:8})
    ),
    q("마을의 영웅", "전설의 검을 들고 돌아온 당신을, 마을 사람들은 영웅으로 맞이한다. 하지만 당신을 시기하는 경쟁자가 나타나 대련을 신청한다. 어떻게 응할까?",
      opt('⚔️ 그의 도전을 정정당당하게 받아들이고, 실력의 차이를 확실히 보여준다.',{bodily:16}),
      opt('🤝 '우리가 싸울 이유는 없다. 그 힘을 합쳐 마을을 지키는 것이 어떤가?'라며 화해의 손을 내민다.',{interpersonal:16}),
      opt('🧠 그의 검술 스타일을 미리 분석하여, 약점을 파고드는 전략적인 승리를 거둔다.',{logical:14}),
      opt('🙏 '나는 누구와도 싸우고 싶지 않다.'라며, 그의 도전을 정중히 거절하고 나의 길을 간다.',{intrapersonal:14})
    ),
    q("왕국의 부름", "당신의 명성은 왕국 전체에 퍼져, 기사단장으로 스카우트된다. 기사단은 기강이 해이해진 상태다. 어떻게 바로잡을 것인가?",
      opt('💪 누구보다 먼저 일어나 가장 늦게 잠들며, 가장 힘든 훈련을 소화하는 것으로 솔선수범한다.',{bodily:14, intrapersonal:6}),
      opt('📖 기사단의 오랜 역사와 명예로운 전투 기록들을 들려주며, 그들의 자부심을 일깨운다.',{linguistic:12, interpersonal:8}),
      opt('🎯 실전과 같은 모의 전투 훈련을 도입하여, 단원들의 전술적 능력을 끌어올린다.',{logical:14, spatial:6}),
      opt('🍻 훈련 후에는 단원들과 함께 식사하며, 그들의 개인적인 고민을 들어주는 리더가 된다.',{interpersonal:16})
    ),
    q("적군의 침공", "이웃 나라의 대규모 군대가 국경을 넘어 침공해왔다. 아군의 수는 적다. 어떤 전략으로 맞서 싸울 것인가?",
      opt('⛰️ 좁은 협곡이나 숲 같은 지형적 이점을 활용하여, 적의 대군을 소규모로 분산시켜 격파한다.',{spatial:14, naturalist:6}),
      opt('🔥 최정예 돌격대를 이끌고 적의 지휘관을 직접 노려, 적군의 지휘 체계를 무너뜨린다.',{bodily:16, logical:6}),
      opt('🗣️ 적군에게 거짓 정보를 흘려 혼란에 빠뜨리고, 함정을 파서 유인한다.',{linguistic:12, logical:8}),
      opt('🛡️ 무리하게 공격하기보다, 견고한 방어선을 구축하고 적이 지쳐 물러날 때까지 버틴다.',{intrapersonal:14, logical:6})
    ),
    q("전쟁 포로", "전투에서 승리했지만, 수많은 적군을 포로로 잡았다. 그들을 어떻게 처리할 것인가?",
      opt('❤️ 그들을 죄인으로 대하지 않고, 부상자를 치료해주며 인도적으로 대우한다.',{interpersonal:16}),
      opt('⚖️ 포로들을 심문하여 적군의 추가적인 정보를 얻어내고, 전후 협상 카드로 활용한다.',{logical:14, linguistic:6}),
      opt('🛠️ 그들에게 무기 대신 농기구를 쥐어주고, 전쟁으로 파괴된 지역을 복구하는 일에 참여시킨다.',{interpersonal:12, bodily:8}),
      opt('🤔 포로 문제를 어떻게 처리하는 것이 장기적으로 왕국에 이익이 될지, 여러 가능성을 따져본다.',{intrapersonal:14, logical:6})
    ),
    q("왕의 의심", "당신의 명성이 왕의 권위를 위협한다고 생각한 일부 신하들이 당신을 모함한다. 왕마저 당신을 의심하기 시작했다. 어떻게 할 것인가?",
      opt('💬 왕을 직접 찾아가, 한 치의 거짓 없이 나의 충성심을 솔직하게 고백한다.',{interpersonal:14, linguistic:6}),
      opt('🗡️ '나의 결백은 오직 검으로 증명하겠다.'라며, 나와 왕이 인정하는 최고의 기사와 결투를 신청한다.',{bodily:16}),
      opt('📜 나를 모함한 신하들의 비리 증거를 은밀하게 수집하여, 진실을 밝혀낸다.',{logical:14}),
      opt('🙏 모든 직위를 내려놓고, 조용히 고향으로 돌아가 때를 기다린다.',{intrapersonal:16})
    ),
    q("진정한 용기", "모든 의심을 풀어낸 당신에게 왕이 묻는다. '그대가 생각하는 진정한 용기란 무엇인가?'",
      opt('💪 '두려움 속에서도 앞으로 나아가는 행동입니다.'',{bodily:16}),
      opt('🤝 '나보다 약한 자를 위해 나 자신을 희생하는 것입니다.'',{interpersonal:16}),
      opt('🧘‍ '나 자신의 부족함을 인정하고, 그것을 극복하려는 의지입니다.'',{intrapersonal:16}),
      opt('🧠 '힘이 아닌, 지혜와 대화로 평화를 지켜내는 것입니다.'',{linguistic:12, logical:6})
    ),
    q("평화의 시대", "평화가 찾아온 후, 당신은 자신의 힘과 기술을 어디에 사용하고 싶은가?",
      opt('🏫 후진을 양성하는 무술 학교를 세워, 나의 모든 경험을 전수한다.',{bodily:14, interpersonal:8}),
      opt('🗺️ 아직 아무도 가보지 않은 미지의 땅을 탐험하며, 왕국의 지도를 완성한다.',{spatial:14, naturalist:6}),
      opt('📖 전쟁의 참상과 평화의 소중함을 담은 회고록을 집필한다.',{linguistic:14}),
      opt('🏋️‍ 스스로의 한계를 넘기 위한 개인적인 수련에 더욱 매진한다.',{intrapersonal:14, bodily:8})
    ),
    q("대장간의 제안", "왕실 대장장이가 당신의 검을 개량해주겠다고 한다. 어떤 기능을 추가하고 싶은가?",
      opt('💨 더 가볍고 빠르게 휘두를 수 있도록, 무게는 줄이고 강도는 높인다.',{bodily:16}),
      opt('⚙️ 정교한 기계 장치를 추가하여, 창이나 방패 등 다양한 형태로 변형되게 한다.',{logical:14, spatial:6}),
      opt('🦁 손잡이에 왕국의 상징인 사자 문양을 아름답게 새겨, 왕국의 자부심을 드러낸다.',{spatial:12, interpersonal:6}),
      opt('🔊 특정 소리에 반응하여 검날이 빛을 발하는 마법적인 기능을 추가한다.',{musical:12})
    ),
    q("아이들의 우상", "당신처럼 되고 싶어하는 아이들에게, 전사에게 가장 중요한 덕목은 무엇이라고 가르치겠는가?",
      opt('❤️ '강한 힘보다, 그 힘을 올바르게 사용하는 따뜻한 마음이란다.'',{interpersonal:16}),
      opt('🏋️‍ '어떤 어려움에도 굴하지 않는, 끊임없이 단련된 강인한 신체지.'',{bodily:16}),
      opt('🧠 '흥분하지 않고, 언제나 냉철하게 상황을 판단하는 이성이란다.'',{logical:14}),
      opt('🙏 '가장 강한 적은 바로 네 안에 있단다. 매일 자기 자신과 싸워 이기는 정신력이지.'',{intrapersonal:14})
    ),
    q("가장 험준한 산", "왕국에서 가장 높고 험준한 산을 오르게 되었다. 정상에 오르기 위해 가장 중요한 것은 무엇일까?",
      opt('🧗 '지치지 않는 체력과, 어떤 암벽이라도 오를 수 있는 등반 기술.'',{bodily:16, spatial:6}),
      opt('🌦️ 변화무쌍한 날씨와 기후를 예측하고, 그에 맞게 대비하는 지식.'',{naturalist:14, logical:6}),
      opt('💪 '반드시 정상에 오르고야 말겠다'는, 자기 자신에 대한 강한 믿음.'',{intrapersonal:16}),
      opt('🔗 '혼자서는 갈 수 없다. 서로의 밧줄이 되어주는 동료들과의 팀워크.'',{interpersonal:14})
    ),
    q("나의 동상", "당신의 업적을 기리는 동상이 세워진다고 한다. 어떤 모습으로 기억되고 싶은가?",
      opt('⚔️ 검을 높이 들고 적을 향해 용맹하게 포효하는 모습.',{bodily:16}),
      opt('😊 전쟁으로 집을 잃은 아이의 머리를 쓰다듬으며 위로하는 모습.',{interpersonal:14}),
      opt('🗺️ 지도를 펼쳐들고, 아직 가보지 않은 먼 곳을 바라보는 모습.',{spatial:14, naturalist:6}),
      opt('🙏 전투가 끝난 후, 쓰러진 동료와 적들을 위해 조용히 기도하는 모습.',{intrapersonal:16})
    ),
    q("진정한 '강함'", "모든 여정을 마친 당신. 마침내 깨달은 진정한 '강함'이란 무엇인가?",
      opt('🛡️ '나보다 약한 존재를 지키기 위해 검을 드는 것.'',{interpersonal:16}),
      opt('🔥 '내 안의 두려움과 마주하고, 그것을 극복해내는 것.'',{intrapersonal:16}),
      opt('⚖️ '압도적인 힘과, 그 힘을 제어할 수 있는 지혜의 균형을 이루는 것.'',{logical:14, intrapersonal:4}),
      opt('💖 '나의 신념을, 나의 삶과 행동으로 직접 증명해 보이는 것.'',{bodily:14, intrapersonal:6})
    ),
    q("검을 내려놓고", "모든 임무를 마친 당신. 이제 전설의 검을 어떻게 할 것인가?",
      opt('🏛️ 왕궁 박물관에 기증하여, 후세 사람들이 평화의 소중함을 배우게 한다.',{linguistic:12, interpersonal:6}),
      opt('🏞️ 원래 있던 용의 협곡, 그 바위에 다시 꽂아두고 자연의 품으로 돌려보낸다.',{naturalist:14, intrapersonal:6}),
      opt('👨‍🏫 나의 뒤를 이을 가장 뛰어난 제자에게 물려준다.',{interpersonal:12, bodily:8}),
      opt('🔥 대장간의 불 속에 던져 녹여버린다. 이제 더 이상 무기가 필요 없는 시대를 열겠다는 다짐과 함께.',{intrapersonal:16})
    )
  ],

  // Wizard Questline (20 Quests)
  wizard: [
    q("고대의 봉인", "스승님의 유품인 '지식의 탑' 입구가 기이한 문양의 봉인으로 막혀있다. 봉인은 미세한 마력으로 진동하고 있다. 이 수수께끼를 어떻게 풀 것인가?",
      opt('📖 봉인에 새겨진 고대 룬 문자의 배열과 문법적 규칙을 분석한다.',{linguistic:14}),
      opt('🧩 문양의 기하학적 패턴과 대칭성을 파악하여 논리적 해법을 찾는다.',{logical:16,spatial:6}),
      opt('✋ 손을 대고 마력의 흐름과 진동을 직접 느끼며 구조의 약점을 찾는다.',{bodily:10,intrapersonal:8}),
      opt('🍄 봉인 주변에만 자라는 특이한 이끼를 단서로, 자연 마법적 해법을 모색한다.',{naturalist:12})
    ),
    q("환영의 방", "첫 번째 방에 들어서자, 당신의 가장 큰 두려움(실패, 고독 등)이 거대한 환영으로 나타나 앞을 가로막는다. 어떻게 이 환영을 극복할까?",
      opt('🤔 환영을 없애려 하지 않고, '이것 또한 나의 일부'임을 인정하고 받아들인다.',{intrapersonal:16}),
      opt('🧠 환영이 마력으로 구성된 허상임을 간파하고, 그 논리적 허점을 찾아내 무력화시킨다.',{logical:14}),
      opt('🗣️ 환영에게 말을 건다. '네가 왜 나타났는지 안다. 하지만 더 이상 너에게 지배당하지 않겠다.'',{linguistic:12, interpersonal:6}),
      opt('💥 강력한 공격 마법을 사용하여, 환영을 정면으로 파괴하고 돌파한다.',{bodily:12})
    ),
    q("소리의 미궁", "다음 방은 수많은 길이 있는 미궁이다. 각 길목에서는 다른 높낮이의 소리가 울려 퍼진다. 올바른 길을 찾는 방법은?",
      opt('🎶 모든 소리들을 듣고, 그 속에서 조화로운 화음을 이루는 하나의 멜로디를 찾아 따라간다.',{musical:16,logical:6}),
      opt('🗺️ 미궁의 전체 구조를 머릿속에 그려보고, 가장 확률 높은 최단 경로를 계산해본다.',{spatial:14}),
      opt('👂 소리의 울림과 잔향을 분석하여, 벽 너머가 막혀있는지 뚫려있는지를 판단한다.',{naturalist:12,spatial:6}),
      opt('🤝 함께 온 동료가 있다면, 그의 의견을 먼저 물어보고 함께 결정한다.',{interpersonal:12})
    ),
    q("살아있는 서고", "거대한 서고에 도착했지만, 책들이 살아 움직이며 멋대로 날아다닌다. '지식의 정수'가 담긴 책을 찾아야 한다. 어떻게 찾을까?",
      opt('📚 날아다니는 책들의 제목과 주제를 분석하여, 내가 찾는 책이 있을 만한 구역을 압축해나간다.',{linguistic:16}),
      opt('⚖️ 책들의 움직임에서 일정한 패턴이나 규칙을 찾아내어, 다음 움직임을 예측한다.',{logical:14}),
      opt('🕸️ 거미줄 마법을 펼쳐, 날아다니는 모든 책을 한번에 붙잡아 확인한다.',{bodily:12, spatial:8}),
      opt('🧘‍ 눈을 감고 집중하여, 서고 전체에서 가장 강한 지식의 기운을 내뿜는 책을 감지한다.',{intrapersonal:14})
    ),
    q("탑의 흔들림", "책을 손에 넣는 순간, 지식의 균형이 깨지며 탑 전체가 격렬하게 흔들리기 시작했다. 탑이 무너지기 전에 탈출해야 한다!",
      opt('📉 붕괴가 가장 느리게 진행될 것 같은, 구조적으로 안정적인 경로를 즉시 계산하여 대피한다.',{logical:14,spatial:8}),
      opt('🛡️ 함께 온 동료가 있다면, 그에게 마법 보호막을 걸어주고 안전하게 탈출시킨다.',{interpersonal:14,intrapersonal:6}),
      opt('🕊️ 비행 마법이나 감속 마법을 사용하여, 창문을 통해 안전하게 착지한다.',{bodily:12, spatial:6}),
      opt('🍄 흔들림 속에서도, 탑의 벽 틈새에서 자라는 희귀한 버섯을 발견하고 채집하는 것을 잊지 않는다.',{naturalist:12})
    ),
    q("고대의 주문서", "탈출 후, 손에 넣은 책을 펼치자 절반 이상이 모르는 고대 언어로 쓰여있다. 어떻게 해독할 것인가?",
      opt('💡 아는 단어와 모르는 단어의 관계, 문장의 구조를 통해 전체 의미를 퍼즐처럼 유추해나간다.',{linguistic:16}),
      opt('🔢 각 기호의 등장 빈도를 통계적으로 분석하여, 알파벳과 대응시키는 암호 해독법을 사용한다.',{logical:14}),
      opt('🎨 문자와 함께 그려진 삽화와 도표를 통해, 글의 내용을 시각적으로 이해한다.',{spatial:14}),
      opt('🤔 '이 글을 쓴 고대의 마법사는 어떤 마음이었을까?'라며 저자의 입장에서 글을 읽어본다.',{intrapersonal:12, interpersonal:6})
    ),
    q("이상한 실험장비", "주문서의 지시에 따라 도착한 지하 실험실. 하지만 스승님이 남긴 실험 장비가 마력을 제어하지 못하고 폭주하고 있다. 어떻게 안정시킬까?",
      opt('🔬 장치의 구조를 빠르게 분석하여, 에너지 흐름을 차단할 수 있는 제어 장치를 찾는다.',{logical:14,spatial:6}),
      opt('🕹️ 위험하지만, 직접 장치에 다가가 물리적인 힘으로 과열된 부품을 제거한다.',{bodily:12}),
      opt('🌿 주변의 식물과 광석을 조합하여, 폭주하는 마력을 중화시키는 촉매제를 만든다.',{naturalist:12}),
      opt('📖 스승님이 남긴 다른 연구 노트를 빠르게 훑어, 이 장비의 비상 정지 절차를 찾아낸다.',{linguistic:12})
    ),
    q("별의 관측", "장치를 안정시키자, 천장이 열리며 밤하늘이 드러났다. '세 개의 별이 일직선이 되는 순간, 길이 열린다.'는 구절이 떠오른다. 어떻게 그 순간을 포착할까?",
      opt('🔭 천체 망원경을 조작하여, 별들의 이동 속도와 궤도를 정확히 계산해낸다.',{logical:14,spatial:8}),
      opt('✨ 별들의 움직임이 만들어내는 밤하늘의 거대한 선율, 그 조화 속에서 답을 찾는다.',{musical:12}),
      opt('🤝 동료들과 함께 각자 다른 구역의 하늘을 관측하여, 더 효율적으로 별을 찾는다.',{interpersonal:12}),
      opt('🙏 조용히 밤하늘을 바라보며, 별들이 스스로 길을 보여줄 때까지 기다린다.',{intrapersonal:14})
    ),
    q("마을의 전염병", "탑에서의 연구를 마치고 내려온 마을. 하지만 원인 모를 전염병이 퍼져 사람들이 고통받고 있다. 당신의 지식으로 어떻게 그들을 도울까?",
      opt('🦠 환자들의 증상과 발병 지역의 환경적 특성을 종합하여, 병의 원인을 논리적으로 규명한다.',{logical:14,naturalist:8}),
      opt('❤️ 마법으로 치료제를 만들기보다, 먼저 아픈 사람들의 손을 잡아주며 그들의 고통을 위로한다.',{interpersonal:16}),
      opt('📜 고대 의학 서적들을 밤새워 연구하여, 이 병에 대한 치료법을 찾아낸다.',{linguistic:12,logical:8}),
      opt('🌱 마을 주변의 모든 약초를 조사하고 조합하여, 가장 효과적인 치료제를 만들어낸다.',{naturalist:14})
    ),
    q("지식의 끝", "치료제를 만들어 마을을 구한 당신. 하지만 세상에는 아직 모르는 것이 너무나 많다는 사실에 압도당한다. 이 순간, 당신의 감정은?",
      opt('😊 '배움에는 끝이 없구나!' 앞으로의 탐구가 더욱 기대되며 즐거워진다.',{intrapersonal:16}),
      opt('📚 지금까지 배운 모든 지식을 체계적으로 정리하고, 앞으로의 연구 계획을 세운다.',{logical:14}),
      opt('💬 나의 지식은 혼자만의 것이 아니다. 다른 학자들과 교류하며 함께 성장하고 싶다.',{interpersonal:14, linguistic:6}),
      opt('🌳 잠시 연구를 멈추고, 자연 속을 거닐며 머리를 식히고 새로운 영감을 얻는다.',{naturalist:12})
    ),
    q("마법의 폭주", "새로운 마법을 실험하던 중, 당신의 마법이 의도치 않게 폭주하여 주변 숲의 일부를 파괴했다. 어떻게 책임지겠는가?",
      opt('🌱 파괴된 숲이 원래의 모습으로 돌아올 때까지, 매일 씨앗을 심고 마법으로 성장을 돕는다.',{naturalist:14, bodily:6}),
      opt('📊 이번 실수의 원인을 철저히 분석하고, '마법 사용 안전 수칙'을 집필하여 모두와 공유한다.',{logical:14, linguistic:6}),
      opt('🙏 숲의 정령들에게 진심으로 사과하고, 그들의 용서를 구하는 의식을 치른다.',{interpersonal:12, intrapersonal:6}),
      opt('🤔 왜 내가 마법을 제어하지 못했는지, 나의 마음속 불안이나 욕심은 없었는지 깊이 성찰한다.',{intrapersonal:16})
    ),
    q("새로운 창조", "이제 당신은 세상에 없는 새로운 마법을 창조할 수 있다. 어떤 마법을 만들고 싶은가?",
      opt('🎶 듣는 사람의 마음을 평화롭게 하고, 슬픔을 치유하는 '음악 마법'.',{musical:14, interpersonal:8}),
      opt('🎨 상상하는 모든 것을 현실에 그려내는 '공간 창조 마법'.',{spatial:16}),
      opt('🔍 세상의 모든 거짓을 간파해내는 '진실 탐지 마법'.',{logical:16, linguistic:6}),
      opt('🦋 모든 동물, 식물과 대화할 수 있는 '자연 교감 마법'.',{naturalist:14, interpersonal:6})
    ),
    q("마법학교 교장", "당신의 지혜를 높이 산 왕이, 당신에게 새로운 마법학교의 교장이 되어달라고 부탁한다. 당신의 교육 철학은 무엇인가?",
      opt('💬 학생들이 자유롭게 질문하고 토론하며, 서로에게서 배우는 학교를 만들겠다.',{interpersonal:14, linguistic:8}),
      opt('⚖️ 마법의 원리를 체계적으로 이해시키는, 엄격하고 논리적인 교육 과정을 만들겠다.',{logical:16}),
      opt('💖 '가장 위대한 마법은 자기 자신을 이해하는 것'임을 가르치겠다.',{intrapersonal:16}),
      opt('✋ 이론보다 실전! 학생들이 직접 마법을 체험하고 몸으로 익히는 교육을 하겠다.',{bodily:12})
    ),
    q("가장 어려운 질문", "어느 날 한 제자가 묻는다. '스승님, 지식의 끝은 어디인가요?' 당신의 대답은?",
      opt('📖 '지식에는 끝이 없단다. 그래서 삶이 즐거운 것이지. 중요한 것은 질문을 멈추지 않는 것!'',{intrapersonal:14, linguistic:8}),
      opt('🔗 '모든 지식이 결국 하나로 연결되는 지점이 있단다. 우리는 그것을 '진리'라고 부르지.'',{logical:16}),
      opt('🤝 '지식은 다른 사람과 나눌 때 비로소 '지혜'가 된단다. 그 나눔의 끝은 없지.'',{interpersonal:14}),
      opt('🌍 '저기 저 작은 풀 한 포기의 비밀을 온전히 이해한다면, 그것이 곧 지식의 끝일 게다.'',{naturalist:14})
    ),
    q("라이벌의 등장", "당신의 지식을 뛰어넘으려는, 재능 있는 젊은 라이벌 마법사가 나타나 사사건건 당신에게 도전한다. 어떻게 대응하겠는가?",
      opt('🔥 그의 도전을 받아들이고, 모두가 보는 앞에서 압도적인 실력 차이를 보여준다.',{bodily:12, logical:8}),
      opt('📄 그의 마법 이론을 분석하여, 논리적인 허점과 오류를 조목조목 지적해준다.',{logical:16}),
      opt('☕ 그를 나의 연구실로 초대하여, 경쟁이 아닌 함께 세상을 발전시킬 연구를 제안한다.',{interpersonal:14}),
      opt('😌 그의 도전에 일절 대응하지 않고, 내 연구에 더욱 깊이 몰두한다.',{intrapersonal:16})
    ),
    q("고대의 유물", "왕실 박물관의 고대 유물이 파손되었다. 시공간을 다루는 위험한 유물이다. 어떻게 복원할 것인가?",
      opt('📜 유물에 새겨진 고대어를 완벽하게 해독하여, 원래의 기능을 파악한다.',{linguistic:16}),
      opt('🧩 흩어진 수백 개의 파편들을, 3차원 퍼즐을 맞추듯 원래의 형태로 완벽하게 재구성한다.',{spatial:14, bodily:6}),
      opt('⚙️ 유물의 동력원과 에너지 흐름을 분석하여, 논리적으로 완벽하게 재작동시킨다.',{logical:16}),
      opt('🙏 유물을 만든 고대 마법사의 마음을 상상하며, 깊은 존경심을 담아 복원 작업에 임한다.',{intrapersonal:14, interpersonal:6})
    ),
    q("가장 위대한 마법", "어린 지망생이 묻는다. '마법사님, 세상에서 가장 위대한 마법은 무엇인가요?'",
      opt('💬 '타인의 마음을 움직이는 '공감'이란다. 어떤 공격 마법보다 강하지.'',{interpersonal:16}),
      opt('🧠 '세상의 법칙을 이해하고 예측하는 '통찰'이란다. 미래를 볼 수 있게 하지.'',{logical:14}),
      opt('💖 '나 자신을 사랑하고 믿는 '자기 확신'이란다. 모든 마법의 근원이 되지.'',{intrapersonal:16}),
      opt('🌱 '죽은 땅에서 새싹을 틔우는 '생명'의 마법이란다. 신의 영역에 가장 가깝지.'',{naturalist:14})
    ),
    q("마법으로 그린 그림", "오랜 연구 끝에, 마력으로 허공에 그림을 그리는 법을 터득했다. 당신의 첫 작품은 무엇인가?",
      opt('✨ 반짝이는 별들의 움직임을 담은, 살아 움직이는 밤하늘의 천체도.',{spatial:14, logical:8}),
      opt('🎶 아름다운 음악을 들었을 때 내 마음속에 그려지는 심상의 풍경화.',{musical:14, intrapersonal:6}),
      opt('😊 지금까지 나의 여정을 함께해 준 소중한 동료들의 행복한 모습.',{interpersonal:14}),
      opt('📖 세상의 모든 지식이 담긴, 거대한 생명수 나무의 모습.',{linguistic:12, naturalist:6})
    ),
    q("마지막 연구", "이제 세상의 모든 지식을 거의 섭렵했다. 마지막으로, 당신의 일생을 바쳐 도전하고 싶은 연구 분야는?",
      opt('🗣️ 세상의 모든 언어를 하나로 통합하는, 새로운 '소통의 언어' 창조.',{linguistic:16}),
      opt('⏳ 시간의 흐름을 거스르거나 멈추는, '시간 마법'의 근본 법칙 탐구.',{logical:16}),
      opt('🌌 이 세상 너머, 다른 차원의 존재와 교신하는 '차원 마법' 연구.',{spatial:14, intrapersonal:6}),
      opt('❤️ 마법으로도 만들어낼 수 없는, 인간의 '감정'에 대한 근본적인 탐구.',{interpersonal:14, intrapersonal:6})
    ),
    q("탑을 떠나며", "모든 지식을 후세에 전수한 당신. 이제 지식의 탑을 떠나려 한다. 마지막으로 탑에 남기고 싶은 메시지는?",
      opt('✍️ '지식은 가두어 두면 썩는다. 끊임없이 나누고 질문하라.'',{linguistic:14, interpersonal:8}),
      opt('⚖️ '위대한 힘에는 위대한 책임이 따른다. 그 힘을 현명하게 사용하라.'',{intrapersonal:16}),
      opt('🌍 '책 속에만 머물지 마라. 진정한 지혜는 세상과 자연 속에 있다.'',{naturalist:14}),
      opt('➕ '정답은 하나가 아닐 수 있다. 언제나 새로운 가능성을 탐구하라.'',{logical:14})
    )
  ]
};

/* ====== 초기화 및 상태 ======*/
const baseScores = {linguistic:50,logical:50,spatial:50,bodily:50,musical:50,interpersonal:50,intrapersonal:50,naturalist:50};
let scores = {};
let player = {name:'',clazz:'',charId:'',questIndex:0};

const el = id => document.getElementById(id);

// ✨ 버튼 활성화 로직을 위한 요소 미리 선택
const nameInput = el('input-name');
const classInput = el('input-class');
const startButton = el('btn-start');

function resetGame(){
    scores = JSON.parse(JSON.stringify(baseScores));
    player={name:'',clazz:'',charId:'',questIndex:0};
    document.querySelectorAll('.char').forEach(c => c.classList.remove('selected'));
    el('game-area').style.display = 'none';
    el('result-area').style.display = 'none';
    el('pre-game').style.display = 'block';
    el('stats-panel').style.display = 'none';
    nameInput.value = '';
    classInput.value = '';
    checkFormState(); // ✨ 초기화 시 버튼 상태도 체크
}

// ✨ 버튼 활성화/비활성화를 체크하는 함수
function checkFormState() {
    const name = nameInput.value.trim();
    const clazz = classInput.value.trim();
    if (name && clazz && player.charId) {
        startButton.disabled = false;
    } else {
        startButton.disabled = true;
    }
}

/* ✨ 입력 필드에 이벤트 리스너 추가 */
nameInput.addEventListener('input', checkFormState);
classInput.addEventListener('input', checkFormState);

/* 캐릭터 선택 */
document.querySelectorAll('.char').forEach(node=>{
    node.addEventListener('click', () => {
        document.querySelectorAll('.char').forEach(c=>c.classList.remove('selected'));
        node.classList.add('selected');
        player.charId = node.dataset.id;
        checkFormState(); // ✨ 캐릭터 선택 시에도 버튼 상태 체크
    });
});

/* 시작 버튼 */
el('btn-start').addEventListener('click', () => {
  // 이제 버튼이 활성화된 상태에서만 클릭되므로, 기존의 복잡한 유효성 검사 alert가 필요 없습니다.
  player.name = nameInput.value.trim();
  player.clazz = classInput.value.trim();
  player.questIndex = 0;
  scores = JSON.parse(JSON.stringify(baseScores));
  
  el('pre-game').style.display = 'none';
  el('game-area').style.display = 'block';
  el('stats-panel').style.display = 'block';
  renderQuest();
});

el('btn-restart').addEventListener('click', resetGame);

/* 렌더링 및 진행 */
function typeWriter(element, text, callback) {
    let i = 0;
    element.innerHTML = '';
    function typing() {
        if (i < text.length) {
            element.innerHTML += text.charAt(i);
            i++;
            setTimeout(typing, 30);
        } else if (callback) {
            callback();
        }
    }
    typing();
}

function renderQuest(){
    const list = quests[player.charId];
    if(!list || player.questIndex >= list.length){
        showResult();
        return;
    }

    const q = list[player.questIndex];
    const optRoot = el('options');
    optRoot.innerHTML = '';
    
    el('quest-title').textContent = `📜 Chapter ${player.questIndex + 1}: ${q.title}`;
    
    typeWriter(el('quest-text'), q.text, () => {
        q.options.forEach((o,i) => {
            const div = document.createElement('div');
            div.className = 'option';
            div.innerHTML = `<div class="label">${o.t}</div>`;
            div.onclick = () => {
                sounds.turn.currentTime = 0;
                sounds.turn.play();
                optRoot.style.pointerEvents = 'none';
                div.style.backgroundColor = 'rgba(112, 83, 48, 0.4)';
                applyEffects(o.e);
                player.questIndex++;
                setTimeout(() => {
                    renderQuest();
                    optRoot.style.pointerEvents = 'auto';
                }, 500);
            };
            optRoot.appendChild(div);
        });
    });
    renderStats();
}

function applyEffects(e){
    Object.keys(e).forEach(k => {
        if(scores[k] !== undefined) scores[k] += e[k];
    });
}

function renderStats(){
    const root = el('stats');
    root.innerHTML = '';
    const mapNames = {linguistic:'언어',logical:'논리',spatial:'공간',bodily:'신체',musical:'음악',interpersonal:'인간관계',intrapersonal:'자기성찰',naturalist:'자연친화'};
    Object.keys(scores).forEach(k => {
        const score = Math.min(100, Math.max(0, scores[k]));
        const box = document.createElement('div');
        box.className = 'stat';
        box.innerHTML = `
            <div style="font-weight:bold;color:var(--gold)">${mapNames[k]}</div>
            <div class="bar"><div class="bar-inner" style="width:${score}%"></div></div>
        `;
        root.appendChild(box);
    });
}

function showResult(){
    el('game-area').style.display = 'none';
    el('stats-panel').style.display = 'none';
    el('result-area').style.display = 'block';

    const entries = Object.entries(scores).sort((a,b)=>b[1]-a[1]);
    const top1 = entries[0][0];
    const top2 = entries[1][0];
    const mapNames = {linguistic:'언어 지능',logical:'논리-수학 지능',spatial:'공간 지능',bodily:'신체-운동 지능',musical:'음악 지능',interpersonal:'대인관계 지능',intrapersonal:'자기이해 지능',naturalist:'자연친화 지능'};
    
    const resultHTML = `
        <h3>📜 모험의 결과</h3>
        <p><strong>${player.name}</strong>(${player.clazz}) 모험가님, 기나긴 여정이 끝났습니다.</p>
        <p>당신의 선택은 다음과 같은 위대한 지능을 드러냈습니다.</p>
        <h4 style="color: var(--gold);">🥇 1순위: ${mapNames[top1]}</h4>
        <h4 style="color: #a4824a;">🥈 2순위: ${mapNames[top2]}</h4>
        <p style="margin-top: 20px;">이 지능들은 당신의 특별한 재능입니다. 앞으로의 진정한 모험은 이제부터 시작입니다!</p>
    `;
    el('result-content').innerHTML = resultHTML;
}

resetGame();

</script>
</body>
</html>
