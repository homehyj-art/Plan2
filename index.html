<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>📜 다중지능 탐험: 고대의 부름</title>
<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' https://cdn.pixabay.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; media-src https://cdn.pixabay.com;">
<link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Cinzel:wght@700&display=swap" rel="stylesheet">
<style>
:root{ --brown-text: #4a3a2a; --gold: #c89a4b; }
*{box-sizing:border-box}

body{
    margin:0;
    font-family: 'Gowun Dodum', serif;
    background: url('https://cdn.pixabay.com/photo/2020/02/05/17/23/ancient-4821613_1280.jpg') no-repeat center center/cover;
    background-color: rgba(0, 0, 0, 0.65); /* 이미지 위에 어둡게 오버레이 */
    background-blend-mode: multiply; /* 블렌드 모드 추가 */
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
}

.wrap{ width:100%; max-width:1200px; }

.header{
    text-align: center;
    margin-bottom: 20px;
    animation: fadeInDown 1s ease-out;
}
.title{
    font-family: 'Cinzel', serif;
    font-size: 3rem;
    color: var(--gold);
    text-shadow: 2px 2px 8px rgba(0,0,0,0.8);
}
.subtitle{ font-family: 'Gowun Dodum'; opacity:0.9; font-size: 1.2rem; color: #f0f0f0; }

.layout{ display:flex; gap:20px; }
.left, .right{ transition: all 0.5s ease-out; }

.left{
    width:360px;
    animation: fadeInLeft 1s ease-out;
    position: relative;
    z-index: 10;
}
.right{
    flex:1;
    animation: fadeInRight 1s ease-out;
    position: relative;
    z-index: 5;
}


.card{
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(8px);
    border-radius:16px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    border: 1px solid rgba(255,215,102,0.15);
}

.char-row{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
.char{
    padding:10px;
    border-radius:10px;
    background:rgba(0,0,0,0.3);
    text-align:center;
    cursor:pointer;
    border: 2px solid transparent;
    transition: all 0.3s ease;
}
.char:hover{ transform:translateY(-5px); background:rgba(0,0,0,0.5); border-color: var(--gold); }
.char .emoji{ font-size:44px; filter: drop-shadow(0 0 5px rgba(0,0,0,0.5)); }
.char .name{ color:var(--gold); font-weight:bold; }
.char.selected{
    background:rgba(200,154,75,0.3);
    border-color: var(--gold);
    transform: translateY(-5px) scale(1.05);
    box-shadow: 0 0 15px rgba(200, 154, 75, 0.5);
}

label{ display:block; color:var(--gold); font-weight:700; margin-bottom:6px; }
input[type=text]{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:1px solid rgba(255,215,102,0.2);
    background:rgba(0,0,0,0.3);
    color:#fff;
    margin-bottom:10px;
    font-family: 'Gowun Dodum', serif;
}
.btn{
    display:inline-flex;
    gap:8px;
    align-items:center;
    justify-content:center;
    padding:12px 16px;
    border-radius:10px;
    border:none;
    cursor:pointer;
    background:linear-gradient(145deg, #b38645, #835e2c);
    color:#fff;
    font-weight:bold;
    box-shadow: 0 5px 15px rgba(0,0,0,0.4);
    width: 100%;
    font-family: 'Gowun Dodum', serif;
    font-size: 1rem;
    transition: all 0.2s ease;
}
.btn:hover {
    transform: scale(1.02);
}
.btn:disabled {
    background: #555;
    cursor: not-allowed;
    opacity: 0.6;
    transform: scale(1);
    box-shadow: none;
}

#game-card {
    background: linear-gradient(150deg, #f5eadd 0%, #e8d9c2 100%);
    box-shadow: inset 0 0 20px rgba(0,0,0,0.2);
    color: var(--brown-text);
    padding: 50px 60px;
    min-height: 550px;
    position: relative;
    border-radius: 8px;
}
.quest-header { text-align: center; margin-bottom: 20px; }
.quest-header h3 { font-family: 'Cinzel', serif; color: #6a4a2a; margin: 0; font-size: 1.5rem;}
.quest-text { font-size:1.2rem; line-height:1.8; min-height: 100px; }
.options{ display:grid; grid-template-columns:1fr; gap:12px; margin-top:20px; }
.option{
    padding:12px;
    border-radius:10px;
    background:rgba(189, 168, 133, 0.3);
    cursor:pointer;
    border:1px solid rgba(112, 83, 48, 0.3);
    transition: all .2s ease;
}
.option:hover{ transform: scale(1.03); background:rgba(189, 168, 133, 0.5); border-color: var(--brown-text); }
.option .label{ font-weight:bold; }

.stats-grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:8px; margin-top:12px; color: #fff;}
.stat{ background:rgba(0,0,0,0.3); padding:8px; border-radius:8px; text-align:center; }
.bar{ height:10px; background:rgba(255,255,255,0.1); border-radius:6px; margin-top:8px; overflow:hidden; }
.bar-inner{ height:100%; background:linear-gradient(90deg,var(--gold),#e6b873); width:0%; transition:width .6s; }

.result-content { color: var(--brown-text); text-align: center; }
.result-content h3 { font-family: 'Cinzel', serif; color: #6a4a2a; }

@keyframes fadeInDown { 0% { opacity:0; transform: translateY(-30px); } 100% { opacity:1; transform: translateY(0); } }
@keyframes fadeInLeft { 0% { opacity:0; transform: translateX(-50px); } 100% { opacity:1; transform: translateX(0); } }
@keyframes fadeInRight { 0% { opacity:0; transform: translateX(50px); } 100% { opacity:1; transform: translateX(0); } }

@media(max-width:900px){ .layout{flex-direction:column} .left{width:100%} }
</style>
</head>
<body>

<audio id="bgm" src="https://cdn.pixabay.com/audio/2022/08/04/audio_2dde649a33.mp3" loop></audio>
<audio id="sfx-turn" src="https://cdn.pixabay.com/audio/2022/03/15/audio_731c045b61.mp3"></audio>

<div class="wrap">
  <div class="header">
    <div class="title">Ancient Calling</div>
    <div class="subtitle">나의 다중지능을 찾아 떠나는 모험</div>
  </div>

  <div class="layout">
    <div class="left">
      <div class="card">
        <label>모험가 이름</label>
        <input id="input-name" type="text" placeholder="예: 김민준" />
        <label>소속 (반)</label>
        <input id="input-class" type="text" placeholder="예: 1학년 3반" />
        <label>여정을 함께할 동료</label>
        <div id="char-row" class="char-row">
          <div class="char" data-id="prince"><div class="emoji">🤴</div><div class="name">용감한 왕자</div></div>
          <div class="char" data-id="princess"><div class="emoji">👸</div><div class="name">지혜로운 공주</div></div>
          <div class="char" data-id="warrior"><div class="emoji">⚔️</div><div class="name">강인한 전사</div></div>
          <div class="char" data-id="wizard"><div class="emoji">🔮</div><div class="name">신비한 마법사</div></div>
        </div>
        <div style="margin-top:20px;">
          <button id="btn-start" class="btn" disabled>▶ 모험 시작하기</button>
        </div>
      </div>

      <div id="stats-panel" class="card" style="margin-top:12px; display:none;">
         <div id="stats" class="stats-grid"></div>
      </div>
    </div>

    <div class="right">
      <div id="game-card" class="card">
        <div id="pre-game">
          <div style="text-align:center; padding-top: 80px;">
            <h3 style="font-family:'Cinzel', serif; color: var(--brown-text);">📜 모험의 서막</h3>
            <p style="font-size: 1.1rem; line-height: 1.8;">이름과 소속을 적고, 여정을 함께할 동료를 선택하세요.<br>당신의 선택이 모여 미래의 길을 밝혀줄 것입니다.<br>이제, 고대의 부름에 응답할 시간입니다.</p>
          </div>
        </div>

        <div id="game-area" style="display:none">
          <div class="quest-header">
            <h3 id="quest-title"></h3>
          </div>
          <div id="quest-text" class="quest-text"></div>
          <div id="options" class="options"></div>
        </div>
        
        <div id="result-area" style="display:none; padding-top: 50px;">
          <div class="result-content" id="result-content"></div>
          <button id="btn-restart" class="btn" style="max-width:300px; margin: 20px auto 0;">🔄 새로운 모험 시작하기</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// DOM 요소 가져오기
const el = id => document.getElementById(id);

// 게임 변수
let player = {
    name: '',
    class: '',
    companion: null
};
let scores = {
    linguistic: 0,
    logical: 0,
    spatial: 0,
    bodily: 0,
    musical: 0,
    interpersonal: 0,
    intrapersonal: 0,
    naturalist: 0
};
let currentQuestIndex = 0;
let questLine = null;

// 지능 이름 매핑 (코드 전체에서 한 번만 정의)
const mapNames = {
    linguistic: '언어 지능',
    logical: '논리-수학 지능',
    spatial: '공간 지능',
    bodily: '신체-운동 지능',
    musical: '음악 지능',
    interpersonal: '대인관계 지능',
    intrapersonal: '자기이해 지능',
    naturalist: '자연친화 지능'
};
const mapNamesForStats = {
    linguistic: '언어',
    logical: '논리',
    spatial: '공간',
    bodily: '신체',
    musical: '음악',
    interpersonal: '대인관계',
    intrapersonal: '자기이해',
    naturalist: '자연'
};

// 사운드 객체
const sounds = {
    bgm: document.getElementById('bgm'),
    turn: document.getElementById('sfx-turn'),
};
sounds.bgm.volume = 0.2; // BGM 볼륨 조절

document.body.addEventListener('click', () => {
    if (sounds.bgm.paused) {
        sounds.bgm.play().catch(e => console.log("BGM 자동재생이 차단되었습니다."));
    }
}, { once: true });


/* ====== 퀘스트 데이터 (전체 80개) ====== */
function q(title, text, a, b, c, d){ return { title, text, options:[a,b,c,d] }; }
function opt(text, effects){ return {t:text, e:effects}; }

const quests = {
  // Prince Questline (20 Quests)
  prince: [
    q("왕의 서신", "먼지 쌓인 서고에서 아버지의 흔적이 담긴 낡은 편지를 발견했다. '진정한 왕의 자격은 왕관이 아닌, 백성을 비추는 빛에 있나니. 그 빛을 따라가거라.' 이 수수께끼 같은 유언의 실마리는 어디서부터 찾아야 할까?",
      opt('📜 편지에 쓰인 단어들의 상징적 의미를 파고들어 분석한다.',{linguistic:14}),
      opt('🗺️ 편지에 남은 희미한 지도의 흔적을 따라 직접 현장으로 향한다.',{bodily:12,spatial:6}),
      opt('👥 편지를 마지막으로 만졌을 법한 왕궁의 오랜 신하를 찾아가 대화한다.',{interpersonal:12,logical:6}),
      opt('🌿 편지지에서 희미하게 나는 풀 향기를 단서로, 특정 지역의 식생를 조사한다.',{naturalist:8,spatial:6})
    ),
    q("시장의 현자", "시장에 도착하자, 한 노인이 당신을 알아보고 다가와 속삭였다. '왕께서 찾던 빛은 북쪽 숲의 심장, 가장 오래된 고목에서 나온다네.' 그의 말을 어떻게 받아들여야 할까?",
      opt('💬 노인의 이야기에 진심으로 감사하며, 숲에 대한 다른 전설은 없는지 묻는다.',{interpersonal:12,linguistic:6}),
      opt('🧭 즉시 숲으로 달려가기보다, 먼저 도서관에서 북쪽 숲에 대한 자료를 찾아본다.',{logical:12,linguistic:6}),
      opt('🤝 탐험대를 꾸려 함께 숲으로 떠난다. 여러 눈으로 보는 것이 더 정확할 것이다.',{interpersonal:12,bodily:6}),
      opt('🌲 그의 말이 사실인지 확인하기 위해, 즉시 혼자서 숲의 고목을 찾아 나선다.',{bodily:12,naturalist:6})
    ),
    q("별자리石", "숲길을 걷다, 이끼 낀 바위 위에 고대의 별자리와 닮은 문양이 새겨진 돌을 발견했다. 이 돌은 무엇을 의미할까?",
      opt('✍️ 문양을 양피지에 똑같이 베껴 그리고, 각 상징의 의미를 추론해본다.',{linguistic:12,spatial:4}),
      opt('⭐ 밤하늘의 실제 별자리와 돌의 문양을 대조하여 방향을 찾는다.',{spatial:14,naturalist:4}),
      opt('🪨 돌 주변의 흙과 식물을 관찰하여, 이 돌이 언제부터 이곳에 있었는지 추정한다.',{naturalist:12,logical:4}),
      opt('🤔 잠시 명상에 잠겨, 이 문양이 나에게 어떤 영감을 주는지 내면의 소리에 귀 기울인다.',{intrapersonal:12})
    ),
    q("숲의 울림", "밤이 되자 숲 속에서 규칙적인 북소리 같은 울림이 들려온다. 불안해하는 동료들 사이에서, 당신은 어떻게 행동할까?",
      opt('🎶 울림의 박자와 리듬을 분석하여, 그것이 인공적인 신호인지 자연적인 소리인지 판단한다.',{musical:14,logical:4}),
      opt('🏕️ 즉시 안전한 야영지를 구축하고, 교대로 불침번을 서며 동료들을 안심시킨다.',{bodily:12,interpersonal:8}),
      opt('🤫 소리의 근원지를 향해 조심스럽게 다가가, 정체가 무엇인지 직접 확인한다.',{bodily:12,spatial:4}),
      opt('🤝 동료들을 모아 각자의 의견을 듣고, 다 함께 다음 행동을 결정한다.',{interpersonal:14})
    ),
    q("고목의 비문", "마침내 거대한 고목을 찾았다. 그 앞에는 글자가 거의 지워진 낡은 비문이 서 있다. '오직 [■■] 자만이 빛을 보리라.' 비문의 내용을 어떻게 알아낼까?",
      opt('🔎 남아있는 글자의 형태와 조각들을 조합하여 사라진 단어를 추리한다.',{linguistic:14}),
      opt('📜 주변에서 비문과 비슷한 시대의 다른 유적을 찾아, 사용된 언어의 패턴을 비교 분석한다.',{logical:10,spatial:6}),
      opt('🖐️ 비문 표면을 손으로 직접 문질러, 마모된 글자의 흔적을 감각으로 읽어낸다.',{bodily:12,naturalist:4}),
      opt('❓ '만약 내가 비문을 세웠다면 어떤 단어를 썼을까?' 스스로 질문하며 답을 찾는다.',{intrapersonal:12,linguistic:4})
    ),
    q("가뭄의 마을", "숲을 나오자 극심한 가뭄으로 고통받는 마을을 마주쳤다. 물을 찾아달라는 마을 사람들의 간절한 눈빛을 외면할 수 없다. 어떻게 그들을 도울까?",
      opt('🌊 주변 지형을 정밀하게 분석하여, 지하 수맥이 있을 만한 곳을 찾아낸다.',{logical:12,spatial:8}),
      opt('💪 마을 사람들을 조직하고 격려하며, 다 함께 우물을 파는 작업에 직접 참여한다.',{interpersonal:14,bodily:6}),
      opt('🌱 가뭄에도 잘 자라는 식물들을 추적하여, 물이 있는 곳의 단서를 찾는다.',{naturalist:12}),
      opt('🗣️ 물 분배 문제로 다투는 마을 사람들을 중재하고, 모두가 합의할 규칙을 만든다.',{interpersonal:14,linguistic:6})
    ),
    q("광장의 노래", "마을 광장에서 한 음유시인이 '빛을 잃은 왕관'에 대한 노래를 부르고 있다. 가사 속에 중요한 단서가 있을지도 모른다.",
      opt('🎼 노래의 가사 하나하나를 빠짐없이 기록하고, 그 안에 숨겨진 은유를 분석한다.',{linguistic:12,musical:6}),
      opt('😊 노래가 끝난 후, 음유시인에게 다가가 그의 이야기에 깊은 관심을 보이며 추가 정보를 얻는다.',{interpersonal:12}),
      opt('🗺️ 노래에 묘사된 '세 개의 봉우리'나 '붉은 강' 같은 지형을 지도에서 찾아본다.',{spatial:12}),
      opt('🎵 가사보다는 노래의 슬픈 멜로디에 집중하여, '잃어버린 왕관'의 감정적 의미를 파악한다.',{musical:12,intrapersonal:4})
    ),
    q("국경의 의심", "단서를 따라 도착한 국경 요새. 하지만 수비대는 당신의 신분을 의심하며 길을 열어주지 않는다. 어떻게 이 상황을 해결할까?",
      opt('👑 나의 신분과 여정의 목적을 논리정연하고 설득력 있게 설명하여 신뢰를 얻는다.',{linguistic:14,interpersonal:6}),
      opt('🛡️ 수비대의 경계심을 이해한다고 말하며, 그들의 임무를 존중하는 태도를 보인다.',{interpersonal:16}),
      opt('🔍 지금까지 모아온 증거물(편지, 지도 조각 등)을 제시하여 나의 주장을 증명한다.',{logical:12}),
      opt('⏳ 당장 통과하려 하지 않고, 요새 밖에서 머물며 그들이 마음을 열 때까지 기다린다.',{intrapersonal:12})
    ),
    q("왕의 시험", "마침내 왕 앞에 선 당신. 그는 시험하듯 묻는다. '백성의 행복과 왕국의 안정, 둘 중 하나만 택해야 한다면 무엇을 택하겠는가?' 당신의 답은?",
      opt('💬 '백성의 행복이 곧 왕국의 가장 튼튼한 기반입니다.'라고 답하며 구체적인 정책을 제시한다.',{interpersonal:16,linguistic:6}),
      opt('⚖️ '안정 없는 행복은 신기루와 같으니, 먼저 튼튼한 방벽을 쌓겠습니다.'라고 답한다.',{logical:14,bodily:6}),
      opt('❓ '그 둘은 분리될 수 없습니다. 왜 그런 선택을 해야만 하는가?' 스스로 되묻는다.',{intrapersonal:12,logical:8}),
      opt('🎨 '교육과 예술을 통해 백성들의 마음을 풍요롭게 하는 것이 장기적인 안정의 길입니다.'라고 답한다.',{linguistic:12,musical:4})
    ),
    q("고대의 장치", "왕이 인정한 당신에게 마지막 장소의 지도가 주어진다. 그곳엔 복잡한 고대 장치가 잠들어 있다. 어떻게 작동시킬까?",
      opt('⚙️ 톱니바퀴와 문양들의 관계를 분석하여, 장치의 논리적인 작동 원리를 파악한다.',{logical:14,spatial:6}),
      opt('✋ 장치의 여러 부분을 직접 만지고 움직여보며, 물리적인 반응을 통해 해법을 찾는다.',{bodily:12}),
      opt('🔊 장치에서 주기적으로 들려오는 미세한 소리의 높낮이와 패턴에서 단서를 찾는다.',{musical:12}),
      opt('🌿 장치 주변에만 자라는 특이한 식물이나 이끼를 통해, 장치의 에너지원을 추측한다.',{naturalist:12})
    ),
    q("길 잃은 아이", "장치를 작동시키자 새로운 길이 열렸다. 하지만 그 길목에서, 겁에 질려 울고 있는 한 아이를 발견했다. 어떻게 할 것인가?",
      opt('❤️ 아이의 눈높이에 맞춰 앉아, 부드러운 목소리로 안심시키며 무슨 일이 있었는지 들어준다.',{interpersonal:14}),
      opt('👣 아이가 걸어온 방향의 발자국이나 흔적을 찾아, 부모를 찾을 단서를 수집한다.',{spatial:12,naturalist:8}),
      opt('🎵 아이의 긴장을 풀어주기 위해, 재미있는 노래를 불러주거나 작은 놀이를 함께 한다.',{musical:10,interpersonal:6}),
      opt('🤔 일단 아이를 안전한 곳으로 데려간 뒤, 침착하게 아이를 찾을 최선의 방법을 계획한다.',{logical:12,intrapersonal:6})
    ),
    q("마을의 전설", "아이를 부모에게 돌려보내자, 마을 사람들이 당신에게 고대의 전설을 들려준다. '세상의 끝에는 모든 지혜가 잠들어 있는 샘이 있다'고 한다. 어떻게 이 전설을 탐색할까?",
      opt('📜 전설에 등장하는 지명과 단어들을 철저히 조사하여, 숨겨진 의미를 파악한다.',{linguistic:14}),
      opt('🗺️ 전설에서 묘사된 지형적 특징들을 지도에 표시하고, 예상 경로를 설정한다.',{spatial:14}),
      opt('👥 마을의 현자나 나이 많은 이들을 찾아가 전설에 대한 더 자세한 이야기를 듣는다.',{interpersonal:12,linguistic:6}),
      opt('🧘‍♀️ 전설의 내용을 곰곰이 생각하며, 내가 중요하게 생각하는 가치와 연결시켜 본다.',{intrapersonal:12,logical:4})
    ),
    q("어둠의 동굴", "전설을 따라가다 어둠과 습기로 가득 찬 동굴을 만났다. 동굴 안에는 길을 잃은 듯한 불빛들이 깜빡인다. 어떻게 동굴을 통과할까?",
      opt('💡 동굴의 지형과 불빛의 패턴을 분석하여, 안전한 길을 찾아낸다.',{logical:14,spatial:8}),
      opt('✋ 동굴 벽을 손으로 직접 문질러, 발의 감각을 이용해 길을 찾는다.',{bodily:14,intrapersonal:6}),
      opt('🔊 동굴에서 들려오는 메아리 소리의 방향을 분석하여, 출구를 짐작한다.',{musical:12}),
      opt('🔦 횃불을 밝혀 주변 환경을 밝히고, 어둠 속에 숨어 있는 위험을 찾아낸다.',{naturalist:12})
    ),
    q("고대 부족", "동굴을 통과하자 외부와 단절된 고대 부족을 만났다. 그들은 낯선 당신을 경계한다. 어떻게 그들과 소통할까?",
      opt('🗣️ 그들의 몸짓과 소리를 주의 깊게 관찰하여, 비언어적인 방식으로 소통을 시도한다.',{linguistic:14,interpersonal:10}),
      opt('🤝 부족민들에게 먼저 다가가, 존중과 평화의 제스처를 보인다.',{interpersonal:16}),
      opt('🎁 그들에게 작은 선물이나 유용한 물건을 건네며 신뢰를 얻는다.',{logical:12,interpersonal:8}),
      opt('🌿 주변의 식물을 이용해 그들의 문화와 자연의 연관성을 파악한다.',{naturalist:12,spatial:6})
    ),
    q("춤의 의식", "부족민들은 당신에게 그들의 전통 의식인 '춤의 의식'에 참여해달라고 요청한다. 어떻게 참여할까?",
      opt('🕺 부족민들의 춤 동작을 유심히 관찰하고, 그들의 리듬을 몸으로 익혀 따라 한다.',{bodily:16,musical:8}),
      opt('🎵 의식에서 연주되는 음악의 특징을 파악하고, 그에 맞는 나만의 춤을 창조한다.',{musical:14,intrapersonal:6}),
      opt('🤔 춤의 의미와 역사를 부족민들에게 물어보며, 의식에 대한 이해를 깊게 한다.',{linguistic:12,interpersonal:8}),
      opt('👀 춤을 추는 부족민들의 표정과 몸짓에서 그들의 감정을 읽고 공감한다.',{interpersonal:14})
    ),
    q("지혜의 샘", "모든 시련을 이겨내고 마침내 지혜의 샘에 도착했다. 샘물은 당신의 과거와 미래를 비춘다. 무엇을 볼 것인가?",
      opt('📚 샘물에 비친 과거의 지식들을 흡수하여, 나의 지능을 더욱 확장한다.',{linguistic:16,logical:10}),
      opt('💡 샘물이 보여주는 미래의 가능성 중, 가장 논리적이고 현실적인 길을 선택한다.',{logical:16,intrapersonal:8}),
      opt('💖 샘물에 비친 사람들의 행복한 모습을 보며, 그들을 위해 무엇을 할 수 있을지 생각한다.',{interpersonal:16,intrapersonal:8}),
      opt('🌌 샘물이 보여주는 우주의 신비와 자연의 섭리를 깊이 관찰한다.',{naturalist:16,spatial:10})
    ),
    q("샘물의 시험", "지혜의 샘은 당신에게 마지막 시험을 제시한다. '가장 위대한 지혜는 무엇인가?' 당신의 답은?",
      opt('💬 '타인의 아픔에 공감하고 사랑하는 마음입니다.'라고 답한다.',{interpersonal:16}),
      opt('🧠 '세상을 이해하고 문제를 해결하는 논리적 사고입니다.'라고 답한다.',{logical:16}),
      opt('🌳 '자연의 순리와 조화를 이해하는 것입니다.'라고 답한다.',{naturalist:16}),
      opt('🎶 '아름다움을 창조하고 감동을 주는 예술적 영감입니다.'라고 답한다.',{musical:16})
    ),
    q("진정한 왕의 귀환", "모든 시험을 통과하고 샘의 축복을 받은 당신. 이제 진정한 왕으로서 왕국으로 돌아갈 시간이다. 어떤 모습으로 돌아갈 것인가?",
      opt('👑 위엄과 지혜를 겸비한 모습으로 돌아가, 왕국을 평화롭게 다스린다.',{linguistic:14,interpersonal:12}),
      opt('💪 백성들을 이끌고 직접 나라를 재건하며, 강인한 리더십을 보여준다.',{bodily:14,interpersonal:10}),
      opt('✨ 백성들에게 새로운 지식과 예술을 전파하며, 문명의 발전을 이끈다.',{logical:14,musical:10}),
      opt('🌿 자연과 인간이 조화롭게 살아가는 이상적인 왕국을 건설한다.',{naturalist:14,intrapersonal:10})
    ),
    q("계승자의 명예", "왕위에 오른 당신은 이제 미래를 위한 결정을 해야 한다. 당신의 후계자는 어떤 자질을 가진 인물이어야 하는가?",
      opt('📚 뛰어난 언어 능력과 지식을 겸비한 학자를 후계자로 지명한다.',{linguistic:14,logical:8}),
      opt('💖 백성을 사랑하고 공감 능력이 뛰어난 인물을 후계자로 삼는다.',{interpersonal:16}),
      opt('⚔️ 위기 상황에 강인하게 대처하고, 백성을 직접 보호할 수 있는 용사를 택한다.',{bodily:14,spatial:8}),
      opt('🧘‍♀️ 자신의 내면을 깊이 이해하고, 백성들의 마음을 헤아릴 수 있는 현자를 선택한다.',{intrapersonal:16})
    ),
    q("평화로운 시대", "당신의 통치 아래 왕국은 평화롭고 번영한다. 백성들은 당신을 영원히 기억할 것이다. 당신의 치세는 어떤 모습으로 역사에 기록될까?",
      opt('✨ 지혜와 정의로움으로 모든 갈등을 해결하고, 평화로운 시대를 이룩한 왕으로 기억된다.',{logical:14,interpersonal:12}),
      opt('🎨 예술과 학문을 장려하여, 문화적 황금기를 이끈 위대한 군주로 칭송받는다.',{musical:14,linguistic:12}),
      opt('🌳 자연과 조화를 이루는 정책으로, 풍요로운 환경을 조성한 환경 친화적인 왕으로 기록된다.',{naturalist:14,bodily:10}),
      opt('❤️ 백성들의 마음을 하나로 모아, 모두가 행복한 공동체를 만든 따뜻한 왕으로 기억된다.',{intrapersonal:14,interpersonal:14})
    )
  ],
  // Princess Questline (20 Quests)
  princess: [
    q("잃어버린 일기장", "성 정원 가장 깊은 곳, 비밀의 샘 근처에서 낡은 일기장을 발견했다. 공주님이 썼을 법한 섬세한 글씨로 '가장 귀한 보석은 마음속에 있다'고 적혀있다. 그 의미를 어떻게 해석해야 할까?",
      opt('✍️ 문장 하나하나의 의미를 깊이 생각하고, 숨겨진 비유와 상징을 찾아본다.',{linguistic:14}),
      opt('🤔 조용히 샘물가에 앉아, 나 자신의 내면을 들여다보며 그 의미를 깨닫고자 한다.',{intrapersonal:14,interpersonal:6}),
      opt('🏰 일기장에 묘사된 정원의 지형과 비밀 통로를 지도에 표시해본다.',{spatial:12}),
      opt('👥 일기장의 필체를 아는 궁중 화가를 찾아가, 일기장의 주인을 추론한다.',{interpersonal:12,logical:4})
    ),
    q("정원의 수수께끼", "일기장에는 '해가 지는 방향으로 일곱 걸음, 그리고 밤의 노래가 끝날 때'라는 알쏭달쏭한 구절이 있다. 이 수수께끼를 어떻게 풀어야 할까?",
      opt('🧭 정확히 서쪽으로 일곱 걸음을 걸은 뒤, 밤의 별자리와 달의 위치를 관찰한다.',{spatial:14,naturalist:6}),
      opt('🎵 밤이 되었을 때, 정원에서 들려오는 모든 소리를 주의 깊게 듣고 패턴을 분석한다.',{musical:12,logical:6}),
      opt('🏃‍♀️ 일곱 걸음을 걷는 가장 효율적인 움직임을 연구하여, 최단 경로로 이동한다.',{bodily:10,logical:6}),
      opt('📖 일기장 속 다른 구절들과 연관성을 찾아, 구절의 진정한 의미를 추론한다.',{linguistic:12})
    ),
    q("궁정 연회", "다음 단서가 궁정 연회에 숨겨져 있다는 것을 알게 되었다. 하지만 사람들로 붐비는 곳에서 단서를 찾는 것은 쉽지 않다. 어떻게 행동할까?",
      opt('🤫 연회장의 모든 대화를 주의 깊게 엿들어, 중요한 정보를 찾아낸다.',{linguistic:14,interpersonal:6}),
      opt('🕺 음악에 맞춰 춤을 추며 자연스럽게 사람들과 어울려 정보를 얻는다.',{bodily:12,interpersonal:8}),
      opt('🖼️ 연회장 벽에 걸린 그림들과 장식품의 배치를 분석하여 단서를 찾는다.',{spatial:12}),
      opt('🤐 조용히 구석에 앉아, 나 자신에게 주어진 임무에 대해 깊이 생각한다.',{intrapersonal:12})
    ),
    q("무도회장의 가면", "무도회에서 가면을 쓴 수상한 사람이 당신에게 귓속말로 '자정의 종소리에 맞춰 정원의 분수대로 오라'고 속삭였다. 어떻게 할까?",
      opt('🕵️‍♀️ 수상한 사람의 걸음걸이와 행동 패턴을 분석하여, 그의 신분을 추정한다.',{bodily:12,logical:6}),
      opt('⏰ 약속 장소에 미리 도착해 분수대 주변의 모든 지형을 살핀다.',{spatial:12,intrapersonal:6}),
      opt('🤝 주변 사람들에게 그 수상한 사람에 대해 물어보며 정보를 모은다.',{interpersonal:14}),
      opt('🎶 자정의 종소리 소리를 기억하며, 그 소리가 울리는 방식에 집중한다.',{musical:12})
    ),
    q("사서의 부탁", "도서관에서 단서를 찾던 중, 사서가 당신에게 곤란한 부탁을 한다. '오래된 책들의 순서가 뒤섞였으니, 제자리를 찾아달라'고 한다. 어떻게 할까?",
      opt('📚 책의 내용과 저술 시기를 분석하여, 논리적인 순서대로 배열한다.',{logical:14,linguistic:6}),
      opt('🏃‍♀️ 책을 들고 빠르게 도서관을 돌아다니며, 원래의 위치를 찾아낸다.',{bodily:12}),
      opt('🧐 책장에 남은 미세한 먼지 흔적이나 빛바랜 자국을 통해, 책의 원래 위치를 추정한다.',{naturalist:12,spatial:6}),
      opt('💬 사서와 다른 사람들에게 책의 원래 순서에 대해 물어본다.',{interpersonal:14})
    ),
    q("미로 정원", "단서를 따라 도착한 곳은 복잡한 미로 정원. 길을 잃지 않고 지나가는 방법은 무엇일까?",
      opt('🧭 미로의 전체 지도를 머릿속에 그리며, 가장 효율적인 경로를 계산한다.',{spatial:14,logical:6}),
      opt('👣 벽을 한쪽 손으로 계속 짚으며 나아가는 가장 고전적인 방법을 사용한다.',{bodily:12,intrapersonal:4}),
      opt('🐦 미로 안에서 울고 있는 새의 소리를 듣고, 그 소리의 방향을 따라간다.',{musical:12}),
      opt('🌱 미로 벽에 붙어있는 식물들의 생장 방향을 관찰하여, 햇빛이 드는 방향을 추론한다.',{naturalist:12,spatial:4})
    ),
    q("비밀의 방", "미로를 통과하자 벽에 비밀의 방으로 통하는 문이 나타났다. 하지만 문에는 복잡한 기하학적 문양이 새겨져 있다. 어떻게 문을 열까?",
      opt(' geometrically 문양의 도형들과 패턴을 분석하여, 숨겨진 규칙을 찾아낸다.',{logical:14,spatial:8}),
      opt('💬 문양의 의미를 고대 문헌에서 찾아, 올바른 주문을 외운다.',{linguistic:12}),
      opt('🖐️ 문양의 각 부분을 직접 만져보고, 그 촉감과 무게에서 해답을 찾는다.',{bodily:12}),
      opt('🤔 문양을 보는 순간 떠오르는 영감에 따라 문을 조작해본다.',{intrapersonal:14})
    ),
    q("가시 덤불", "비밀의 방으로 가는 길목을 가시 덤불이 막고 있다. 덤불을 뚫고 가야 한다.",
      opt('✂️ 날카로운 도구를 사용하여 덤불의 가장 약한 부분을 체계적으로 잘라낸다.',{logical:12,bodily:6}),
      opt('🎶 노래를 부르며 덤불을 뚫고 나아간다. 흥겨운 리듬이 힘든 여정을 잊게 해 줄 것이다.',{musical:10,intrapersonal:8}),
      opt('🌳 덤불을 이루는 식물의 종류와 특성을 파악하여, 가장 효율적인 통로를 찾는다.',{naturalist:14,spatial:6}),
      opt('🤝 함께 온 동료들과 힘을 합쳐 덤불을 치워 길을 만든다.',{interpersonal:14,bodily:6})
    ),
    q("보석의 노래", "비밀의 방 안에는 아름다운 보석들이 놓여 있다. 그 중 하나가 미세하게 떨리며 이상한 소리를 낸다.",
      opt('👂 보석의 떨림이 만들어내는 소리의 파장과 멜로디를 분석한다.',{musical:16}),
      opt('💎 보석의 종류와 광물학적 특징을 파악하여, 그것이 어떤 물질에 반응하는지 알아본다.',{naturalist:12,logical:8}),
      opt('💬 보석이 내는 소리를 글로 기록하고, 그 의미를 해독한다.',{linguistic:12,logical:4}),
      opt('🧘‍♀️ 보석이 내는 소리에 집중하며, 그 소리가 내면에 어떤 감정을 일으키는지 느낀다.',{intrapersonal:14})
    ),
    q("진정한 공주", "마침내 모든 단서를 해독하고 진정한 왕녀의 자격을 증명하는 시험에 임한다. '힘과 지혜 중, 진정으로 중요한 것은 무엇인가?'라는 질문을 받았다. 당신의 답은?",
      opt('🧠 '지혜가 힘의 방향을 결정합니다.'라고 답하며 논리적인 근거를 제시한다.',{logical:16}),
      opt('🗣️ '진정한 힘은 백성들의 마음을 얻는 데서 나옵니다. 지혜롭게 소통하는 것이 중요합니다.'라고 답한다.',{interpersonal:16,linguistic:6}),
      opt('⚖️ '둘은 분리될 수 없습니다. 힘이 지혜를 뒷받침하고 지혜가 힘을 올바르게 이끌어야 합니다.'라고 답한다.',{intrapersonal:14}),
      opt('🤝 '동료들과 힘을 합칠 때 진정한 힘이 발현됩니다.'라고 답하며 연대의 중요성을 강조한다.',{interpersonal:12,bodily:8})
    ),
    q("돌아온 평화", "모든 난관을 극복하고 왕궁으로 돌아온 당신. 당신을 향해 사람들이 '지혜의 왕녀'라고 외친다. 어떻게 그들의 기대에 부응할 것인가?",
      opt('📜 백성을 위한 새로운 법과 제도를 만들고, 공정한 규칙을 세운다.', {logical:16, linguistic:10}),
      opt('❤️ 백성들의 삶에 더 깊이 공감하고, 그들의 행복을 위한 정책을 펼친다.', {interpersonal:16}),
      opt('🎨 궁정 화가와 음악가들을 후원하여, 문화와 예술이 꽃피는 왕국을 만든다.', {musical:14, intrapersonal:6}),
      opt('🌿 자연과 함께하는 지속 가능한 왕국을 건설하고, 자연의 소중함을 알린다.', {naturalist:14, spatial:8})
    ),
    q("유적의 수리", "고대 유적이 무너져 내리고 있다. 유적을 수리하여 고대 지혜를 보존해야 한다. 어떻게 접근할까?",
      opt('⚙️ 유적의 건축학적 구조를 분석하여 가장 효율적인 보수 방법을 설계한다.', {logical:14, spatial:12}),
      opt('💪 백성들을 독려하며, 함께 땀 흘려 유적을 복구하는 데 앞장선다.', {bodily:14, interpersonal:8}),
      opt('📜 유적의 역사와 의미에 대해 백성들에게 설명하며, 보존의 중요성을 설득한다.', {linguistic:14}),
      opt('🧘‍♀️ 유적의 돌 하나하나에 담긴 고대의 마음을 느끼며, 경건한 자세로 수리에 임한다.', {intrapersonal:12, naturalist:6})
    ),
    q("새로운 작물", "왕국에 새로운 작물을 들여와야 한다. 어떤 작물을 선택해야 할까?",
      opt('🌍 다양한 기후와 토양에서 자라는 작물들을 연구하여, 왕국에 가장 적합한 것을 고른다.', {naturalist:16, logical:8}),
      opt('👨‍👩‍👧‍👦 백성들에게 어떤 작물을 선호하는지 직접 물어보고, 그들의 의견을 수렴한다.', {interpersonal:16}),
      opt('👩‍🌾 직접 밭을 일구고 여러 작물을 실험 재배하여, 가장 생산성이 높은 것을 찾는다.', {bodily:12, logical:10}),
      opt('📊 작물의 수확량, 영양분, 병충해 저항성 등의 데이터를 분석하여 최적의 작물을 결정한다.', {logical:14, linguistic:8})
    ),
    q("사절단과의 만남", "다른 왕국의 사절단이 왕국을 방문했다. 어떻게 이들을 맞이해야 할까?",
      opt('🗣️ 왕국의 역사와 문화를 유창하게 설명하며, 깊은 인상을 남긴다.', {linguistic:14, interpersonal:8}),
      opt('🎭 성대한 연회와 아름다운 음악, 춤으로 그들을 환대한다.', {musical:14, interpersonal:12}),
      opt('🗺️ 왕국의 방어 시설과 군사력을 보여주며, 왕국의 힘을 과시한다.', {spatial:12, bodily:10}),
      opt('🤝 사절단의 이야기를 경청하고, 그들이 원하는 바가 무엇인지 정확히 파악한다.', {interpersonal:16})
    ),
    q("밤하늘의 비밀", "천문대에서 관측 도중, 고대 기록에 없는 새로운 별자리를 발견했다. 이 별자리는 무엇을 의미할까?",
      opt('🔭 별자리의 위치와 움직임을 정밀하게 기록하고, 수학적으로 분석하여 그 궤적을 예측한다.', {logical:16, spatial:14}),
      opt('✍️ 별자리에 새로운 이름을 붙이고, 그에 얽힌 아름다운 전설을 창작한다.', {linguistic:14, musical:6}),
      opt('🧘‍♀️ 별자리를 보며 명상에 잠겨, 우주의 질서와 나의 존재에 대해 생각한다.', {intrapersonal:14}),
      opt('🌿 별자리가 왕국의 농경 주기나 자연 현상에 미치는 영향을 조사한다.', {naturalist:12, logical:8})
    ),
    q("마음의 소리", "혼란스러운 상황 속에서, 나는 어떤 결정을 내려야 할까?",
      opt('🧠 모든 가능한 해결책을 논리적으로 분석하고, 최선의 결과를 도출한다.', {logical:16, intrapersonal:8}),
      opt('❤️ 내 마음이 이끄는 대로, 가장 옳은 길이라고 생각하는 것을 따른다.', {intrapersonal:16}),
      opt('🗣️ 다른 사람들의 의견을 충분히 듣고, 모두가 만족할 만한 합의점을 찾는다.', {interpersonal:16}),
      opt('📜 고대의 지혜와 선조들의 가르침을 되새기며, 그에 따라 행동한다.', {linguistic:14})
    ),
    q("보물 지도", "탐험 중에 낡은 보물 지도를 발견했다. 이 지도를 따라가야 할까?",
      opt('🗺️ 지도의 기호를 분석하고, 지형을 읽어 보물이 있을 위치를 정확히 파악한다.', {spatial:16, logical:10}),
      opt('🏃‍♀️ 보물을 찾는 모험을 떠나, 새로운 경험과 도전을 즐긴다.', {bodily:14, intrapersonal:8}),
      opt('🎁 보물을 찾기보다, 지도를 그려낸 사람의 이야기에 집중하고 그 의미를 해석한다.', {linguistic:12, interpersonal:8}),
      opt('💰 보물을 찾아 왕국을 더 부유하게 만들 방법을 계획한다.', {logical:14, interpersonal:12})
    ),
    q("궁전의 음악가", "궁전에 슬픔에 잠긴 음악가가 있다. 어떻게 그를 위로해 줄까?",
      opt('🎶 그의 음악에 귀 기울여, 그가 어떤 감정을 표현하고 있는지 이해하려 노력한다.', {musical:16, intrapersonal:10}),
      opt('💬 그에게 따뜻한 말을 건네고, 그의 슬픔에 공감하며 이야기를 들어준다.', {interpersonal:16, linguistic:8}),
      opt('🧘‍♀️ 그에게 잠시 혼자만의 시간을 주고, 그가 내면의 평화를 찾도록 돕는다.', {intrapersonal:14, interpersonal:8}),
      opt('🎻 그와 함께 악기를 연주하며, 음악을 통해 슬픔을 나누고 새로운 기쁨을 찾는다.', {musical:14, bodily:10})
    ),
    q("왕국의 미래", "왕국의 미래를 위한 가장 중요한 투자는 무엇일까?",
      opt('📚 백성들이 지식을 쌓을 수 있도록 도서관과 학교를 짓는다.', {linguistic:16, logical:12}),
      opt('🎨 예술과 문화를 발전시켜, 백성들의 삶을 풍요롭게 만든다.', {musical:14, interpersonal:8}),
      opt('🌳 자연 친화적인 정책을 펼쳐, 왕국의 환경을 보호하고 지속 가능한 성장을 추구한다.', {naturalist:16, logical:10}),
      opt('⚔️ 군사력을 강화하여, 왕국의 안보를 튼튼하게 만든다.', {bodily:14, spatial:12})
    ),
    q("진정한 왕녀의 역할", "백성들에게 있어 '진정한 왕녀'는 어떤 모습일까?",
      opt('💖 백성들의 마음을 헤아리고, 그들의 행복을 최우선으로 생각하는 따뜻한 왕녀.', {interpersonal:16, intrapersonal:12}),
      opt('🧠 뛰어난 지혜와 지식으로 왕국을 올바른 방향으로 이끄는 현명한 왕녀.', {logical:16, linguistic:14}),
      opt('💪 어떤 어려움에도 굴하지 않고, 백성을 위해 용감하게 나서는 강인한 왕녀.', {bodily:16, spatial:12}),
      opt('🌿 자연의 순리를 이해하고, 왕국의 번영을 자연과 조화롭게 만드는 왕녀.', {naturalist:16, musical:12})
    )
  ],
  // Warrior Questline (20 Quests)
  warrior: [
    q("훈련장 습격", "한밤중 훈련장에 멧돼지 떼가 습격했다. 동료들이 혼란에 빠진 상황, 어떻게 대처할까?",
      opt('💪 훈련장의 무기를 능숙하게 다뤄 멧돼지들을 효율적으로 제압한다.', {bodily:16}),
      opt('🗺️ 지형을 빠르게 파악해 멧돼지들을 좁은 길로 몰아넣어 움직임을 제한한다.', {spatial:12, logical:8}),
      opt('🗣️ 동료들에게 침착하게 대처하도록 소리치고, 역할을 분담하여 조직적으로 움직인다.', {interpersonal:14, linguistic:8}),
      opt('🌲 멧돼지들이 싫어하는 냄새를 풍기는 식물을 찾아, 그 냄새로 멧돼지들을 쫓아낸다.', {naturalist:12, bodily:6})
    ),
    q("고대 전설의 무기", "가문의 오래된 창고에서 '가장 강인한 전사만이 들어 올릴 수 있는 전설의 검'이라는 비문이 새겨진 검을 발견했다. 어떻게 이 검을 들어 올릴까?",
      opt('💪 순수한 힘과 완력으로 검을 들어 올리려 시도한다.', {bodily:14}),
      opt('🤔 검의 무게 중심과 손잡이의 구조를 분석하여, 최소한의 힘으로 들어 올리는 방법을 찾는다.', {logical:12, spatial:8}),
      opt('🧘‍♀️ 검에 담긴 힘과 교감하며, 나의 내면의 힘을 끌어내어 하나가 된다.', {intrapersonal:16}),
      opt('💬 검에 쓰인 비문의 문구를 해독하여, 숨겨진 의미나 작동 방식을 알아낸다.', {linguistic:14})
    ),
    q("성벽의 약점", "오랜 시간 방치된 성벽에 적들이 침투할 만한 약점이 발견되었다. 어떻게 이 문제를 해결할까?",
      opt('💪 직접 성벽을 오르내리며 가장 취약한 지점을 찾아내고, 보수 작업에 참여한다.', {bodily:14, spatial:6}),
      opt('🗺️ 성벽의 전체적인 구조를 분석하고, 바람과 침식의 영향을 계산하여 약점을 보완한다.', {logical:14, spatial:10}),
      opt('🤝 병사들과 회의를 열어 각자의 의견을 듣고, 모두가 동의하는 해결책을 찾는다.', {interpersonal:14, linguistic:6}),
      opt('🌳 성벽 주변에 잘 자라는 덩굴식물을 이용해 위장하고, 자연적인 방어막을 구축한다.', {naturalist:12, bodily:6})
    ),
    q("적진 침투", "적의 요새에 몰래 침투해 정보를 빼내야 한다. 어떻게 잠입할까?",
      opt('🏃‍♂️ 그림자를 밟지 않는 것처럼 조심스럽게 움직이며, 가장 효율적인 경로를 따라간다.', {bodily:14, spatial:12}),
      opt('👂 적 병사들의 대화와 발소리를 듣고, 그들의 순찰 경로와 규칙을 파악한다.', {musical:12, logical:10}),
      opt('💡 적들이 눈치채지 못하도록 주의를 분산시키기 위한 교란 작전을 계획한다.', {logical:14, interpersonal:8}),
      opt('🌱 주변의 식물과 지형을 이용해 몸을 숨기고, 자연 속에 완벽히 녹아든다.', {naturalist:12, spatial:8})
    ),
    q("전장의 외침", "전투 중, 절망에 빠진 동료들의 사기를 북돋아야 한다. 어떤 방법이 효과적일까?",
      opt('🗣️ 용감하고 단호한 목소리로 승리의 희망을 외치며, 동료들을 이끈다.', {linguistic:14, interpersonal:12}),
      opt('⚔️ 가장 위험한 곳으로 달려가 적들을 무찌르며, 직접 본보기를 보여준다.', {bodily:16, interpersonal:8}),
      opt('❤️ 동료들의 감정을 읽고, 그들의 두려움을 이해하며 진심으로 격려한다.', {interpersonal:16}),
      opt('🥁 북을 쳐서 일정한 리듬을 만들고, 그 리듬에 맞춰 모두가 함께 싸우게 한다.', {musical:14, bodily:6})
    ),
    q("포로 심문", "적의 포로를 잡았다. 중요한 정보를 얻기 위해 어떻게 심문할까?",
      opt('🕵️‍♂️ 포로의 심리 상태를 정확히 파악하여, 그가 가장 불안해하는 점을 파고든다.', {intrapersonal:14, logical:8}),
      opt('💬 냉철하고 논리적인 질문을 던져, 포로의 허점을 찾아내 진실을 밝혀낸다.', {linguistic:14, logical:12}),
      opt('🤝 포로에게 친절하게 대하며, 신뢰를 쌓아 자발적으로 정보를 말하게 유도한다.', {interpersonal:16}),
      opt('🗺️ 포로가 말하는 지형과 요새의 구조를 머릿속에 그리며, 정보의 정확도를 판단한다.', {spatial:12})
    ),
    q("야생 동물의 위협", "깊은 산속을 행군하던 중, 맹수들의 위협을 받게 되었다. 어떻게 이 상황을 헤쳐나갈까?",
      opt('🐻 맹수들의 행동 패턴과 생태를 분석하여, 그들이 위협을 느끼지 않도록 조용히 피한다.', {naturalist:14, logical:12}),
      opt('⚔️ 맹수와 일대일로 맞서 싸울 준비를 하고, 동료들을 보호한다.', {bodily:16, interpersonal:8}),
      opt('📢 큰 소리를 지르거나 불을 피워 맹수들이 접근하지 못하게 한다.', {linguistic:10, musical:8}),
      opt('🌲 주변의 지형을 이용해 높은 곳으로 올라가거나, 안전한 은신처를 찾는다.', {spatial:14, bodily:8})
    ),
    q("명상의 시간", "치열한 전투를 앞두고 있다. 긴장과 불안에 휩싸인 나를 어떻게 다스릴까?",
      opt('🧘‍♂️ 조용히 앉아 명상에 잠기며, 마음의 평정을 찾는다.', {intrapersonal:16}),
      opt('🎶 승리의 노래를 조용히 읊조리며, 마음을 다잡고 용기를 되찾는다.', {musical:12, intrapersonal:8}),
      opt('🗣️ 동료들과 함께 이야기하며 서로의 두려움을 나누고, 결의를 다진다.', {interpersonal:14, linguistic:10}),
      opt('🏃‍♀️ 가볍게 몸을 풀며 긴장을 이완시키고, 전투에 대비한다.', {bodily:12})
    ),
    q("지도 제작", "새로운 영토를 탐험하는 임무를 맡았다. 어떻게 지도를 만들까?",
      opt('🗺️ 주변의 산, 강, 길 등 주요 지형을 정확히 측정하고 기록하여 정밀한 지도를 그린다.', {spatial:16, logical:14}),
      opt('📜 마을 사람들을 만나 이야기를 듣고, 구전되는 정보를 지도에 추가한다.', {linguistic:12, interpersonal:8}),
      opt('👣 직접 발로 뛰며 모든 길을 탐험하고, 지형의 특성을 몸으로 느낀다.', {bodily:14, naturalist:10}),
      opt('🤔 지도를 만들면서 나의 내면의 생각과 감정을 함께 기록한다.', {intrapersonal:12})
    ),
    q("전투의 기록", "치열했던 전투가 끝났다. 이 경험을 어떻게 기록으로 남길까?",
      opt('📝 전투의 과정과 결과를 논리정연하게 정리하여, 후대에 교훈을 남긴다.', {logical:14, linguistic:12}),
      opt('🎨 전투의 치열함을 생생하게 묘사하는 그림을 그려, 당시의 감정을 표현한다.', {spatial:12, musical:10}),
      opt('🗣️ 동료들의 영웅적인 행동을 담은 시를 짓고, 낭송하여 그들의 명예를 드높인다.', {linguistic:16, interpersonal:12}),
      opt('🧘‍♀️ 전투에서 내가 느꼈던 감정과 깨달음을 일기장에 솔직하게 기록한다.', {intrapersonal:16})
    ),
    q("성벽 보수", "전투로 인해 무너진 성벽을 보수해야 한다. 어떻게 접근할까?",
      opt('💪 직접 돌을 나르고 쌓으며, 가장 튼튼하게 성벽을 재건한다.', {bodily:16}),
      opt('📏 성벽의 구조를 정확하게 계산하여, 가장 효율적인 보수 방법을 찾아낸다.', {logical:14, spatial:12}),
      opt('🤝 동료들과 힘을 합쳐, 함께 작업하며 협동심을 기른다.', {interpersonal:14, bodily:8}),
      opt('🌳 주변의 자연석과 나무를 활용하여, 환경 친화적인 보수 방법을 모색한다.', {naturalist:14, spatial:6})
    ),
    q("악기 제작", "전장에서 발견한 나무와 가죽으로 악기를 만들어야 한다. 어떤 악기를 만들까?",
      opt('🎶 아름다운 멜로디를 낼 수 있는 현악기를 만든다.', {musical:16, bodily:10}),
      opt('🥁 웅장하고 힘찬 리듬을 낼 수 있는 타악기를 만든다.', {bodily:14, musical:12}),
      opt('💬 악기 제작에 필요한 모든 재료와 공정을 논리적으로 분석하여 계획한다.', {logical:14, spatial:10}),
      opt('🤔 어떤 악기가 나의 내면의 감정을 가장 잘 표현할 수 있을지 고민한다.', {intrapersonal:14, musical:8})
    ),
    q("새로운 훈련법", "병사들의 전투력을 향상시키기 위한 새로운 훈련법을 개발해야 한다. 어떻게 할까?",
      opt('⚔️ 병사들의 신체 능력을 최대한으로 끌어낼 수 있는 고강도 훈련을 설계한다.', {bodily:16, logical:12}),
      opt('🤝 병사들의 의견을 듣고, 그들이 가장 흥미를 느끼는 훈련 방법을 도입한다.', {interpersonal:14, linguistic:8}),
      opt('🗺️ 다양한 전술과 전략을 익히게 하여, 어떤 지형에서도 승리할 수 있도록 훈련한다.', {spatial:14, logical:10}),
      opt('🧘‍♀️ 병사들에게 정신력을 강화하고 집중력을 높이는 명상 훈련을 가르친다.', {intrapersonal:14, bodily:6})
    ),
    q("평화 협상", "적국과 평화 협상을 해야 한다. 어떻게 협상에 임할까?",
      opt('🗣️ 나의 주장과 논리를 명확하고 설득력 있게 전달하여 상대를 압도한다.', {linguistic:16, logical:12}),
      opt('🤫 상대방의 비언어적 표현과 심리 상태를 읽어내어 협상을 유리하게 이끈다.', {interpersonal:14, intrapersonal:8}),
      opt('🎁 상대방에게 진심을 담은 선물을 건네고, 협력의 의지를 보여준다.', {interpersonal:16}),
      opt('📜 평화 협상에 관한 역사적 사례를 연구하여, 실패하지 않는 전략을 세운다.', {logical:14, linguistic:10})
    ),
    q("승리의 축제", "오랜 전쟁이 끝났다. 승리를 기념하는 축제를 열어야 한다. 어떻게 준비할까?",
      opt('🎉 모두가 즐길 수 있는 신나는 음악과 춤으로 축제의 분위기를 띄운다.', {musical:16, bodily:14}),
      opt('💬 승리의 의미와 동료들의 희생을 기리는 감동적인 연설을 준비한다.', {linguistic:14, interpersonal:12}),
      opt('🗺️ 축제 장소를 아름답게 꾸미고, 모두가 편안하게 즐길 수 있도록 동선을 설계한다.', {spatial:14, interpersonal:10}),
      opt('❤️ 전쟁으로 상처받은 사람들의 마음을 치유하는 데 집중하는 조용한 축제를 연다.', {intrapersonal:14, interpersonal:16})
    ),
    q("용의 흔적", "전장에서 거대한 용의 흔적을 발견했다. 어떻게 이 흔적을 탐색할까?",
      opt('🐉 용의 발자국과 비늘을 분석하여, 용의 종류와 이동 경로를 추론한다.', {naturalist:16, logical:12}),
      opt('🏃‍♀️ 용의 흔적을 따라 직접 용의 서식지를 찾아 나선다.', {bodily:14, spatial:10}),
      opt('🗣️ 용에 관한 전설과 이야기를 수집하여, 용의 특성과 약점을 파악한다.', {linguistic:14, interpersonal:8}),
      opt('🤔 용이 왜 이곳에 왔는지, 그 의도를 내면의 감각으로 느껴본다.', {intrapersonal:14, musical:10})
    ),
    q("최후의 전투", "전쟁의 최종 결전이다. 어떻게 전투를 이끌어야 할까?",
      opt('⚔️ 최전선에서 직접 싸우며, 병사들에게 용기와 희망을 불어넣는다.', {bodily:16, interpersonal:12}),
      opt('🧠 적의 전술과 전략을 완벽하게 간파하고, 그들의 허점을 노려 공격한다.', {logical:16, spatial:14}),
      opt('🎵 전투의 함성과 북소리를 이용해 혼란을 야기하고, 아군의 사기를 높인다.', {musical:14, linguistic:10}),
      opt('📜 적의 리더에게 협상을 제안하며, 불필요한 희생을 막는다.', {interpersonal:16, linguistic:14})
    ),
    q("영웅의 귀환", "모든 전투에서 승리하고 왕국으로 돌아온 당신. 백성들은 당신을 '가장 위대한 영웅'이라고 부른다. 어떤 모습으로 그들의 환호에 답할까?",
      opt('👑 왕국의 평화를 지킨 위엄 있는 영웅으로, 왕의 옆에 선다.', {linguistic:14, interpersonal:12}),
      opt('💪 백성들과 함께 땀 흘려 왕국을 재건하며, 겸손한 리더십을 보여준다.', {bodily:16, interpersonal:14}),
      opt('🧘‍♂️ 조용히 자신의 자리를 지키며, 내면의 평화를 추구하는 현자로 남는다.', {intrapersonal:16}),
      opt('🎨 전쟁의 참혹함을 그림과 음악으로 기록하고, 평화의 소중함을 알리는 예술가로 변모한다.', {musical:14, linguistic:12})
    ),
    q("영웅의 유산", "당신이 남길 가장 중요한 유산은 무엇일까?",
      opt('📜 뛰어난 전술과 전략을 담은 병법서를 남겨, 후대 병사들의 길잡이가 된다.', {logical:16, linguistic:14}),
      opt('💖 백성들에게 사랑과 희생의 정신을 전하여, 서로 돕는 공동체를 만든다.', {interpersonal:16, intrapersonal:14}),
      opt('⚔️ 강인한 신체와 정신을 단련하는 훈련소를 설립하여, 왕국의 방어를 굳건히 한다.', {bodily:16, spatial:12}),
      opt('🌳 자연과 조화를 이루는 친환경적인 무기를 개발하고, 환경 보존의 중요성을 알린다.', {naturalist:16, logical:12})
    ),
    q("새로운 시대", "당신의 노력 덕분에 왕국은 평화롭고 강인한 나라가 되었다. 새로운 시대를 어떻게 맞이할까?",
      opt('✨ 백성들에게 새로운 학문과 기술을 전파하여, 문명 발전을 이끈다.', {logical:16, linguistic:14}),
      opt('🤝 주변 왕국들과 평화 조약을 맺고, 상호 교류를 통해 번영을 도모한다.', {interpersonal:16, linguistic:12}),
      opt('🎶 전쟁의 아픔을 치유하는 음악과 예술을 장려하여, 백성들의 마음을 풍요롭게 한다.', {musical:16, intrapersonal:14}),
      opt('🏞️ 더 넓은 세계를 탐험하며, 미지의 땅을 개척하고 새로운 지평을 연다.', {spatial:16, bodily:14})
    )
  ],
  // Wizard Questline (20 Quests)
  wizard: [
    q("고대 주문서", "오래된 마법 도서관에서 먼지 쌓인 주문서를 발견했다. 알아보기 힘든 고대 문자로 '진정한 마법은 자연의 섭리 안에 있다'고 쓰여 있다. 이 주문을 어떻게 해석할까?",
      opt('📜 주문의 문장 구조와 단어의 의미를 철저히 분석해 숨겨진 코드를 찾아낸다.', {linguistic:14, logical:6}),
      opt('🤔 주문의 내용이 내게 어떤 깨달음을 주는지 깊이 명상해본다.', {intrapersonal:16}),
      opt('🌿 주문서에 사용된 잉크의 성분을 분석해 자연과의 연결고리를 찾는다.', {naturalist:14, logical:8}),
      opt('🎶 주문서에 나타난 특이한 문양을 음표로 해석해 신비한 음악을 연주한다.', {musical:12, spatial:8})
    ),
    q("환상의 미로", "주문서가 가리키는 곳은 현실과 환상이 뒤섞인 미로. 어떻게 길을 찾을까?",
      opt('🧠 미로의 논리적인 구조를 파악하고, 최단 경로를 계산한다.', {logical:14, spatial:10}),
      opt('🖐️ 벽을 손으로 더듬으며 길을 찾아나간다. 현실의 감각에 의존한다.', {bodily:12, intrapersonal:6}),
      opt('🗣️ 미로 속에서 들려오는 희미한 소리의 울림을 따라간다.', {musical:14}),
      opt('🤝 동료들과 끊임없이 소통하며 서로의 위치를 확인하고 함께 길을 찾는다.', {interpersonal:14, linguistic:8})
    ),
    q("그림자 거미", "미로를 지나자 빛을 싫어하는 그림자 거미가 나타났다. 어떻게 이 거미를 쫓아낼까?",
      opt('✨ 마법 지팡이로 강력한 빛을 뿜어내어 거미를 소멸시킨다.', {logical:14, bodily:8}),
      opt('💬 거미에게 말을 걸어, 왜 빛을 싫어하는지 대화로 이해하려 한다.', {interpersonal:12, linguistic:10}),
      opt('🎵 거미가 싫어하는 불협화음의 소리를 만들어 거미를 쫓아낸다.', {musical:14, naturalistic:6}),
      opt('🌿 거미가 싫어하는 특정 식물을 찾아내, 그 식물의 진액을 이용한다.', {naturalist:14, logical:12})
    ),
    q("마력의 샘", "미로를 통과하자 마력이 넘쳐흐르는 샘을 발견했다. 샘물을 어떻게 사용할까?",
      opt('🧪 샘물의 성분을 분석하여, 새로운 마법 약물을 개발한다.', {logical:16, naturalist:12}),
      opt('✨ 샘물의 마력을 흡수하여 나의 마법 능력을 강화한다.', {bodily:14, intrapersonal:10}),
      opt('🎵 샘물이 내는 신비로운 소리를 기록하고, 마법 주문에 활용한다.', {musical:14, linguistic:10}),
      opt('🎁 마력을 나누어 담을 용기를 만들어, 도움이 필요한 사람들에게 나눠준다.', {interpersonal:16})
    ),
    q("환상의 존재", "샘 근처에서 환상으로 만들어진 신비한 존재가 나타났다. 어떻게 이 존재와 소통할까?",
      opt('🗣️ 존재가 만들어내는 환상의 패턴을 분석하여, 비언어적인 메시지를 해독한다.', {linguistic:14, spatial:10}),
      opt('🤝 존재에게 먼저 다가가 평화의 제스처를 취하며, 신뢰를 얻으려 노력한다.', {interpersonal:16}),
      opt('🧘‍♀️ 존재의 존재 자체에 집중하며, 그것이 내게 전하고자 하는 내면의 메시지를 느낀다.', {intrapersonal:16}),
      opt('🎶 존재가 내는 환상적인 소리를 기억하고, 그 멜로디에 맞춰 교감한다.', {musical:14})
    ),
    q("고대 유물", "환상의 존재에게서 고대 유물 지도를 받았다. 지도를 따라가야 할까?",
      opt('📜 지도의 문양과 상징을 해독하여, 유물의 진정한 의미를 파악한다.', {linguistic:16, logical:12}),
      opt('🗺️ 지도의 지형적 특징을 분석하여, 유물이 숨겨진 장소를 찾아낸다.', {spatial:16, logical:10}),
      opt('🤔 유물을 통해 얻을 수 있는 지식과 나의 개인적인 성장을 연결시켜 생각한다.', {intrapersonal:14}),
      opt('🏃‍♂️ 직접 유적지를 탐험하며, 몸으로 부딪혀 유물을 찾아낸다.', {bodily:12, spatial:8})
    ),
    q("잊혀진 언어", "유적지에서 잊혀진 언어로 쓰인 비석을 발견했다. 어떻게 이 언어를 해독할까?",
      opt('🧠 언어의 패턴과 규칙을 분석하여, 논리적으로 해독한다.', {logical:16, linguistic:14}),
      opt('🗣️ 비석을 쓰다듬으며, 그 안에 담긴 에너지를 느껴 언어의 의미를 직관적으로 파악한다.', {bodily:12, intrapersonal:8}),
      opt('📜 주변 유적지에서 비슷한 문자를 찾아, 문맥을 통해 의미를 추론한다.', {linguistic:14, spatial:8}),
      opt('👥 비석의 언어를 아는 사람을 찾아, 도움을 요청한다.', {interpersonal:14})
    ),
    q("자연의 시험", "유적지로 가는 길목을 거대한 자연의 힘이 가로막고 있다. 어떻게 이 난관을 극복할까?",
      opt('🌳 자연의 순리를 이해하고, 바람과 물의 흐름을 이용해 길을 만든다.', {naturalist:16, logical:12}),
      opt('✨ 강력한 마법으로 자연의 힘을 강제로 제압한다.', {bodily:14, musical:10}),
      opt('🗣️ 자연에 말을 걸어, 길을 열어달라고 부탁한다.', {linguistic:12, interpersonal:10}),
      opt('🧘‍♀️ 자연의 소리에 귀 기울이고, 그에 맞춰 행동한다.', {musical:14, intrapersonal:8})
    ),
    q("고대의 노래", "유적지 안에서 고대의 노래가 들려온다. 이 노래는 무엇을 의미할까?",
      opt('🎶 노래의 멜로디와 화음을 분석하여, 노래에 담긴 마법의 힘을 해독한다.', {musical:16, logical:12}),
      opt('📜 노래의 가사를 기록하고, 그 안에 담긴 전설을 해석한다.', {linguistic:14, intrapersonal:8}),
      opt('🤔 노래를 들으며 나의 내면의 감정을 돌아보고, 영감을 얻는다.', {intrapersonal:16}),
      opt('🤝 노래의 의미를 이해하기 위해, 동료들과 함께 의견을 나눈다.', {interpersonal:14, musical:8})
    ),
    q("지식의 서", "고대 유물은 모든 지식이 담긴 거대한 책이었다. 이 책을 어떻게 활용할까?",
      opt('📚 책의 내용을 꼼꼼하게 읽고, 나의 지식 체계를 확장한다.', {linguistic:16, logical:14}),
      opt('💡 책에서 얻은 지식을 활용하여, 새로운 마법을 창조한다.', {logical:16, spatial:12}),
      opt('💖 책의 지식을 백성들에게 전파하여, 모두가 현명해지도록 돕는다.', {interpersonal:16}),
      opt('🧘‍♀️ 책의 내용이 나의 가치관과 삶에 어떤 영향을 주는지 깊이 생각한다.', {intrapersonal:14, linguistic:8})
    ),
    q("마을의 전염병", "유적지에서 돌아오자, 마을에 원인 모를 전염병이 돌고 있다. 어떻게 이 전염병을 치료할까?",
      opt('🧪 주변의 식물과 광물을 채취하여, 전염병의 원인을 분석하고 해독제를 만든다.', {naturalist:16, logical:14}),
      opt('🤝 마을 사람들을 조직하여, 위생 규칙을 만들고 함께 전염병에 맞선다.', {interpersonal:16, logical:10}),
      opt('✨ 치유 마법을 사용해 아픈 사람들을 직접 치료한다.', {bodily:14, intrapersonal:8}),
      opt('🎶 전염병을 물리치는 주술적인 노래를 만들어, 백성들에게 희망을 준다.', {musical:14, linguistic:10})
    ),
    q("어둠의 마법사", "마을의 평화를 위협하는 어둠의 마법사가 나타났다. 어떻게 이 마법사를 막을까?",
      opt('⚔️ 강력한 공격 마법으로 마법사와 직접 맞서 싸운다.', {bodily:16, logical:12}),
      opt('🧠 마법사의 마법 패턴을 분석하여, 그가 사용하는 마법의 약점을 찾아낸다.', {logical:16, linguistic:14}),
      opt('🗣️ 마법사에게 평화를 제안하며, 대화를 통해 갈등을 해결하려 한다.', {interpersonal:16, linguistic:12}),
      opt('🧘‍♀️ 나의 내면의 빛을 이용해 어둠의 마법을 정화시킨다.', {intrapersonal:16, naturalistic:10})
    ),
    q("신비한 짐승", "숲속에서 신비한 짐승을 만났다. 어떻게 이 짐승과 교감할까?",
      opt('🌳 짐승의 생태와 행동을 관찰하며, 그들의 언어를 이해하려 한다.', {naturalist:16, linguistic:12}),
      opt('🎵 짐승이 좋아하는 멜로디를 연주하여, 친근함을 표현한다.', {musical:14, intrapersonal:8}),
      opt('🤝 짐승에게 먼저 다가가, 먹이를 주거나 손을 내밀어 교감한다.', {interpersonal:14, bodily:10}),
      opt('🗺️ 짐승의 서식지와 이동 경로를 지도에 표시하고, 짐승의 행동을 예측한다.', {spatial:12, logical:10})
    ),
    q("결계의 힘", "왕국을 지키는 고대의 결계가 약해지고 있다. 어떻게 결계를 복구할까?",
      opt('✨ 결계를 구성하는 마법의 방정식을 분석하여, 완벽한 복구 방법을 찾아낸다.', {logical:16, spatial:12}),
      opt('✍️ 결계를 복구하기 위한 새로운 주문을 창조한다.', {linguistic:14, musical:10}),
      opt('🌿 결계와 연결된 자연의 힘을 찾아내, 자연의 에너지를 이용한다.', {naturalist:16, bodily:12}),
      opt('🤝 왕국의 모든 마법사들을 모아, 힘을 합쳐 결계를 복구한다.', {interpersonal:16})
    ),
    q("고대 유적", "오래된 유적지에서 고대 마법사들이 남긴 기록을 발견했다. 어떻게 이 기록을 활용할까?",
      opt('📚 기록을 해독하여, 잊혀진 마법 지식들을 나의 마법에 접목시킨다.', {linguistic:16, logical:14}),
      opt('🎨 기록에 묘사된 유적의 모습을 바탕으로, 고대 마법사들의 문화를 재현한다.', {spatial:14, musical:12}),
      opt('🧘‍♀️ 기록을 통해 고대 마법사들의 마음가짐과 철학을 이해하려 한다.', {intrapersonal:16, linguistic:12}),
      opt('🗣️ 기록의 내용을 백성들에게 알리고, 고대 마법의 지혜를 공유한다.', {interpersonal:14})
    ),
    q("마법의 재료", "강력한 마법을 만들려면 희귀한 재료가 필요하다. 어떻게 이 재료를 얻을까?",
      opt('🗺️ 재료가 자라는 특정 지역의 지도를 그려, 정확한 위치를 찾아낸다.', {spatial:16, naturalist:12}),
      opt('💰 시장의 상인들과 거래하여, 재료를 공정하게 구매한다.', {interpersonal:14, logical:8}),
      opt('🌳 숲속을 직접 탐험하며, 자연 속에서 재료를 찾아낸다.', {bodily:14, naturalist:14}),
      opt('🎶 재료를 유혹하는 마법의 노래를 만들어, 재료를 얻는다.', {musical:16, linguistic:10})
    ),
    q("현자의 선택", "모든 난관을 극복하고, 현자의 시험대에 올랐다. '가장 위대한 마법은 무엇인가?' 당신의 답은?",
      opt('💖 '타인의 아픔을 치유하고, 모두에게 행복을 가져다주는 마법입니다.'라고 답한다.', {interpersonal:16}),
      opt('🧠 '세상의 진리를 밝혀내고, 미지의 영역을 탐구하는 지식의 마법입니다.'라고 답한다.', {logical:16}),
      opt('🎵 '사람들의 마음을 움직이고, 영혼을 풍요롭게 하는 음악의 마법입니다.'라고 답한다.', {musical:16}),
      opt('🌳 '자연과 인간이 조화를 이루게 하는 평화의 마법입니다.'라고 답한다.', {naturalist:16})
    ),
    q("전설의 마법사", "모든 시험을 통과한 당신은 '전설의 마법사'가 되었다. 어떻게 남은 삶을 보낼까?",
      opt('🧙‍♂️ 새로운 제자들을 키워, 나의 지혜와 마법을 후대에 전수한다.', {interpersonal:14, logical:10}),
      opt('🧘‍♀️ 깊은 산속으로 들어가, 자연과 하나 되어 나 자신을 완성한다.', {intrapersonal:16, naturalist:14}),
      opt('🗺️ 미지의 땅을 탐험하며, 새로운 마법과 지식을 찾아 나선다.', {spatial:16, bodily:14}),
      opt('🎨 나의 마법으로 아름다운 예술 작품을 창조하여, 세상을 풍요롭게 한다.', {musical:14, linguistic:12})
    ),
    q("마법의 유산", "당신이 남길 가장 중요한 유산은 무엇일까?",
      opt('📜 나의 마법 지식과 철학을 담은 마법서를 남겨, 후대 마법사들의 길잡이가 된다.', {linguistic:16, logical:14}),
      opt('💖 사람들을 돕기 위해 만든 수많은 마법 아이템을 남긴다.', {interpersonal:16, bodily:12}),
      opt('🌳 자연과 조화를 이루는 마법 정원을 만들어, 평화의 상징으로 남긴다.', {naturalist:16, spatial:12}),
      opt('🎵 사람들의 마음을 치유하는 아름다운 마법의 음악을 남긴다.', {musical:16, intrapersonal:14})
    ),
    q("마법의 시대", "당신의 노력 덕분에 왕국은 마법이 꽃피는 시대가 되었다. 어떻게 이 시대를 이끌어갈까?",
      opt('💡 새로운 마법 기술을 개발하고 보급하여, 백성들의 삶을 편리하게 만든다.', {logical:16, spatial:14}),
      opt('🤝 마법사들과 인간이 서로 이해하고 돕는 사회를 만든다.', {interpersonal:16, linguistic:12}),
      opt('🔮 모든 마법사들이 자신의 내면을 깊이 이해하고 성장하도록 돕는다.', {intrapersonal:16, interpersonal:12}),
      opt('🎨 마법을 예술과 결합하여, 새로운 문화적 황금기를 이끈다.', {musical:14, linguistic:12})
    )
  ]
};

// 기능 코드
let currentQuest = null;

function showQuest() {
    if (!questLine || currentQuestIndex >= questLine.length) {
        showResult();
        return;
    }

    currentQuest = questLine[currentQuestIndex];
    el('quest-title').innerHTML = currentQuest.title;
    el('quest-text').innerHTML = currentQuest.text;

    const optionsRoot = el('options');
    optionsRoot.innerHTML = '';
    currentQuest.options.forEach(option => {
        const optionDiv = document.createElement('div');
        optionDiv.className = 'option';
        optionDiv.innerHTML = `<span class="label">${option.t}</span>`;
        optionDiv.addEventListener('click', () => {
            handleChoice(option.e);
        });
        optionsRoot.appendChild(optionDiv);
    });
}

function handleChoice(effects) {
    sounds.turn.play();
    for (const key in effects) {
        if (scores.hasOwnProperty(key)) {
            scores[key] += effects[key];
        }
    }
    currentQuestIndex++;
    updateStats();
    showQuest();
}

function updateStats() {
    const root = el('stats');
    if (el('stats-panel').style.display === 'none') {
        el('stats-panel').style.display = 'block';
    }
    root.innerHTML = '';
    const entries = Object.entries(scores).sort((a, b) => b[1] - a[1]);
    entries.forEach(([k, score]) => {
        const box = document.createElement('div');
        box.className = 'stat';
        box.innerHTML = `
            <div style="font-weight:bold;color:var(--gold)">${mapNamesForStats[k]}</div>
            <div class="bar"><div class="bar-inner" style="width:${score}%;background-color:var(--gold)"></div></div>
        `;
        root.appendChild(box);
    });
}

function showResult() {
    el('game-area').style.display = 'none';
    el('stats-panel').style.display = 'none';
    el('result-area').style.display = 'block';

    const entries = Object.entries(scores).sort((a,b)=>b[1]-a[1]);
    const top1 = entries[0][0];
    const top2 = entries[1][0];
    
    const resultHTML = `
        <h3>📜 모험의 결과</h3>
        <p><strong>${player.name}</strong>(${player.class})님은<br><strong>${mapNames[top1]}</strong>와 <strong>${mapNames[top2]}</strong>을(를) 기반으로 하는 능력이 뛰어납니다. 
        <br>고대의 부름에 응답하여 당신이 찾아낸 능력은<br>
        <br><strong>1위: ${mapNames[top1]}</strong><br>
        <strong>2위: ${mapNames[top2]}</strong><br>
        <br>당신의 여정은 이제 시작입니다. 이 결과를 바탕으로 당신의 강점을 더욱 발전시켜 보세요!</p>
    `;
    el('result-content').innerHTML = resultHTML;
}

function restartGame() {
    el('pre-game').style.display = 'block';
    el('game-area').style.display = 'none';
    el('stats-panel').style.display = 'none';
    el('result-area').style.display = 'none';
    el('input-name').value = '';
    el('input-class').value = '';
    document.querySelectorAll('.char').forEach(char => char.classList.remove('selected'));
    player.companion = null;
    checkStartButton(); // 재시작 후에도 버튼 상태 확인
}

// 이벤트 리스너
el('btn-start').addEventListener('click', startGame);
el('btn-restart').addEventListener('click', restartGame);

// 초기화 함수
function checkStartButton() {
    if (el('input-name').value.trim() && el('input-class').value.trim() && selectedChar) {
        el('btn-start').disabled = false;
    } else {
        el('btn-start').disabled = true;
    }
}

// 게임 시작 함수
function startGame() {
    player.name = el('input-name').value.trim();
    player.class = el('input-class').value.trim();
    player.companion = selectedChar;

    if (!player.name || !player.class || !player.companion) {
        alert("이름, 소속, 동료를 모두 입력/선택해야 합니다!");
        return;
    }
    
    // 이전 게임 상태 초기화
    for (const key in scores) {
        scores[key] = 0;
    }
    currentQuestIndex = 0;

    el('pre-game').style.display = 'none';
    el('game-area').style.display = 'block';
    el('stats-panel').style.display = 'block';

    questLine = quests[player.companion];
    updateStats();
    showQuest();
}
</script>
</body>
</html>
